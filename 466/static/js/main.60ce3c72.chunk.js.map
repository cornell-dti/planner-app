{"version":3,"sources":["components/Util/TaskEditors/TaskEditor/index.module.css","components/TitleBar/Canvas/CanvasCalendar.module.css","components/TitleBar/Settings/SettingsButton.module.css","components/GroupView/MiddleBar/People/index.module.scss","components/TitleBar/Settings/SettingsPage.module.css","components/UI/OverdueAlert.module.css","components/Util/TaskEditors/TaskEditor/RepeatFrequencyHeader.module.css","components/Util/TaskEditors/FloatingTaskEditor.module.css","components/TaskView/FutureView/FutureViewDayTaskContainer.module.css","components/TaskView/FutureView/FutureViewNDays.module.css","components/TaskCreator/Picker.module.css","components/TaskView/FutureView/FutureViewTask.module.css","components/TaskView/FutureView/FutureViewControl.module.scss","components/TitleBar/Onboarding/Onboard.module.scss","components/UI/ModeIndicator.module.css","components/SideBar/GroupIcon.module.scss","components/GroupView/index.module.scss","components/Util/AppInit/Login.module.css","assets/tutorial/t1.png","assets/tutorial/t2.png","assets/tutorial/t3.png","assets/tutorial/t4.png","assets/tutorial/t5.png","assets/tutorial/t6.png","components/Util/TagListPicker/TagListPicker.module.css","components/TaskView/FocusView/FocusTask.module.css","components/TaskView/FutureView/FutureViewSevenColumns.module.css","assets/bear/happy-bear.png","assets/bear/regular-bear.png","components/TaskView/ProgressTracker/Bear.module.css","assets/error/frontendCrash.png","assets/splash/wordmark.png","assets/splash/header_final.png","assets/splash/samwise_logo.svg","assets/splash/splash_top_image.svg","assets/splash/splash_peak_bear.svg","assets/splash/blue.svg","assets/splash/screenshot.png","assets/splash/splash_mid_image.svg","assets/splash/feature1.svg","assets/splash/feature2.svg","assets/splash/feature3.svg","assets/splash/heart_logo.svg","assets/splash/link_logo.svg","components/TaskView/index.module.css","components/TitleBar/Tags/TagItem.module.css","components/UI/SquareButtons.module.scss","components/TaskView/FutureView/FutureViewDay.module.scss","components/TaskCreator/index.module.css","../../common/lib/util/general-util.js","../../common/lib/util/tag-util.js","store/state.ts","store/reducers.ts","store/store.ts","store/index.tsx","components/UI/ModeIndicator.tsx","util/mode-util.ts","assets/svgs/alert.svg","assets/svgs/calendar-dark.svg","assets/svgs/calendar-light.svg","assets/svgs/checked-dark.svg","assets/svgs/checked.svg","assets/svgs/clock.svg","assets/svgs/grabbers.svg","assets/svgs/hide.svg","assets/svgs/hug.svg","assets/svgs/personal-view.svg","assets/svgs/pin-2-dark-filled.svg","assets/svgs/pin-2-dark-outline.svg","assets/svgs/pin-2-light-filled.svg","assets/svgs/pin-2-light-outline.svg","assets/svgs/poke.svg","assets/svgs/repeat.svg","assets/svgs/repeat-light.svg","assets/svgs/settings.svg","assets/svgs/show.svg","assets/svgs/tag.svg","assets/svgs/unchecked.svg","assets/svgs/v.svg","assets/svgs/XDark.svg","assets/svgs/XLight.svg","assets/svgs/repeat-frequency.svg","components/UI/SamwiseIcon.tsx","components/SideBar/GroupIcon.tsx","components/SideBar/index.tsx","components/GroupView/MiddleBar/People/Member.tsx","components/GroupView/MiddleBar/People/index.tsx","components/GroupView/MiddleBar/index.tsx","components/GroupView/index.tsx","../../common/lib/util/bitwise-util.js","../../common/lib/util/task-util.js","components/TitleBar/Banner/messages.ts","store/selectors.ts","components/Popup/AllComplete/index.tsx","components/TitleBar/Tags/ListColors.ts","components/TitleBar/Tags/ColorEditor.tsx","../../common/lib/firebase/order-manager.js","../../common/lib/firebase/common-actions.js","util/ga-util.ts","firebase/auth-util.ts","firebase/db.ts","../../common/lib/firebase/database.js","firebase/id-provider.ts","firebase/actions.ts","components/TitleBar/Tags/TagItem.tsx","components/Util/SearchBox/DropdownItem.tsx","components/Util/SearchBox/index.tsx","components/TitleBar/Tags/rotation-color-picker.ts","components/TitleBar/Tags/ClassTagAdder.tsx","components/TitleBar/Onboarding/Onboard.tsx","../../common/lib/util/datetime-util.js","components/Util/TagListPicker/TagPickerItem.tsx","components/Util/TagListPicker/TagListPicker.tsx","components/TaskCreator/TagPicker.tsx","hooks/time-hook.ts","../../common/lib/util/const-util.js","components/TaskCreator/DatePicker.tsx","components/TaskCreator/FocusPicker.tsx","components/TaskCreator/index.tsx","hooks/window-size-hook.ts","../../common/lib/util/order-util.js","components/UI/SquareTextButton.tsx","components/TaskView/FocusView/ClearFocus.tsx","components/TaskView/FocusView/CompletedSeparator.tsx","components/Util/Modals/ChoiceModal.tsx","components/Util/Modals/index.tsx","util/task-util.ts","components/UI/OverdueAlert.tsx","components/Util/TaskEditors/TaskEditor/RepeatFrequencyHeader.tsx","components/Util/TaskEditors/TaskEditor/EditorHeader.tsx","components/UI/CheckBox.tsx","components/Util/TaskEditors/TaskEditor/MainTaskEditor.tsx","components/Util/TaskEditors/TaskEditor/NewSubTaskEditor.tsx","components/Util/TaskEditors/TaskEditor/OneSubTaskEditor.tsx","components/Util/TaskEditors/TaskEditor/task-diff-reducer.ts","components/Util/TaskEditors/TaskEditor/index.tsx","components/Util/TaskEditors/InlineTaskEditor.tsx","components/TaskView/FocusView/FocusTask.tsx","components/TaskView/FocusView/index.tsx","components/UI/SquareIconToggle.tsx","components/TaskView/FutureView/FutureViewControl.tsx","components/Util/TaskEditors/FloatingTaskEditor.tsx","components/TaskView/FutureView/FutureViewSubTask.tsx","components/TaskView/FutureView/FutureViewTask.tsx","components/TaskView/FutureView/FutureViewDayTaskContainer.tsx","components/TaskView/FutureView/FutureViewDayContent.tsx","components/TaskView/FutureView/FutureViewDay.tsx","components/TaskView/FutureView/FutureViewNDays.tsx","components/TaskView/FutureView/FutureViewSevenColumns.tsx","components/TaskView/FutureView/index.tsx","components/TaskView/ProgressTracker/Bear.tsx","components/TaskView/ProgressTracker/ProgressIndicator.tsx","components/TaskView/ProgressTracker/index.tsx","components/TaskView/index.tsx","components/TitleBar/Banner/index.tsx","components/TitleBar/Tags/OtherTagAdder.tsx","components/TitleBar/Canvas/CanvasCalendar.tsx","components/TitleBar/Settings/SettingsPage.tsx","components/TitleBar/Settings/SettingsButton.tsx","components/TitleBar/index.tsx","firebase/index.ts","util/gate-keeper.ts","App.tsx","components/Util/ErrorBoundary/index.tsx","store/actions.ts","firebase/listeners.ts","../../common/lib/util/courses-util.js","components/Util/AppInit/LoginBarrier.tsx","serviceWorker.ts","index.tsx","components/TaskView/FocusView/index.module.css","components/TaskView/FocusView/CompletedSeparator.module.scss","components/TaskView/ProgressTracker/ProgressIndicator.module.scss","components/TaskCreator/DatePicker.module.css","components/Util/Modals/ChoiceModal.module.css","components/GroupView/MiddleBar/People/Member.module.scss","App.module.css","components/Popup/AllComplete/Celebrate.module.css","components/TitleBar/Tags/ColorEditor.module.css","components/TitleBar/Tags/TagAdder.module.css","components/UI/CheckBox.module.css","components/TaskView/ProgressTracker/index.module.css","components/TitleBar/index.module.css","components/SideBar/index.module.scss","components/TitleBar/Banner/index.module.css"],"names":["module","exports","ignore","error","message","Error","shallowEqual","a","b","aKeys","Object","keys","bKeys","l","length","i","aKey","bKey","NONE_TAG_ID","NONE_TAG","id","order","name","color","classId","initialState","tags","Map","tasks","missingSubTasks","orphanSubTasks","dateTaskMap","repeatedTaskSet","Set","settings","canvasCalendar","completedOnboarding","theme","bannerMessageStatus","courses","initialStateForTesting","foo","tag","complete","inFocus","children","metadata","type","date","Date","bar","baz","toDateString","CS2112","courseId","subject","courseNumber","title","examTimes","time","patchTags","state","created","edited","deleted","newTags","withMutations","forEach","t","set","delete","normalizeTaskChildrenOrder","task","sort","patchTasks","newDateTaskMap","m","key","get","of","add","oldTask","oldKey","oldBucket","remove","newRepeatedTaskSet","s","missingSubTasksMap","orphanSubTasksToClear","newTasks","unfoldSubTasks","taskId","subTaskIds","existingSubTasks","newIdSet","unfolded","subTask","has","push","orphanSubTask","dirtyMainTaskIds","createdMainTask","mainTaskRest","updatedChildren","mainTask","editedMainTask","mainTaskId","update","updatedMissingSubTasks","map","subTaskId","updatedOrphanSubTasks","deleteAll","patchSubTasks","existingSubTaskToTaskMap","Array","from","entries","missingSubTaskToClear","newOrphanSubTasks","updatedTasks","mutableTaskMap","createdSubTask","editedSubTask","deletedSubTaskId","filter","mutableOrphanSubTasks","patchSettings","patchBannerMessageStatus","change","patchCourses","rootReducer","action","store","createStore","Provider","ConfigurableModeIndicator","mode","className","styles","Indicator","_extends","assign","target","arguments","source","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","createElement","fill","fillRule","cx","cy","r","stroke","strokeWidth","strokeLinejoin","d","_ref","svgRef","props","viewBox","ref","ForwardRef","forwardRef","x","y","width","height","rx","strokeLinecap","opacity","clipPath","mask","vectorEffect","style","isolation","transform","xlinkHref","SamwiseIcon","SvgComponent","altText","iconName","otherProps","Alert","CalendarDark","CalendarLight","CheckedDark","CheckedLight","Clock","Grabber","Hide","Hug","PersonalView","PinDarkFilled","PinDarkOutline","PinLightFilled","PinLightOutline","Poke","Repeat","RepeatLight","Settings","Show","Tag","Unchecked","DropDown","XDark","XLight","RepeatFrequency","allPropsToSvg","alt","tabIndex","onKeyUp","e","stopPropagation","onClick","defaultProps","undefined","groupName","handleClick","GroupIcon","groups","changeView","SideBar","PersonalViewButton","g","PlusIcon","icon","faPlus","memberName","initials","split","charAt","Member","Initials","MemberIcon","groupMemberNames","People","AddMember","MiddleBar","isBitSet","bit","totalLen","unsetDayOfWeek","index","unsetBit","isDayOfWeekSet","__rest","p","getFilteredNotCompletedInFocusTask","rest","newSubTasks","getFilteredCompletedInFocusTask","dateMatchRepeatPattern","pattern","bitSet","getDay","getDate","dateMatchRepeats","startDate","endDate","forks","dateString","some","replaceDate","repeatCount","passedRepeats","currentDate","setDate","messages","messageIdCollection","findMessageToDisplay","status","messageId","createSetEqualSelector","createSelectorCreator","defaultMemoize","equals","getTasks","getDateTaskMap","getRepeatedTaskSet","getOrderedTags","createSelector","values","getTasksInFocus","createGetIdOrderListByDateSelectors","ids","toArray","getProgress","inFocusTasks","completedTasksCount","allTasksCount","reduce","acc","getFocusViewProps","progress","taskMetaDataList","filteredUncompletedTask","filteredCompletedTask","inFocusView","inCompleteFocusView","getBannerMessage","Connected","connect","React","useState","setProgress","percent","shouldShow","showClass","Main","Hidden","ConfWrap","active","config","angle","spread","startVelocity","elementCount","dragFriction","duration","delay","colors","colMap","colArray","ColorEditor","onChange","doesShowEditor","setDoesShowEditor","ColorEdit","toLowerCase","ColorDisplay","backgroundColor","Arrow","ColorPicker","onChangeComplete","hex","triangle","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","rejected","result","done","then","OrderManager","database","getUserEmail","allocateNewOrder","orderFor","count","orderManagerCollection","doc","forTags","db","runTransaction","transaction","docInTransaction","exists","newManager","tagsMaxOrder","tasksMaxOrder","manager","data","newOrder","reportEvent","eventType","firebase","analytics","logEvent","reportAddTagEvent","reportEditTagEvent","reportDeleteTagEvent","reportAddSubTaskEvent","reportEditSubTaskEvent","reportDeleteSubTaskEvent","firebaseUser","uid","displayName","email","getIdToken","token","appUser","getAppUser","firebaseSignOut","auth","signOut","firestore","collection","settingsCollection","bannerMessageStatusCollection","tagsCollection","tasksCollection","subTasksCollection","getNewTaskId","actions","createFirestoreObject","orderManager","owner","addTag","firebaseTag","editTag","removeTag","where","batch","docs","commit","mergeWithOwner","obj","getState","asyncAddTask","newTaskId","subTasks","baseTask","createdSubTasks","subtask","firebaseSubTask","subtaskDoc","subtaskIds","firestoreTask","addTask","removeAllForks","forkIds","fork","forkId","forkedTask","handleTaskDiffs","subTaskCreations","subTaskEdits","subTaskDeletions","mainTaskEdits","size","newSubTaskDoc","FieldValue","arrayUnion","partialSubTask","arrayRemove","editTaskWithDiff","editType","forkTaskWithDiff","repeatingTaskMaster","originalTaskWithoutId","newMainTask","subTaskContent","subTaskEdit","removeTask","repeatedTaskId","repeatedTask","oldForks","needUpdateFork","newForks","editMainTask","diff","dateEdit","newDiff","editSubTask","subtaskId","applyReorder","reorderMap","completeOnboarding","setCanvasCalendar","importCourseExams","allCoursesWithId","course","courseType","examName","getFullYear","getMonth","getHours","newTask","startOrder","newOrderedTasks","transformedTask","alert","TagItem","isClass","nameSplit","nameNode","display","TagName","ClassExpandedTitle","trim","currentTarget","TagEdit","ColorConfigItem","DeleteTag","confirm","item","onSelect","placeholder","fuse","inputClassname","dropdownItemClassName","searchInput","searchResults","setState","onResultSelected","event","input","newResults","search","DropdownItem","allAvailableColors","colorMap","getUnusedColor","usedColorSet","find","c","getUnusedColorForTesting","fuseConfigs","location","threshold","distance","Memoized","memo","TagColorConfigItemAdder","SearchClasses","SearchBox","SearchInput","option","Fuse","courseMap","courseOptions","noSpaceName","replace","getCourseOptions","taggedImages","src","Tutorial1","Tutorial2","Tutorial3","Tutorial4","Tutorial5","Tutorial6","AddClassOnBoarding","classTags","showNext","addExam","setAddExam","padding","HeroIntroText","SettingsSection","SettingsSectionContent","ColorConfigItemList","ImportExamContainer","htmlFor","checked","SignButtonContainer","Padding","SignButton","SlidesOnBoarding","goBack","skipTutorial","nextButtonRef","useRef","useEffect","buttonDOM","current","focus","ModalWrap","TutorialModal","TutorialImg","ModalOptions","marginRight","prev","onboardingContainerStyle","overflowY","background","Hero","shouldImport","date2String","toLocaleDateString","month","day","getTodayAtZeroAM","setHours","getDateWithDateString","newDate","dateInfo","setFullYear","setMonth","TagPickerItem","onTagChange","items","slice","localeCompare","NewTaskClass","getTag","opened","onPickerOpened","clickPicker","pressedPicker","reset","isDefault","internal","CenterIcon","TagDisplay","ResetButton","role","onKeyPress","Label","displayedNode","NewTaskClassPick","currentTime","getTime","testTime","handlers","setInterval","handler","useDate","currentDateString","setCurrentDateString","newTime","newTimeDateString","useTodayLastSecondTime","LAST_DAY_OF_CLASS","LAST_DAY_OF_EXAMS","weekDays","DatePicker","datePicked","onDateChange","onClearPicker","todayFirstSecond","useTodayFirstSecondTime","todayLastSecond","checkedWeeks","calOpened","repeatEnd","weeks","internalDate","setInternalDate","handleClickWeekday","val","parseInt","setBit","weekdayPickers","isDaySet","handleClickEnd","newType","testSetEndSem","endPicker","dateStyles","SubtleBtn","minDate","calendarType","RepeatSpecialEndDate","min","max","openedRepeat","RepeatOpened","RepeatPickDayWrap","RepeatPickEndWrap","EndPicker","DateDisplay","RepeatIcon","bitset","currDay","genNextValidDay","NewTaskDatePick","SelectTypeWrap","SelectType","toString","isArray","NewTaskDateSave","oneDay","getDateAfterXWeeks","FocusPicker","pinned","onPinChange","pinIconName","String","tagPickerOpened","datePickerOpened","needToSwitchFocus","TaskCreator","darkModeStyle","openNewTask","closeNewTask","openTagPicker","openDatePicker","focusTaskName","handleSave","preventDefault","autoInFocus","today","isToday","commonTask","setMinutes","setSeconds","blur","editTaskName","editDate","Boolean","clearDate","togglePin","addNewSubTask","newSubTaskName","newSubTaskKeyPress","submitSubTask","deleteSubTask","resetTask","NewTaskActive","TagPickWrap","SubmitNewTask","faArrowAltCircleRight","NewTaskModal","arr","inputElementRef","onKeyDown","toggleDisplayStyle","CloseNewTask","NewTaskWrap","onSubmit","onFocus","required","NewTaskComponent","renderOtherInfoEditor","PureComponent","getWindowSize","window","innerWidth","innerHeight","cachedWindowSize","hasUnreportedChange","listeners","listenerSize","bindListener","listener","useWindowSizeCallback","setSize","useMappedWindowSize","f","mappedValue","setMappedValue","windowSize","newMappedValue","addEventListener","newSize","computeReorderMap","originalList","sourceOrder","destinationOrder","list","testSorted","orders","testOrderUnique","element","getReorderedList","sortedList","SquareButton","SquareButtonTextButton","join","SquareTextButton","text","SquareButtonText","taskIds","clearFocus","notInverted","doesShowCompletedTasks","onDoesShowCompletedTasksChange","Separator","Text","Icon","Inverted","Line","ChoiceModal","open","choices","onChoicePick","isOpen","contentLabel","TextContainer","ButtonContainer","Filler","ChoiceButton","dummyChoiceModalProps","currentChoiceModalSetter","promptChoice","choiceModalProps","pickedChoice","confirmCancelChoices","CANCEL","CONFIRM","promptConfirm","ModalsContainer","setChoiceModalProps","repeatedTaskEditChoices","CANCEL_CHANGES","CHANGE_MASTER_TEMPLATE","FORK","repeatedTaskEditMasterConfirm","removeTaskFullChoices","CANCEL_REMOVE","REMOVE_ALL","REMOVE_ONE","removeTaskPartialChoices","removeRepeatingTask","prompt","removeOneRepeatedTask","removeTaskWithPotentialPrompt","confirmed","removeOneTimeTask","OverdueAlert","OverdueAlertInTaskCard","OverdueAlertInFutureView","absolutePosition","arrOfWeeks","getRepeatedDays","frequency","binary","DAYS_IN_WEEK","bitsetToBinaryCount","patternType","patternTypeToString","repeatedDays","binaryFrequency","Math","round","reverse","getRepeatingPattern","repeatedTaskIds","repeatingTask","j","Header","calendarIconClass","TaskEditorIconButton","TaskEditorIcon","EditorHeader","displayGrabber","calendarPosition","icalUID","doesShowTagEditor","doesShowDateEditor","editorDisplayStatus","setEditorDisplayStatus","headerClassName","TaskEditorFlexibleContainer","TaskEditorHeader","tagDisplay","TaskEditorTag","tagEditor","TaskEditorTagEditor","dateDisplay","dateEditor","TaskEditorCalendarTop","TaskEditorCalendarBottom","isCanvasTask","TaskEditorGrabberIcon","TaskEditorFlexiblePadding","CheckBox","disabled","inverted","allClassNames","InvertedCheckBox","defaultChecked","CheckBoxCheckMark","deleteIconClass","TaskEditorIconLeftPad","taskDate","dateAppeared","onRemove","onPressEnter","replaceDateForFork","TaskEditorCheckBox","data-lpignore","TaskEditorStrikethrough","TaskEditorFlexibleInput","newValue","NewSubTaskEditor","onFirstType","needToBeFocused","editorRef","currentElement","newSubTaskValue","TaskEditorSubtaskCheckBox","mainTaskComplete","editThisSubTask","removeSubTask","onBlur","onMouseLeave","curr","emptyDiff","diffIsEmpty","initializer","prevFullTask","reducer","restState","newSubTask","prevChange","useTaskDiffReducer","initMainTask","initSubTasks","useReducer","dispatch","shallowArrayEqual","dispatchEditMainTask","dispatchAddSubTask","dispatchEditSubTask","dispatchDeleteSubTask","taskAppearedDate","newSubTaskAutoFocused","onSaveClicked","subTaskToFocus","setSubTaskToFocus","onSave","useCallback","saveChoice","correctDate","diffForFork","onSaveButtonClicked","pressEnterHandler","caller","focused","subtaskOrder","isOverdue","formStyle","border","actualClassName","TaskEditor","intervalID","clearInterval","onMouseEnter","TaskEditorSubTasksIndentedContainer","SubtaskHide","maxHeight","firstTypedValue","SaveButtonRow","SaveButton","SaveButtonText","InlineTaskEditor","original","filtered","setDisabled","filterCompleted","draggableId","provided","innerRef","draggableProps","dragHandleProps","FocusTask","renderTaskList","localTasks","setLocalTasks","setDoesShowCompletedTasks","localCompletedList","localUncompletedList","idOrder","FocusView","ControlBlock","Title","FocusTaskContainer","onDragEnd","destination","droppableId","dest","completedTaskIdOrder","taskReplacer","prevTasks","completedList","newCompletedList","completeTaskInFocus","droppableProps","Droppable","CompletedSeparator","SquareIconToggle","iconNames","onToggle","activeIconName","inactiveIconName","SquareButtonIconButton","ControlPadding","getMonthlyViewHeaderTitle","monthOffset","year","getBiWeeklyViewHeaderTitle","biweeklyOffset","startString","endString","NavControl","containerType","futureViewOffset","changeOffset","isSmallScreen","prevHandler","nextHandler","prevStyle","left","nextStyle","right","NavButtonPrev","NavButtonNDays","NavButtonNext","DisplayOptionControl","nDays","displayOption","offset","renderContainerTypeSwitcherButton","ContainerTypeSwitcherButton","ContainerTypeSwitcherActiveButton","newContainerType","dayOffset","newOffset","floor","switchContainerType","ContainerTypeSwitcherButtonText","faEyeSlash","faEye","ContainerTypeSwitcher","FutureViewControl","todayTime","instruction","updateFloatingEditorPosition","editorPosDiv","position","taskElement","previousElementSibling","HTMLDivElement","taskElementBoundingRect","getBoundingClientRect","DOMRect","posTop","posLeft","posRight","myHeight","offsetHeight","windowWidth","windowHeight","top","FloatingTaskEditor","initialTask","trigger","setOpen","closePopup","Editor","BackgroundBlocker","mainTaskCompleted","SubTask","SubTaskCheckBox","TaskText","textDecoration","TaskIcon","getCompoundTask","filteredSubTasks","ownProps","compoundTask","containerDate","inNDaysView","taskEditorPosition","isInMainList","canvasLinked","replaceDateForForkOpt","TaskCheckBox","TaskName","tagStyle","RemoveTaskIcon","Placeholder","hide","PinIcon","RepeatingIcon","TaskIconNoHover","renderMainTaskInfo","simplified","TaskMainWrapper","overdueComponentOpt","opener","onClickHandler","HTMLElement","getOnClickHandler","zIndex","mainTasks","subtasks","Task","isDragDisabled","existingSelector","selector","dateObj","idOrderList","createGetIdOrderListByDate","onHeightChange","containerRef","prevHeights","setPrevHeights","containerNode","tasksHeight","scrollHeight","containerHeight","clientHeight","prevTasksHeight","prevContainerHeight","overflowThreshold","document","documentElement","taskListComponent","Container","inMainList","containerStyle","paddingTop","DateInfo","DateInfoDay","day2String","DateNum","dummyHeightInfo","doesOverflow","wrapperCssClass","heightInfo","setHeightInfo","componentDivRef","darkModeStyles","NDaysView","Today","OtherViews","FutureViewNDays","days","gridTemplateColumns","Column","interval","styleString","numRows","ceil","templateStyleString","gridStyle","gridTemplateRows","FutureViewSevenColumns","futureViewConfigProvider","buildDaysInFutureView","hasAdditionalDays","computeStartAndEndDay","simpleDate","FutureView","onConfigChange","daysContainer","dayTaskSet","inMobileView","backgroundImage","HappyBear","RegularBear","margin","Bear","ProgressBar","percentage","marginLeft","marginBottom","innerStyle","ProgressBarContainer","ProgressBarIndicator","ProgressIndicator","flexDirection","textStyle","fractionString","ProgressText","ProgressCountText","ProgressOtherText","mobileViewStyle","ProgressTracker","MobileView","desktopViewStyle","DesktopView","containerClass","FocusPanel","classNames","names","doesShowFocusViewInWideScreen","setDoesShowFocusViewInWideScreen","doesShowFutureViewInSmallScreen","setDoesShowFutureViewInSmallScreen","setConfig","screenIsSmall","toggleFocusViewInWideScreen","switchView","FuturePanel","FuturePanelContainer","showFocusView","taskView","TaskView","ViewSwitcher","wrapperStyle","buttonStyle","faChevronLeft","faChevronRight","iconClass","FocusViewToggleIconFocusViewShow","FocusViewToggleIconFocusViewHide","FocusViewToggleWrapper","FocusViewToggle","Banner","DismissButton","bannerMessageId","isRead","docRef","readBannerMessage","OtherTagAdder","editColor","editName","AddTagName","linked","setInput","settingStyles","SettingsSectionTitle","CalendarForm","SettingsButton","iCalLink","CalendarInput","HelpButton","href","wordBreak","ClassAdder","ExamImporter","TagsContainer","otherTags","renderTags","FinalRowButtonContainer","FinalRowButton","FeedbackButton","rel","ReplayTutorialButton","showSettings","setShowSettings","SettingsModal","CloseButton","ContentWrap","firebaseConfig","setTime","useTime","date2FullDateString","timeString","toLocaleTimeString","hour","minute","Time","Links","GK_GROUP_TASK","GateKeeper","enableGroupTask","localStorage","setItem","disableGroupTask","removeItem","GROUP_TASK_ENABLED","getItem","PersonalMainView","MainView","view","group","GroupView","App","setView","setGroup","ModeIndicator","GroupScreen","selectedView","selectedGroup","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","initializeApp","ErrorBoundary","hasError","ignoreError","info","console","log","FrontendCrash","objectFit","objectPosition","bottom","textAlign","fontSize","transformDate","dateOrTimestamp","toDate","onFirstFetched","firstTagsFetched","firstTasksFetched","firstSubTasksFetched","firstSettingsFetched","firstBannerStatusFetched","reportFirstFetchedIfAllFetched","ownerEmail","unmountTagsListener","snapshot","docChanges","onSnapshot","unmountTasksListener","listenTasksChange","childrenArr","taskCommon","timestamp","oneTimeTaskRest","groupTaskRest","firestoreForks","firestoreRepeats","otherTaskProps","firestoreFork","unmountSubTasksListener","listenSubTasksChange","unmountSettingsListener","listenSettingsChange","unmountBannerStatusListener","listenBannerMessageChange","coursesJson","existingCourses","uiConfig","signInFlow","signInOptions","provider","GoogleAuthProvider","PROVIDER_ID","customParameters","hd","signInSuccessUrl","callbacks","signInSuccessWithAuthResult","hostname","match","screenName","root","getElementById","ReactDOM","render","appRenderer","loginStatus","setLoginStatus","loaded","setLoaded","onAuthStateChanged","user","toAppUser","currentUserFromFirebase","endsWith","setUserId","setGAUser","cacheAppUser","reload","initListeners","loginScreen","Landing","samwiseLogo","LandingHeroWrap","splashTopImage","LandingHeroLogin","splashPeakBear","firebaseAuth","LandingLower","blueCurve","LandingBlue","splashScreenshot","LandingScreenshot","splashMidImage","LandingMidImg","feature1","LandingFeatures","feature2","feature3","logoHeart","logoLink","loadingScreen","Login","LoginSection","LoginWrapper","screenshot","LoginFooter","dtiLogo","Modal","setAppElement","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.60ce3c72.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"TaskEditor\":\"TaskEditor_TaskEditor__3MQkI\",\"TaskEditorHeader\":\"TaskEditor_TaskEditorHeader__3bBkt\",\"TaskEditorFlexibleContainer\":\"TaskEditor_TaskEditorFlexibleContainer__2jamS\",\"TaskEditorFlexiblePadding\":\"TaskEditor_TaskEditorFlexiblePadding__wYTu2\",\"TaskEditorGrabberIcon\":\"TaskEditor_TaskEditorGrabberIcon__28r3q\",\"TaskEditorFlexibleInput\":\"TaskEditor_TaskEditorFlexibleInput__2lGl_\",\"TaskEditorStrikethrough\":\"TaskEditor_TaskEditorStrikethrough__-jCEK\",\"TaskEditorCheckBox\":\"TaskEditor_TaskEditorCheckBox__2ZlsN\",\"TaskEditorSubtaskCheckBox\":\"TaskEditor_TaskEditorSubtaskCheckBox__tiM5l\",\"TaskEditorIcon\":\"TaskEditor_TaskEditorIcon__2TEW0\",\"TaskEditorIconLeftPad\":\"TaskEditor_TaskEditorIconLeftPad__1xaf4\",\"TaskEditorIconButton\":\"TaskEditor_TaskEditorIconButton__m79CR\",\"TaskEditorTag\":\"TaskEditor_TaskEditorTag__1jfam\",\"TaskEditorTagEditor\":\"TaskEditor_TaskEditorTagEditor__KLS2b\",\"TaskEditorCalendarTop\":\"TaskEditor_TaskEditorCalendarTop__TUPIU\",\"TaskEditorCalendarBottom\":\"TaskEditor_TaskEditorCalendarBottom__1NkPP\",\"TaskEditorCalendar\":\"TaskEditor_TaskEditorCalendar__2bGsp\",\"TaskEditorSubTasksIndentedContainer\":\"TaskEditor_TaskEditorSubTasksIndentedContainer__3Fg0y\",\"SubtaskHide\":\"TaskEditor_SubtaskHide__3KmGC\",\"SaveButtonRow\":\"TaskEditor_SaveButtonRow__3rxJs\",\"SaveButton\":\"TaskEditor_SaveButton__2BcZy\",\"SaveButtonText\":\"TaskEditor_SaveButtonText__2DR9G\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"CalendarInput\":\"CanvasCalendar_CalendarInput__32RMx\",\"CalendarForm\":\"CanvasCalendar_CalendarForm__3tlZ9\",\"HelpButton\":\"CanvasCalendar_HelpButton__1nJcU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"CloseButton\":\"SettingsButton_CloseButton__3Uoid\",\"ChangesSaved\":\"SettingsButton_ChangesSaved__KkOsB\",\"SettingsModal\":\"SettingsButton_SettingsModal__3RCCR\",\"SettingsButton\":\"SettingsButton_SettingsButton__3vOeh\",\"ContentWrap\":\"SettingsButton_ContentWrap__20dBn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"People\":\"People_People__1gVGJ\",\"AddMember\":\"People_AddMember__R-ClN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"SettingsSection\":\"SettingsPage_SettingsSection__1IAfx\",\"SettingsSectionTitle\":\"SettingsPage_SettingsSectionTitle__P6uEM\",\"SettingsSectionContent\":\"SettingsPage_SettingsSectionContent__1E2oA\",\"SettingsButton\":\"SettingsPage_SettingsButton__QGusG\",\"FinalRowButtonContainer\":\"SettingsPage_FinalRowButtonContainer__1lsjk\",\"Padding\":\"SettingsPage_Padding__3APmc\",\"FinalRowButton\":\"SettingsPage_FinalRowButton__13X-C\",\"SignButton\":\"SettingsPage_SignButton__2swQW\",\"FeedbackButton\":\"SettingsPage_FeedbackButton__2Xb9M\",\"ReplayTutorialButton\":\"SettingsPage_ReplayTutorialButton__1Db9Q\",\"ColorConfigItemList\":\"SettingsPage_ColorConfigItemList__2FPIm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"OverdueAlertInTaskCard\":\"OverdueAlert_OverdueAlertInTaskCard__3hl-F\",\"OverdueAlertInFutureView\":\"OverdueAlert_OverdueAlertInFutureView__3Mo9H\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Header\":\"RepeatFrequencyHeader_Header__16fdJ\",\"Icon\":\"RepeatFrequencyHeader_Icon__3rVXz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Editor\":\"FloatingTaskEditor_Editor__1-3Ij\",\"BackgroundBlocker\":\"FloatingTaskEditor_BackgroundBlocker__3sXsX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Container\":\"FutureViewDayTaskContainer_Container__1dk4b\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"FutureViewNDays\":\"FutureViewNDays_FutureViewNDays__dWrP9\",\"Column\":\"FutureViewNDays_Column__28dTA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Main\":\"Picker_Main__2riCc\",\"Label\":\"Picker_Label__3Ga-P\",\"HideInput\":\"Picker_HideInput__HLhe3\",\"DateDisplay\":\"Picker_DateDisplay__30ee-\",\"TagDisplay\":\"Picker_TagDisplay__2GMzv\",\"CenterIcon\":\"Picker_CenterIcon__1lmUz\",\"ResetButton\":\"Picker_ResetButton__3vfDt\",\"NewTaskClassPick\":\"Picker_NewTaskClassPick__3P5Pq\",\"NewTaskDatePick\":\"Picker_NewTaskDatePick__1OCwy\",\"NewTaskDateSave\":\"Picker_NewTaskDateSave__17VpU\",\"RepeatOpened\":\"Picker_RepeatOpened__14MsF\",\"RepeatPickDayWrap\":\"Picker_RepeatPickDayWrap__3wQMP\",\"RepeatPickEndWrap\":\"Picker_RepeatPickEndWrap__3kfrv\",\"RepeatSpecialEndDate\":\"Picker_RepeatSpecialEndDate__3uL97\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Task\":\"FutureViewTask_Task__10c3S\",\"TaskMainWrapper\":\"FutureViewTask_TaskMainWrapper__YTquU\",\"SubTask\":\"FutureViewTask_SubTask__RvTiu\",\"TaskCheckBox\":\"FutureViewTask_TaskCheckBox__hQKPT\",\"SubTaskCheckBox\":\"FutureViewTask_SubTaskCheckBox__kbnIW\",\"TaskCheckBoxPlaceHolder\":\"FutureViewTask_TaskCheckBoxPlaceHolder__3Y7Zt\",\"TaskIcon\":\"FutureViewTask_TaskIcon__2jekm\",\"TaskIconNoHover\":\"FutureViewTask_TaskIconNoHover__22Gbg\",\"hide\":\"FutureViewTask_hide__2e8-D\",\"TaskIconPlaceholder\":\"FutureViewTask_TaskIconPlaceholder__1YiFe\",\"TaskText\":\"FutureViewTask_TaskText__4MXNg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"FutureViewControl\":\"FutureViewControl_FutureViewControl__1GmhB\",\"Title\":\"FutureViewControl_Title__3_Kc_\",\"NavButtonPrev\":\"FutureViewControl_NavButtonPrev__2dH_i\",\"NavButtonNext\":\"FutureViewControl_NavButtonNext__1nVQm\",\"NavButtonNDays\":\"FutureViewControl_NavButtonNDays__3vYYD\",\"ControlPadding\":\"FutureViewControl_ControlPadding__3B6ai\",\"ContainerTypeSwitcher\":\"FutureViewControl_ContainerTypeSwitcher__1ST6Z\",\"ContainerTypeSwitcherButton\":\"FutureViewControl_ContainerTypeSwitcherButton__arGAY\",\"ContainerTypeSwitcherButtonText\":\"FutureViewControl_ContainerTypeSwitcherButtonText__3vQhi\",\"ContainerTypeSwitcherActiveButton\":\"FutureViewControl_ContainerTypeSwitcherActiveButton__1TRuZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Hero\":\"Onboard_Hero__qCS60\",\"HeroIntroText\":\"Onboard_HeroIntroText__35hyl\",\"SettingsSection\":\"Onboard_SettingsSection__3xhF9\",\"SettingsSectionTitle\":\"Onboard_SettingsSectionTitle__2R09C\",\"SettingsSectionContent\":\"Onboard_SettingsSectionContent__WCkJ9\",\"SignButtonContainer\":\"Onboard_SignButtonContainer__JWuOw\",\"Padding\":\"Onboard_Padding__1kk25\",\"SignButton\":\"Onboard_SignButton__1-ImC\",\"ColorConfigItemList\":\"Onboard_ColorConfigItemList__21DTr\",\"TutorialImg\":\"Onboard_TutorialImg__2umVB\",\"TutorialModal\":\"Onboard_TutorialModal__3HNlW\",\"ModalOptions\":\"Onboard_ModalOptions__1hLcu\",\"ModalWrap\":\"Onboard_ModalWrap__3rKti\",\"ImportExamContainer\":\"Onboard_ImportExamContainer__2VqRy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Indicator\":\"ModeIndicator_Indicator__1MmMn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"GroupIcon\":\"GroupIcon_GroupIcon__3z7Q_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"MiddleBar\":\"GroupView_MiddleBar__xLzhZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Login\":\"Login_Login__ns9RP\",\"LoginSection\":\"Login_LoginSection__29Ue5\",\"LoginWrapper\":\"Login_LoginWrapper__35PdB\",\"LoginFooter\":\"Login_LoginFooter__64CYO\",\"Landing\":\"Login_Landing__1hoOa\",\"LandingHeroWrap\":\"Login_LandingHeroWrap__rTqNh\",\"LandingHeroLogin\":\"Login_LandingHeroLogin__R_yKP\",\"LandingBlue\":\"Login_LandingBlue__1NNmq\",\"LandingLower\":\"Login_LandingLower__3YAvJ\",\"LandingScreenshot\":\"Login_LandingScreenshot__mNHGq\",\"LandingMidImg\":\"Login_LandingMidImg__1YUVz\",\"LandingFeatures\":\"Login_LandingFeatures__20adi\"};","module.exports = __webpack_public_path__ + \"static/media/t1.5dee8131.png\";","module.exports = __webpack_public_path__ + \"static/media/t2.6c07441c.png\";","module.exports = __webpack_public_path__ + \"static/media/t3.20632959.png\";","module.exports = __webpack_public_path__ + \"static/media/t4.8336f9b3.png\";","module.exports = __webpack_public_path__ + \"static/media/t5.67167ba9.png\";","module.exports = __webpack_public_path__ + \"static/media/t6.0de6651b.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"NewTaskClass\":\"TagListPicker_NewTaskClass__2YcUi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"FocusTask\":\"FocusTask_FocusTask__2p1Wn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"FutureViewSevenColumns\":\"FutureViewSevenColumns_FutureViewSevenColumns__1ItFf\",\"HeaderWeekday\":\"FutureViewSevenColumns_HeaderWeekday__jRgI1\"};","module.exports = __webpack_public_path__ + \"static/media/happy-bear.812db056.png\";","module.exports = __webpack_public_path__ + \"static/media/regular-bear.8b74c98e.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Bear\":\"Bear_Bear__2qcFm\"};","module.exports = __webpack_public_path__ + \"static/media/frontendCrash.c17c880a.png\";","module.exports = __webpack_public_path__ + \"static/media/wordmark.ee95f67e.png\";","module.exports = __webpack_public_path__ + \"static/media/header_final.092401e8.png\";","module.exports = __webpack_public_path__ + \"static/media/samwise_logo.2949e5b4.svg\";","module.exports = __webpack_public_path__ + \"static/media/splash_top_image.7a952bb8.svg\";","module.exports = __webpack_public_path__ + \"static/media/splash_peak_bear.0e9d9b44.svg\";","module.exports = __webpack_public_path__ + \"static/media/blue.d3f91232.svg\";","module.exports = __webpack_public_path__ + \"static/media/screenshot.87e529fc.png\";","module.exports = __webpack_public_path__ + \"static/media/splash_mid_image.7a0d17e4.svg\";","module.exports = __webpack_public_path__ + \"static/media/feature1.4664a1c9.svg\";","module.exports = __webpack_public_path__ + \"static/media/feature2.bfd20554.svg\";","module.exports = __webpack_public_path__ + \"static/media/feature3.935a98e7.svg\";","module.exports = __webpack_public_path__ + \"static/media/heart_logo.cdb74f8a.svg\";","module.exports = __webpack_public_path__ + \"static/media/link_logo.a64e6577.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"TaskView\":\"TaskView_TaskView__1QxfL\",\"FocusPanel\":\"TaskView_FocusPanel__11N5A\",\"FuturePanel\":\"TaskView_FuturePanel__1mWO_\",\"FuturePanelContainer\":\"TaskView_FuturePanelContainer__hP1zq\",\"FocusViewToggleWrapper\":\"TaskView_FocusViewToggleWrapper__38Puu\",\"FocusViewToggle\":\"TaskView_FocusViewToggle__2H9an\",\"FocusViewToggleIconFocusViewShow\":\"TaskView_FocusViewToggleIconFocusViewShow__2_8OA\",\"FocusViewToggleIconFocusViewHide\":\"TaskView_FocusViewToggleIconFocusViewHide__1pga_\",\"ControlButton\":\"TaskView_ControlButton__2jqUS\",\"ViewSwitcher\":\"TaskView_ViewSwitcher__17ZRi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"DeleteTag\":\"TagItem_DeleteTag__Nycj3\",\"ColorConfigItem\":\"TagItem_ColorConfigItem__Qq_-L\",\"TagName\":\"TagItem_TagName__nsa_2\",\"ClassExpandedTitle\":\"TagItem_ClassExpandedTitle__3d5xl\",\"AddTagName\":\"TagItem_AddTagName__cdHSs\",\"TagEdit\":\"TagItem_TagEdit__jUQsL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"SquareButton\":\"SquareButtons_SquareButton__12gps\",\"SquareButtonIconButton\":\"SquareButtons_SquareButtonIconButton__2brh3\",\"SquareButtonTextButton\":\"SquareButtons_SquareButtonTextButton__1OOuF\",\"Icon\":\"SquareButtons_Icon__xtsHH\",\"active\":\"SquareButtons_active__2mTpy\",\"SquareButtonText\":\"SquareButtons_SquareButtonText__3lE9y\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"NDaysView\":\"FutureViewDay_NDaysView__3JZNX\",\"OtherViews\":\"FutureViewDay_OtherViews__1uQK0\",\"Today\":\"FutureViewDay_Today__27Qiw\",\"DateInfo\":\"FutureViewDay_DateInfo__3ktg4\",\"DateInfoDay\":\"FutureViewDay_DateInfoDay__2Amcm\",\"DateNum\":\"FutureViewDay_DateNum__347Z4\",\"MoreTasksBar\":\"FutureViewDay_MoreTasksBar__2I7tC\",\"FloatingViewPrevPadding\":\"FutureViewDay_FloatingViewPrevPadding__1FNMk\",\"FloatingView\":\"FutureViewDay_FloatingView__10kGR\",\"FloatingBackgroundBlocker\":\"FutureViewDay_FloatingBackgroundBlocker__2tI0G\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"NewTaskComponent\":\"TaskCreator_NewTaskComponent__2G-Hx\",\"NewTaskWrap\":\"TaskCreator_NewTaskWrap__TejAN\",\"CloseNewTask\":\"TaskCreator_CloseNewTask__F2HFD\",\"NewTaskActive\":\"TaskCreator_NewTaskActive__fkVwx\",\"OpenNewTask\":\"TaskCreator_OpenNewTask__3wg6z\",\"SubmitNewTask\":\"TaskCreator_SubmitNewTask__2XC8o\",\"NewTaskModal\":\"TaskCreator_NewTaskModal__14tn8\",\"AddSubTask\":\"TaskCreator_AddSubTask__3HZNi\",\"ResetButton\":\"TaskCreator_ResetButton__U23us\",\"TagPickWrap\":\"TaskCreator_TagPickWrap__3_vuC\",\"PlusIcon\":\"TaskCreator_PlusIcon__2vQGP\"};","/**\n * Generate a random id to make React happy.\n *\n * @return {number} a random id.\n */\nexport const randomId = () => String(new Date().getTime());\n/**\n * The identity function.\n */\nexport function identity(t) { return t; }\n/**\n * An empty function used to ignore promise.\n */\nexport const ignore = () => { };\n/**\n * Throw an error. Useful when want to use this as an expression.\n *\n * @param {?string} message an optional message.\n */\nexport const error = (message) => { throw new Error(message); };\n/**\n * Shallowly check equality of two objects.\n *\n * @param a object a.\n * @param b object b.\n */\nexport const shallowEqual = (a, b) => {\n    const aKeys = Object.keys(a);\n    const bKeys = Object.keys(b);\n    const l = aKeys.length;\n    if (l !== bKeys.length) {\n        return false;\n    }\n    for (let i = 0; i < l; i += 1) {\n        const aKey = aKeys[i];\n        if (a[aKey] !== b[aKey]) {\n            return false;\n        }\n        const bKey = bKeys[i];\n        if (a[bKey] !== b[bKey]) {\n            return false;\n        }\n    }\n    return true;\n};\n/**\n * Shallowly check equality of two arrays.\n *\n * @param a array a.\n * @param b array b.\n */\nexport const shallowArrayEqual = (a, b) => {\n    const l = a.length;\n    if (l !== b.length) {\n        return false;\n    }\n    for (let i = 0; i < l; i += 1) {\n        if (!shallowEqual(a[i], b[i])) {\n            return false;\n        }\n    }\n    return true;\n};\n","/**\n * ID of the none tag.\n */\nexport const NONE_TAG_ID = 'THE_GLORIOUS_NONE_TAG';\n/**\n * The none tag.\n */\nexport const NONE_TAG = {\n    id: NONE_TAG_ID,\n    order: 0,\n    name: 'None',\n    color: '#969696',\n    classId: null,\n};\n","import { Map, Set } from 'immutable';\nimport { State } from 'common/lib/types/store-types';\nimport { NONE_TAG_ID, NONE_TAG } from 'common/lib/util/tag-util';\n\n/**\n * The initial state of the app.\n * This state is dummy. It needs to be patched by the data from the backend ASAP.\n * @type {State}\n */\nexport const initialState: State = {\n  tags: Map({ [NONE_TAG_ID]: NONE_TAG }),\n  tasks: Map(),\n  missingSubTasks: Map(),\n  orphanSubTasks: Map(),\n  dateTaskMap: Map(),\n  repeatedTaskSet: Set(),\n  settings: { canvasCalendar: null, completedOnboarding: true, theme: 'light' },\n  bannerMessageStatus: {},\n  courses: Map(),\n};\n\n/**\n * The initial state setup for testing.\n * It contains some random values so that snapshot tests can be more meaningful.\n * @type {State}\n */\nexport const initialStateForTesting: State = {\n  tags: Map({\n    [NONE_TAG_ID]: NONE_TAG,\n    foo: { id: 'foo', order: 1, name: 'Foo', color: 'red', classId: null },\n    bar: { id: 'bar', order: 2, name: 'Bar', color: 'blue', classId: null },\n    baz: { id: 'baz', order: 3, name: 'Baz: Baz', color: 'green', classId: '2112' },\n  }),\n  tasks: Map({\n    foo: {\n      id: 'foo',\n      order: 1,\n      name: 'Foo',\n      tag: 'foo',\n      complete: true,\n      inFocus: false,\n      children: [{ id: 'foo', order: 1, name: 'Foo', complete: true, inFocus: false }],\n      metadata: {\n        type: 'ONE_TIME',\n        date: new Date('2030-01-01'),\n      },\n    },\n    bar: {\n      id: 'bar',\n      order: 2,\n      name: 'Bar',\n      tag: 'bar',\n      complete: false,\n      inFocus: true,\n      children: [{ id: 'bar', order: 2, name: 'Bar', complete: false, inFocus: true }],\n      metadata: {\n        type: 'ONE_TIME',\n        date: new Date('2030-01-01'),\n      },\n    },\n    baz: {\n      id: 'baz',\n      order: 3,\n      name: 'Baz',\n      tag: 'baz',\n      complete: true,\n      inFocus: true,\n      children: [{ id: 'baz', order: 3, name: 'Baz', complete: true, inFocus: true }],\n      metadata: {\n        type: 'ONE_TIME',\n        date: new Date('2030-01-01'),\n      },\n    },\n  }),\n  dateTaskMap: Map({\n    [new Date('2030-01-01').toDateString()]: Set(['foo']),\n    [new Date('2031-01-01').toDateString()]: Set(['bar', 'baz']),\n    [new Date('2032-01-01').toDateString()]: Set(),\n  }),\n  missingSubTasks: Map(),\n  orphanSubTasks: Map(),\n  repeatedTaskSet: Set(),\n  settings: { canvasCalendar: null, completedOnboarding: true, theme: 'light' },\n  bannerMessageStatus: {},\n  courses: Map({\n    CS2112: [\n      {\n        courseId: 42,\n        subject: 'CS',\n        courseNumber: '2112',\n        title: 'OO Design Data Structs Honors',\n        examTimes: [\n          { type: 'final', time: 1576332000000 },\n          { type: 'prelim', time: 1570145400000 },\n        ],\n      },\n    ],\n  }),\n};\n","import { Set } from 'immutable';\nimport {\n  Action,\n  PatchCourses,\n  PatchTags,\n  PatchTasks,\n  PatchSubTasks,\n  PatchSettings,\n  PatchBannerMessageStatus,\n} from 'common/lib/types/action-types';\nimport { State, SubTask, Task } from 'common/lib/types/store-types';\nimport { error } from 'common/lib/util/general-util';\nimport { initialState } from './state';\n\nfunction patchTags(state: State, { created, edited, deleted }: PatchTags): State {\n  const newTags = state.tags.withMutations((tags) => {\n    created.forEach((t) => tags.set(t.id, t));\n    edited.forEach((t) => tags.set(t.id, t));\n    deleted.forEach((id) => tags.delete(id));\n  });\n  return { ...state, tags: newTags };\n}\n\nfunction normalizeTaskChildrenOrder(task: Task): Task {\n  const children = [...task.children].sort((a, b) => a.order - b.order);\n  return { ...task, children };\n}\n\nfunction patchTasks(state: State, { created, edited, deleted }: PatchTasks): State {\n  const newDateTaskMap = state.dateTaskMap.withMutations((m) => {\n    created.forEach((t) => {\n      if (t.metadata.type === 'MASTER_TEMPLATE') {\n        return;\n      }\n      const key = t.metadata.date.toDateString();\n      const set = m.get(key);\n      if (set == null) {\n        m.set(key, Set.of(t.id));\n      } else {\n        m.set(key, set.add(t.id));\n      }\n    });\n    edited.forEach((t) => {\n      if (t.metadata.type === 'MASTER_TEMPLATE') {\n        return;\n      }\n      const key = t.metadata.date.toDateString();\n      const oldTask = state.tasks.get(t.id) ?? error();\n      if (oldTask.metadata.type === 'ONE_TIME') {\n        const oldKey = oldTask.metadata.date.toDateString();\n        if (oldKey !== key) {\n          // remove first\n          const oldBucket = m.get(oldKey) ?? error('impossible!');\n          m.set(oldKey, oldBucket.remove(t.id));\n        }\n      }\n      const set = m.get(key);\n      if (set == null) {\n        m.set(key, Set.of(t.id));\n      } else {\n        m.set(key, set.add(t.id));\n      }\n    });\n    deleted.forEach((id) => {\n      const oldTask = state.tasks.get(id);\n      if (oldTask == null) {\n        return;\n      }\n      if (oldTask.metadata.type === 'ONE_TIME') {\n        const key = oldTask.metadata.date.toDateString();\n        const set = m.get(key);\n        if (set != null) {\n          m.set(key, set.remove(id));\n        }\n      }\n    });\n  });\n  const newRepeatedTaskSet = state.repeatedTaskSet.withMutations((s) => {\n    created.forEach((t) => {\n      if (t.metadata.type === 'MASTER_TEMPLATE') {\n        s.add(t.id);\n      }\n    });\n    deleted.forEach((id) => s.remove(id));\n  });\n\n  const missingSubTasksMap = new Map<string, string>();\n  const orphanSubTasksToClear: string[] = [];\n  const newTasks = state.tasks.withMutations((tasks) => {\n    const unfoldSubTasks = (\n      taskId: string,\n      subTaskIds: readonly string[],\n      existingSubTasks: readonly SubTask[],\n    ): readonly SubTask[] => {\n      let newIdSet = Set(subTaskIds);\n      const unfolded: SubTask[] = [];\n      existingSubTasks.forEach((subTask) => {\n        if (newIdSet.has(subTask.id)) {\n          newIdSet = newIdSet.remove(subTask.id);\n          unfolded.push(subTask);\n        }\n      });\n      // Remaining ids represent subtask that has not appeared yet.\n      newIdSet.forEach((id) => {\n        const orphanSubTask = state.orphanSubTasks.get(id);\n        if (orphanSubTask != null) {\n          orphanSubTasksToClear.push(id);\n          newIdSet = newIdSet.remove(id);\n          unfolded.push(orphanSubTask);\n          return;\n        }\n        missingSubTasksMap.set(id, taskId);\n      });\n      return unfolded;\n    };\n\n    let dirtyMainTaskIds = Set<string>();\n\n    created.forEach((createdMainTask) => {\n      const { children, ...mainTaskRest } = createdMainTask;\n      const updatedChildren = unfoldSubTasks(createdMainTask.id, children, []);\n      const mainTask: Task = { ...mainTaskRest, children: updatedChildren };\n      dirtyMainTaskIds = dirtyMainTaskIds.add(createdMainTask.id);\n      tasks.set(createdMainTask.id, mainTask);\n    });\n\n    edited.forEach((editedMainTask) => {\n      const { children, ...mainTaskRest } = editedMainTask;\n      const existingSubTasks = tasks.get(mainTaskRest.id)?.children ?? [];\n      const updatedChildren = unfoldSubTasks(\n        editedMainTask.id,\n        children,\n        existingSubTasks,\n      );\n      const mainTask: Task = { ...mainTaskRest, children: updatedChildren };\n      dirtyMainTaskIds = dirtyMainTaskIds.add(editedMainTask.id);\n      tasks.set(editedMainTask.id, mainTask);\n    });\n\n    deleted.forEach((id) => tasks.delete(id));\n\n    dirtyMainTaskIds.forEach((mainTaskId) => {\n      tasks.update(mainTaskId, (task) => normalizeTaskChildrenOrder(task));\n    });\n  });\n\n  // Final updates\n  const updatedMissingSubTasks = state.missingSubTasks.withMutations((map) => {\n    missingSubTasksMap.forEach((mainTaskId, subTaskId) => map.set(subTaskId, mainTaskId));\n  });\n  const updatedOrphanSubTasks = state.orphanSubTasks.deleteAll(orphanSubTasksToClear);\n\n  return {\n    ...state,\n    tasks: newTasks,\n    missingSubTasks: updatedMissingSubTasks,\n    orphanSubTasks: updatedOrphanSubTasks,\n    dateTaskMap: newDateTaskMap,\n    repeatedTaskSet: newRepeatedTaskSet,\n  };\n}\n\nfunction patchSubTasks(state: State, { created, edited, deleted }: PatchSubTasks): State {\n  const existingSubTaskToTaskMap = new Map<string, string>();\n  Array.from(state.tasks.entries()).forEach(([id, task]) => {\n    task.children.forEach((subTask) => existingSubTaskToTaskMap.set(subTask.id, id));\n  });\n\n  const missingSubTaskToClear: string[] = [];\n  const newOrphanSubTasks: SubTask[] = [];\n  const updatedTasks = state.tasks.withMutations((mutableTaskMap) => {\n    let dirtyMainTaskIds = Set<string>();\n\n    created.forEach((createdSubTask) => {\n      // By the time a subtask is created, a main task may or may not exist.\n      const mainTaskId = state.missingSubTasks.get(createdSubTask.id);\n      if (mainTaskId == null) {\n        // For those that does not exist, we must put them into orphan sub-tasks for now.\n        // The hope is that they will be stick to correct place in a later task patch.\n        newOrphanSubTasks.push(createdSubTask);\n      } else {\n        // For those that do exist, they must have some missing subtasks.\n        // We must stick them into correct places,\n        mutableTaskMap.update(\n          mainTaskId,\n          (mainTask) => ({ ...mainTask, children: [...mainTask.children, createdSubTask] }),\n        );\n        missingSubTaskToClear.push(createdSubTask.id);\n        dirtyMainTaskIds = dirtyMainTaskIds.add(mainTaskId);\n      }\n    });\n\n    edited.forEach((editedSubTask) => {\n      // By the time a subtask is edited, the subtask, along with its parent, must exist!\n      const mainTaskId = existingSubTaskToTaskMap.get(editedSubTask.id) ?? error('Must exist!');\n      mutableTaskMap.update(\n        mainTaskId,\n        (mainTask) => {\n          const children = mainTask.children.map(\n            (subTask) => (subTask.id === editedSubTask.id ? editedSubTask : subTask),\n          );\n          return { ...mainTask, children };\n        },\n      );\n      dirtyMainTaskIds = dirtyMainTaskIds.add(mainTaskId);\n    });\n\n    deleted.forEach((deletedSubTaskId) => {\n      const mainTaskId = existingSubTaskToTaskMap.get(deletedSubTaskId);\n      if (mainTaskId == null) {\n        // We might delete main task and subtask together, and main task is deleted before subtask.\n        return;\n      }\n      mutableTaskMap.update(\n        mainTaskId,\n        (mainTask) => ({\n          ...mainTask,\n          children: mainTask.children.filter((subTask) => subTask.id !== deletedSubTaskId),\n        }),\n      );\n      dirtyMainTaskIds = dirtyMainTaskIds.add(mainTaskId);\n    });\n\n    dirtyMainTaskIds.forEach((mainTaskId) => {\n      mutableTaskMap.update(mainTaskId, (task) => normalizeTaskChildrenOrder(task));\n    });\n  });\n\n  // Final batch updates for helper store tables.\n  const updatedMissingSubTasks = state.missingSubTasks.deleteAll(missingSubTaskToClear);\n  const updatedOrphanSubTasks = state.orphanSubTasks.withMutations((mutableOrphanSubTasks) => {\n    newOrphanSubTasks.forEach((subTask) => mutableOrphanSubTasks.set(subTask.id, subTask));\n  });\n\n  return {\n    ...state,\n    tasks: updatedTasks,\n    missingSubTasks: updatedMissingSubTasks,\n    orphanSubTasks: updatedOrphanSubTasks,\n  };\n}\n\nfunction patchSettings(state: State, { settings }: PatchSettings): State {\n  return { ...state, settings };\n}\n\nfunction patchBannerMessageStatus(state: State, { change }: PatchBannerMessageStatus): State {\n  return { ...state, bannerMessageStatus: { ...state.bannerMessageStatus, ...change } };\n}\n\nfunction patchCourses(state: State, { courses }: PatchCourses): State {\n  return { ...state, courses };\n}\n\nexport default function rootReducer(state: State = initialState, action: Action): State {\n  switch (action.type) {\n    case 'PATCH_TAGS':\n      return patchTags(state, action);\n    case 'PATCH_TASKS':\n      return patchTasks(state, action);\n    case 'PATCH_SUBTASKS':\n      return patchSubTasks(state, action);\n    case 'PATCH_SETTINGS':\n      return patchSettings(state, action);\n    case 'PATCH_BANNER_MESSAGES':\n      return patchBannerMessageStatus(state, action);\n    case 'PATCH_COURSES':\n      return patchCourses(state, action);\n    default:\n      return state;\n  }\n}\n","import { createStore, Store } from 'redux';\nimport { State } from 'common/lib/types/store-types';\nimport { Action } from 'common/lib/types/action-types';\nimport rootReducer from './reducers';\nimport { initialStateForTesting } from './state';\n\nexport type GlobalStore = Store<State, Action>;\n\n/**\n * The redux store. It should only be given to the react-redux provider.\n */\nexport const store: GlobalStore = createStore(rootReducer);\n\n/**\n * The redux store for testing.\n */\nexport const storeForTesting: GlobalStore = createStore(\n  (initialState: State = initialStateForTesting, action: Action): State => rootReducer(\n    initialState, action,\n  ),\n);\n\n/**\n * Dispatch an action and returns the same dispatched action.\n */\nexport const dispatchAction = (action: Action): Action => store.dispatch(action);\n","import React, { ReactElement } from 'react';\nimport { Provider as ReactReduxProvider } from 'react-redux';\nimport { store, storeForTesting } from './store';\n\ntype Props = { readonly children: ReactElement };\n\nexport const Provider = ({ children }: Props): ReactElement => (\n  <ReactReduxProvider store={store}>{children}</ReactReduxProvider>\n);\n\nexport const ProviderForTesting = ({ children }: Props): ReactElement => (\n  <ReactReduxProvider store={storeForTesting}>{children}</ReactReduxProvider>\n);\n","import React, { ReactElement } from 'react';\nimport systemMode, { Mode } from 'util/mode-util';\nimport styles from './ModeIndicator.module.css';\n\ntype Props = { readonly mode: Mode };\n\n/**\n * A mode indicator on the top-left corner to indicate whether a page is for DEV, STAGING or PROD.\n */\nexport const ConfigurableModeIndicator = ({ mode }: Props): ReactElement | null => {\n  if (mode === 'PROD') {\n    return null;\n  }\n  return <div className={styles.Indicator}>{mode}</div>;\n};\n\nexport default (): ReactElement | null => <ConfigurableModeIndicator mode={systemMode} />;\n","/**\n * The utility file to manage all modes.\n */\n\nexport type Mode = 'DEV' | 'STAGING' | 'PROD';\n\nconst mode: Mode = (() => {\n  if (process.env.NODE_ENV === 'production') {\n    return process.env.REACT_APP_IS_STAGING !== 'true' ? 'PROD' : 'STAGING';\n  }\n  return 'DEV';\n})();\n\nexport default mode;\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"g\", {\n  fill: \"none\",\n  fillRule: \"nonzero\"\n}, React.createElement(\"circle\", {\n  fill: \"#D0021B\",\n  cx: 15,\n  cy: 15,\n  r: 15\n}), React.createElement(\"circle\", {\n  stroke: \"#FFF\",\n  strokeWidth: 2,\n  fill: \"#FFF\",\n  cx: 15,\n  cy: 23,\n  r: 2\n}), React.createElement(\"path\", {\n  stroke: \"#FFF\",\n  strokeWidth: 2,\n  fill: \"#FFF\",\n  strokeLinejoin: \"round\",\n  d: \"M13.667 18h2.666L17 5h-4z\"\n}));\n\nvar SvgAlert = function SvgAlert(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 30 30\",\n    ref: svgRef\n  }, props), title ? React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgAlert, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/alert.77db80ba.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"g\", {\n  fill: \"none\",\n  fillRule: \"evenodd\",\n  stroke: \"#5A5A5A\",\n  strokeWidth: 2\n}, React.createElement(\"rect\", {\n  x: 1,\n  y: 3,\n  width: 18,\n  height: 16,\n  rx: 3\n}), React.createElement(\"path\", {\n  d: \"M1 8h18\"\n}), React.createElement(\"path\", {\n  d: \"M4 1v4M16 1v4\",\n  strokeLinecap: \"round\"\n}));\n\nvar SvgCalendarDark = function SvgCalendarDark(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 20 20\",\n    ref: svgRef\n  }, props), title ? React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgCalendarDark, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/calendar-dark.9ca89c7e.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"g\", {\n  fill: \"none\",\n  fillRule: \"evenodd\",\n  stroke: \"#FFF\",\n  strokeWidth: 2\n}, React.createElement(\"rect\", {\n  x: 1,\n  y: 3,\n  width: 18,\n  height: 16,\n  rx: 3\n}), React.createElement(\"path\", {\n  d: \"M1 8h18\"\n}), React.createElement(\"path\", {\n  d: \"M4 1v4M16 1v4\",\n  strokeLinecap: \"round\"\n}));\n\nvar SvgCalendarLight = function SvgCalendarLight(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 20 20\",\n    ref: svgRef\n  }, props), title ? React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgCalendarLight, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/calendar-light.19eee0a5.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"g\", {\n  fill: \"none\",\n  fillRule: \"nonzero\"\n}, React.createElement(\"path\", {\n  d: \"M0 0h20v20H0z\",\n  fill: \"#5A5A5A\"\n}), React.createElement(\"path\", {\n  fill: \"#FFF\",\n  d: \"M7.848 11.85L4.134 8.977l-1.857 2.406 4.771 3.687 1.058.813.942-.942 8.675-8.676-2.142-2.148z\"\n}));\n\nvar SvgCheckedDark = function SvgCheckedDark(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 20 20\",\n    ref: svgRef\n  }, props), title ? React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgCheckedDark, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/checked-dark.06e1fb10.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"g\", {\n  fill: \"none\",\n  fillRule: \"nonzero\"\n}, React.createElement(\"path\", {\n  d: \"M0 0h20v20H0z\",\n  fill: \"#FFF\"\n}), React.createElement(\"path\", {\n  fill: \"#5A5A5A\",\n  d: \"M7.848 11.85L4.134 8.977l-1.857 2.406 4.771 3.687 1.058.813.942-.942 8.675-8.676-2.142-2.148z\"\n}));\n\nvar SvgChecked = function SvgChecked(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 20 20\",\n    ref: svgRef\n  }, props), title ? React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgChecked, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/checked.864b53ab.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"g\", {\n  fill: \"none\",\n  fillRule: \"evenodd\",\n  stroke: \"#5A5A5A\",\n  strokeWidth: 2\n}, React.createElement(\"circle\", {\n  cx: 10,\n  cy: 10,\n  r: 7\n}), React.createElement(\"path\", {\n  d: \"M10 11l2 1M10 11V6\",\n  strokeLinecap: \"round\"\n}));\n\nvar SvgClock = function SvgClock(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 20 20\",\n    ref: svgRef\n  }, props), title ? React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgClock, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/clock.ec4d6fb0.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"g\", {\n  fill: \"#FFF\",\n  fillRule: \"nonzero\",\n  opacity: 0.504\n}, React.createElement(\"circle\", {\n  cx: 10,\n  cy: 4,\n  r: 2\n}), React.createElement(\"circle\", {\n  cx: 10,\n  cy: 10,\n  r: 2\n}), React.createElement(\"circle\", {\n  cx: 10,\n  cy: 16,\n  r: 2\n}), React.createElement(\"circle\", {\n  cx: 16,\n  cy: 4,\n  r: 2\n}), React.createElement(\"circle\", {\n  cx: 16,\n  cy: 10,\n  r: 2\n}), React.createElement(\"circle\", {\n  cx: 16,\n  cy: 16,\n  r: 2\n}));\n\nvar SvgGrabbers = function SvgGrabbers(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 26 20\",\n    ref: svgRef\n  }, props), title ? React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgGrabbers, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/grabbers.40271341.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"defs\", null, React.createElement(\"clipPath\", {\n  id: \"hide_svg__a\"\n}, React.createElement(\"path\", {\n  d: \"M0 0h49v49H0z\"\n})));\n\nvar _ref3 =\n/*#__PURE__*/\nReact.createElement(\"g\", {\n  clipPath: \"url(#hide_svg__a)\"\n}, React.createElement(\"mask\", {\n  id: \"hide_svg__b\",\n  x: \"-200%\",\n  y: \"-200%\",\n  width: \"400%\",\n  height: \"400%\"\n}, React.createElement(\"rect\", {\n  x: \"-200%\",\n  y: \"-200%\",\n  width: \"400%\",\n  height: \"400%\",\n  fill: \"#fff\"\n}), React.createElement(\"path\", {\n  d: \"M10 8a2 2 0 0 0-2 2v29a2 2 0 0 0 2 2h29a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2H10z\"\n})), React.createElement(\"path\", {\n  d: \"M10 8a2 2 0 0 0-2 2v29a2 2 0 0 0 2 2h29a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2H10z\",\n  fill: \"none\",\n  mask: \"url(#hide_svg__b)\",\n  vectorEffect: \"non-scaling-stroke\",\n  strokeWidth: 4,\n  stroke: \"#5A5A5A\"\n}), React.createElement(\"mask\", {\n  id: \"hide_svg__c\",\n  x: \"-200%\",\n  y: \"-200%\",\n  width: \"400%\",\n  height: \"400%\"\n}, React.createElement(\"rect\", {\n  x: \"-200%\",\n  y: \"-200%\",\n  width: \"400%\",\n  height: \"400%\",\n  fill: \"#fff\"\n}), React.createElement(\"path\", {\n  d: \"M24.572 31.666c4.308 0 8.208-2.167 11.701-6.5-3.493-4.334-7.393-6.501-11.701-6.501-4.309 0-8.209 2.167-11.702 6.501 3.493 4.333 7.393 6.5 11.702 6.5z\"\n})), React.createElement(\"path\", {\n  d: \"M24.572 31.666c4.308 0 8.208-2.167 11.701-6.5-3.493-4.334-7.393-6.501-11.701-6.501-4.309 0-8.209 2.167-11.702 6.501 3.493 4.333 7.393 6.5 11.702 6.5z\",\n  fill: \"none\",\n  mask: \"url(#hide_svg__c)\",\n  vectorEffect: \"non-scaling-stroke\",\n  strokeWidth: 6,\n  stroke: \"#5A5A5A\"\n}), React.createElement(\"circle\", {\n  vectorEffect: \"non-scaling-stroke\",\n  cx: 24.572,\n  cy: 25.166,\n  r: 5.2,\n  fill: \"none\",\n  strokeWidth: 3,\n  stroke: \"#5A5A5A\"\n}), React.createElement(\"mask\", {\n  id: \"hide_svg__d\",\n  x: \"-200%\",\n  y: \"-200%\",\n  width: \"400%\",\n  height: \"400%\"\n}, React.createElement(\"rect\", {\n  x: \"-200%\",\n  y: \"-200%\",\n  width: \"400%\",\n  height: \"400%\",\n  fill: \"#fff\"\n}), React.createElement(\"path\", {\n  d: \"M12.421 12.421l24.158 24.158\"\n})), React.createElement(\"path\", {\n  mask: \"url(#hide_svg__d)\",\n  vectorEffect: \"non-scaling-stroke\",\n  strokeWidth: 4,\n  stroke: \"#5A5A5A\",\n  strokeLinejoin: \"round\",\n  d: \"M12.421 12.421l24.158 24.158\"\n}));\n\nvar SvgHide = function SvgHide(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    style: {\n      isolation: \"isolate\"\n    },\n    viewBox: \"0 0 49 49\",\n    ref: svgRef\n  }, props), title ? React.createElement(\"title\", null, title) : null, _ref2, _ref3);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgHide, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/hide.366410c3.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M15.6891 1.2377C15.2738 0.845314 14.7806 0.534045 14.2377 0.321676C13.6949 0.109307 13.1131 0 12.5255 0C11.9379 0 11.3561 0.109307 10.8133 0.321676C10.2704 0.534045 9.77724 0.845314 9.36186 1.2377L8.49978 2.05166L7.63771 1.2377C6.79866 0.445478 5.66066 0.000410637 4.47407 0.000410646C3.28747 0.000410654 2.14947 0.445478 1.31042 1.2377C0.471374 2.02993 8.84083e-09 3.10441 0 4.22479C-8.84083e-09 5.34516 0.471374 6.41965 1.31042 7.21187L2.1725 8.02583L8.49978 14L14.8271 8.02583L15.6891 7.21187C16.1047 6.81967 16.4344 6.354 16.6593 5.84146C16.8842 5.32893 17 4.77958 17 4.22479C17 3.67 16.8842 3.12064 16.6593 2.60811C16.4344 2.09558 16.1047 1.6299 15.6891 1.2377Z\",\n  fill: \"#FF8989\"\n});\n\nvar SvgHug = function SvgHug(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    width: 17,\n    height: 14,\n    viewBox: \"0 0 17 14\",\n    fill: \"none\",\n    ref: svgRef\n  }, props), title ? React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgHug, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/hug.22c3c5c0.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"g\", {\n  clipPath: \"url(#clip0)\"\n}, React.createElement(\"path\", {\n  d: \"M28.5 42.5C33.7488 42.5 38 38.2487 38 33C38 27.7512 33.7488 23.5 28.5 23.5C23.2513 23.5 19 27.7512 19 33C19 38.2487 23.2513 42.5 28.5 42.5ZM28.5 47.25C22.1587 47.25 9.5 50.4325 9.5 56.75V61.5H47.5V56.75C47.5 50.4325 34.8412 47.25 28.5 47.25Z\",\n  fill: \"white\"\n}));\n\nvar _ref3 =\n/*#__PURE__*/\nReact.createElement(\"defs\", null, React.createElement(\"clipPath\", {\n  id: \"clip0\"\n}, React.createElement(\"rect\", {\n  width: 57,\n  height: 57,\n  fill: \"white\"\n})));\n\nvar SvgPersonalView = function SvgPersonalView(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    width: 57,\n    height: 57,\n    viewBox: \"0 0 57 57\",\n    fill: \"none\",\n    ref: svgRef\n  }, props), title ? React.createElement(\"title\", null, title) : null, _ref2, _ref3);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgPersonalView, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/personal-view.6218c99f.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"defs\", null, React.createElement(\"path\", {\n  d: \"M14.546 5.693v4.235c.757.677 1.257 1.383 1.5 2.118.243.735.41 1.302.5 1.702h-10c.067-.238.234-.806.5-1.702.266-.896.766-1.602 1.5-2.118V5.693l-2-2.647h10l-2 2.647zm-4 8.47h2l-1 6.883-1-6.882z\",\n  id: \"pin-2-dark-filled_svg__a\"\n}));\n\nvar _ref3 =\n/*#__PURE__*/\nReact.createElement(\"use\", {\n  stroke: \"#000\",\n  fill: \"#000\",\n  strokeWidth: 2,\n  strokeLinejoin: \"round\",\n  fillRule: \"nonzero\",\n  transform: \"rotate(-45 11.546 12.046)\",\n  xlinkHref: \"#pin-2-dark-filled_svg__a\"\n});\n\nvar SvgPin2DarkFilled = function SvgPin2DarkFilled(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 20 20\",\n    ref: svgRef\n  }, props), title ? React.createElement(\"title\", null, title) : null, _ref2, _ref3);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgPin2DarkFilled, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/pin-2-dark-filled.74619d5f.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"defs\", null, React.createElement(\"path\", {\n  d: \"M14.546 5.693v4.235c.757.677 1.257 1.383 1.5 2.118.243.735.41 1.302.5 1.702h-10c.067-.238.234-.806.5-1.702.266-.896.766-1.602 1.5-2.118V5.693l-2-2.647h10l-2 2.647zm-4 8.47h2l-1 6.883-1-6.882z\",\n  id: \"pin-2-dark-outline_svg__a\"\n}));\n\nvar _ref3 =\n/*#__PURE__*/\nReact.createElement(\"use\", {\n  stroke: \"#5A5A5A\",\n  strokeWidth: 2,\n  strokeLinejoin: \"round\",\n  fillRule: \"nonzero\",\n  transform: \"rotate(-45 11.546 12.046)\",\n  xlinkHref: \"#pin-2-dark-outline_svg__a\",\n  fill: \"none\"\n});\n\nvar SvgPin2DarkOutline = function SvgPin2DarkOutline(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 20 20\",\n    ref: svgRef\n  }, props), title ? React.createElement(\"title\", null, title) : null, _ref2, _ref3);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgPin2DarkOutline, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/pin-2-dark-outline.edb5e072.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"defs\", null, React.createElement(\"path\", {\n  d: \"M14.546 5.693v4.235c.757.677 1.257 1.383 1.5 2.118.243.735.41 1.302.5 1.702h-10c.067-.238.234-.806.5-1.702.266-.896.766-1.602 1.5-2.118V5.693l-2-2.647h10l-2 2.647zm-4 8.47h2l-1 6.883-1-6.882z\",\n  id: \"pin-2-light-filled_svg__a\"\n}));\n\nvar _ref3 =\n/*#__PURE__*/\nReact.createElement(\"use\", {\n  stroke: \"#F9F9F9\",\n  fill: \"#F9F9F9\",\n  strokeWidth: 2,\n  strokeLinejoin: \"round\",\n  fillRule: \"nonzero\",\n  transform: \"rotate(-45 11.546 12.046)\",\n  xlinkHref: \"#pin-2-light-filled_svg__a\"\n});\n\nvar SvgPin2LightFilled = function SvgPin2LightFilled(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 20 20\",\n    ref: svgRef\n  }, props), title ? React.createElement(\"title\", null, title) : null, _ref2, _ref3);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgPin2LightFilled, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/pin-2-light-filled.805897bb.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"defs\", null, React.createElement(\"path\", {\n  d: \"M14.546 5.693v4.235c.757.677 1.257 1.383 1.5 2.118.243.735.41 1.302.5 1.702h-10c.067-.238.234-.806.5-1.702.266-.896.766-1.602 1.5-2.118V5.693l-2-2.647h10l-2 2.647zm-4 8.47h2l-1 6.883-1-6.882z\",\n  id: \"pin-2-light-outline_svg__a\"\n}));\n\nvar _ref3 =\n/*#__PURE__*/\nReact.createElement(\"use\", {\n  stroke: \"#F9F9F9\",\n  strokeWidth: 2,\n  strokeLinejoin: \"round\",\n  fillRule: \"nonzero\",\n  transform: \"rotate(-45 11.546 12.046)\",\n  xlinkHref: \"#pin-2-light-outline_svg__a\",\n  fill: \"none\"\n});\n\nvar SvgPin2LightOutline = function SvgPin2LightOutline(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 20 20\",\n    ref: svgRef\n  }, props), title ? React.createElement(\"title\", null, title) : null, _ref2, _ref3);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgPin2LightOutline, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/pin-2-light-outline.dedf8149.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M13.5417 16.0014H7.15C3.20729 16.0014 0 12.8198 0 8.90863C0 7.01453 0.74375 5.23306 2.09479 3.89283L4.38438 1.62053C6.56146 -0.540175 10.1052 -0.540175 12.2823 1.62053L13.2365 2.56706H19.7917C20.9406 2.56706 21.875 3.49396 21.875 4.63373C21.875 5.77349 20.9406 6.70039 19.7917 6.70039H17.4281C17.6063 7.00419 17.7083 7.35759 17.7083 7.73373C17.7083 8.63376 17.125 9.40153 16.3135 9.68466C16.5365 10.0133 16.6667 10.409 16.6667 10.8337C16.6667 11.7338 16.0833 12.5015 15.2719 12.7847C15.4948 13.1133 15.625 13.509 15.625 13.9337C15.625 15.0745 14.6906 16.0014 13.5417 16.0014ZM8.33333 1.03463C7.16979 1.03463 6.00729 1.47379 5.12083 2.35213L2.83125 4.62443C1.67708 5.76936 1.04167 7.29043 1.04167 8.90863C1.04167 12.2494 3.78229 14.9681 7.15 14.9681H13.5417C14.1167 14.9681 14.5833 14.5041 14.5833 13.9348C14.5833 13.3654 14.1167 12.9014 13.5417 12.9014C13.2542 12.9014 13.0208 12.67 13.0208 12.3848C13.0208 12.0996 13.2542 11.8681 13.5417 11.8681H14.5833C15.1583 11.8681 15.625 11.4041 15.625 10.8348C15.625 10.2654 15.1583 9.80142 14.5833 9.80142H14.0625C13.775 9.80142 13.5417 9.56996 13.5417 9.28476C13.5417 8.99956 13.775 8.76809 14.0625 8.76809H15.625C16.2 8.76809 16.6667 8.30413 16.6667 7.73476C16.6667 7.16539 16.2 6.70143 15.625 6.70143H13.0208C12.7333 6.70143 12.5 6.46996 12.5 6.18476C12.5 5.89956 12.7333 5.66809 13.0208 5.66809H19.7917C20.3667 5.66809 20.8333 5.20413 20.8333 4.63476C20.8333 4.06539 20.3667 3.60143 19.7917 3.60143H8.85417C8.56667 3.60143 8.33333 3.36996 8.33333 3.08476C8.33333 2.79956 8.56667 2.56809 8.85417 2.56809H11.7635L11.5458 2.35213C10.6594 1.47379 9.49687 1.03463 8.33333 1.03463Z\",\n  fill: \"#7BA9EF\"\n});\n\nvar SvgPoke = function SvgPoke(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    width: 22,\n    height: 17,\n    viewBox: \"0 0 22 17\",\n    fill: \"none\",\n    ref: svgRef\n  }, props), title ? React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgPoke, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/poke.cfd73a56.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"g\", {\n  fillRule: \"nonzero\",\n  stroke: \"#5A5A5A\",\n  strokeWidth: 2,\n  fill: \"none\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n}, React.createElement(\"path\", {\n  d: \"M3 10.5a7 7 0 1 0 2.047-4.946M7.897 7.297L4 6.397 4.9 2.5\"\n}));\n\nvar SvgRepeat = function SvgRepeat(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 20 20\",\n    ref: svgRef\n  }, props), title ? React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgRepeat, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/repeat.b33bced0.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"g\", {\n  fillRule: \"nonzero\",\n  stroke: \"#FFF\",\n  opacity: 0.504,\n  strokeWidth: 2,\n  fill: \"none\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n}, React.createElement(\"path\", {\n  d: \"M3 10.5a7 7 0 1 0 2.047-4.946M7.897 7.297L4 6.397 4.9 2.5\"\n}));\n\nvar SvgRepeatLight = function SvgRepeatLight(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 20 20\",\n    ref: svgRef\n  }, props), title ? React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgRepeatLight, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/repeat-light.2e136434.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"g\", {\n  fill: \"none\",\n  fillRule: \"evenodd\",\n  stroke: \"#5A5A5A\",\n  strokeWidth: 3\n}, React.createElement(\"circle\", {\n  cx: 18,\n  cy: 18,\n  r: 4.5\n}), React.createElement(\"path\", {\n  d: \"M34.5 20.5v-6h-4.974l-.376-.945c-.098-.247-.204-.49-.319-.73l-.457-.956 3.415-3.415-4.243-4.243-3.415 3.415-.957-.457c-.24-.115-.482-.22-.729-.319l-.945-.376V1.5h-6v4.71l-1.057.326c-.546.17-1.08.377-1.597.623l-.973.463L8.5 4.129 4.184 8.297l3.446 3.568-.452.941c-.118.246-.227.496-.328.749l-.376.945H1.5v6h4.71l.326 1.057c.172.553.383 1.094.633 1.617l.457.957-3.415 3.415 4.243 4.243 3.415-3.415.957.457c.523.25 1.064.461 1.617.633l1.057.326v4.71h6v-4.974l.945-.376c.273-.109.542-.227.807-.356l.979-.476 3.351 3.47 4.316-4.168-3.467-3.59.438-.936c.234-.498.432-1.012.595-1.537l.326-1.057h4.71z\"\n}));\n\nvar SvgSettings = function SvgSettings(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 36 36\",\n    ref: svgRef\n  }, props), title ? React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgSettings, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/settings.5569dcdb.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"g\", {\n  fill: \"none\",\n  fillRule: \"nonzero\"\n}, React.createElement(\"path\", {\n  d: \"M3 1a2 2 0 0 0-2 2v29a2 2 0 0 0 2 2h29a2 2 0 0 0 2-2V3a2 2 0 0 0-2-2H3z\",\n  stroke: \"#5A5A5A\",\n  strokeWidth: 2,\n  fill: \"#5A5A5A\"\n}), React.createElement(\"g\", {\n  transform: \"translate(6 11)\",\n  stroke: \"#FFF\",\n  strokeWidth: 3\n}, React.createElement(\"path\", {\n  d: \"M11.701 13.666c4.308 0 8.209-2.167 11.701-6.5C19.91 2.832 16.01.665 11.702.665c-4.31 0-8.21 2.167-11.702 6.5 3.493 4.334 7.393 6.501 11.701 6.501z\"\n}), React.createElement(\"circle\", {\n  cx: 11.701,\n  cy: 7.166,\n  r: 5.2\n})));\n\nvar SvgShow = function SvgShow(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 35 35\",\n    ref: svgRef\n  }, props), title ? React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgShow, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/show.64af1272.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"g\", {\n  transform: \"rotate(-45 6.578 6.26)\",\n  fillRule: \"nonzero\",\n  stroke: \"#5A5A5A\",\n  fill: \"none\"\n}, React.createElement(\"path\", {\n  strokeWidth: 2,\n  strokeLinejoin: \"round\",\n  d: \"M6.356.164L.99 4.457v13.951l10.732.035V4.457z\"\n}), React.createElement(\"circle\", {\n  cx: 6.359,\n  cy: 6.064,\n  r: 1.61\n}));\n\nvar SvgTag = function SvgTag(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 20 20\",\n    ref: svgRef\n  }, props), title ? React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgTag, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/tag.70e131ed.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"defs\", null, React.createElement(\"path\", {\n  d: \"M2.5 20H0V0h20v20H2.5zm0-2.5h15v-15h-15v15z\",\n  id: \"unchecked_svg__a\"\n}));\n\nvar _ref3 =\n/*#__PURE__*/\nReact.createElement(\"g\", {\n  fill: \"none\",\n  fillRule: \"evenodd\"\n}, React.createElement(\"mask\", {\n  id: \"unchecked_svg__b\",\n  fill: \"#fff\"\n}, React.createElement(\"use\", {\n  xlinkHref: \"#unchecked_svg__a\"\n})), React.createElement(\"use\", {\n  fill: \"#FFF\",\n  fillRule: \"nonzero\",\n  xlinkHref: \"#unchecked_svg__a\"\n}), React.createElement(\"g\", {\n  mask: \"url(#unchecked_svg__b)\",\n  fill: \"#FFF\",\n  fillRule: \"nonzero\"\n}, React.createElement(\"path\", {\n  d: \"M0 0h20v20H0z\"\n})));\n\nvar SvgUnchecked = function SvgUnchecked(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 20 20\",\n    ref: svgRef\n  }, props), title ? React.createElement(\"title\", null, title) : null, _ref2, _ref3);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgUnchecked, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/unchecked.391264cd.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"defs\", null, React.createElement(\"path\", {\n  d: \"M10.14 13.143l6.606-6.607a.535.535 0 0 1 .756.756l-6.969 6.969a.533.533 0 0 1-.393.156.533.533 0 0 1-.394-.156L2.777 7.292a.535.535 0 1 1 .756-.756l6.607 6.607z\",\n  id: \"v_svg__a\"\n}));\n\nvar _ref3 =\n/*#__PURE__*/\nReact.createElement(\"g\", {\n  fill: \"none\",\n  fillRule: \"evenodd\"\n}, React.createElement(\"mask\", {\n  id: \"v_svg__b\",\n  fill: \"#fff\"\n}, React.createElement(\"use\", {\n  xlinkHref: \"#v_svg__a\"\n})), React.createElement(\"use\", {\n  stroke: \"#9B9B9B\",\n  fill: \"#9B9B9B\",\n  fillRule: \"nonzero\",\n  strokeLinecap: \"round\",\n  xlinkHref: \"#v_svg__a\"\n}), React.createElement(\"g\", {\n  mask: \"url(#v_svg__b)\",\n  fill: \"transparent\",\n  fillRule: \"nonzero\"\n}, React.createElement(\"path\", {\n  d: \"M0 0h20v20H0z\"\n})));\n\nvar SvgV = function SvgV(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 20 20\",\n    ref: svgRef\n  }, props), title ? React.createElement(\"title\", null, title) : null, _ref2, _ref3);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgV, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/v.8ef60f3c.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"defs\", null, React.createElement(\"path\", {\n  d: \"M10.14 8.484l5.811-5.811a1 1 0 1 1 1.415 1.414l-5.812 5.812 5.812 5.811a1 1 0 0 1-1.415 1.415l-5.811-5.812-5.812 5.812a1 1 0 1 1-1.414-1.415L8.726 9.9 2.914 4.087a1 1 0 0 1 1.414-1.414l5.812 5.811z\",\n  id: \"XDark_svg__a\"\n}));\n\nvar _ref3 =\n/*#__PURE__*/\nReact.createElement(\"g\", {\n  fill: \"none\",\n  fillRule: \"evenodd\"\n}, React.createElement(\"mask\", {\n  id: \"XDark_svg__b\",\n  fill: \"#fff\"\n}, React.createElement(\"use\", {\n  xlinkHref: \"#XDark_svg__a\"\n})), React.createElement(\"use\", {\n  stroke: \"#000\",\n  fill: \"#000\",\n  fillRule: \"nonzero\",\n  strokeLinecap: \"round\",\n  xlinkHref: \"#XDark_svg__a\"\n}), React.createElement(\"g\", {\n  mask: \"url(#XDark_svg__b)\",\n  fill: \"transparent\",\n  fillRule: \"nonzero\"\n}, React.createElement(\"path\", {\n  d: \"M0 0h20v20H0z\"\n})));\n\nvar SvgXDark = function SvgXDark(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 20 20\",\n    ref: svgRef\n  }, props), title ? React.createElement(\"title\", null, title) : null, _ref2, _ref3);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgXDark, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/XDark.c73c1341.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"defs\", null, React.createElement(\"path\", {\n  d: \"M10.14 8.484l5.811-5.811a1 1 0 1 1 1.415 1.414l-5.812 5.812 5.812 5.811a1 1 0 0 1-1.415 1.415l-5.811-5.812-5.812 5.812a1 1 0 1 1-1.414-1.415L8.726 9.9 2.914 4.087a1 1 0 0 1 1.414-1.414l5.812 5.811z\",\n  id: \"XLight_svg__a\"\n}));\n\nvar _ref3 =\n/*#__PURE__*/\nReact.createElement(\"g\", {\n  fill: \"none\",\n  fillRule: \"evenodd\"\n}, React.createElement(\"mask\", {\n  id: \"XLight_svg__b\",\n  fill: \"#fff\"\n}, React.createElement(\"use\", {\n  xlinkHref: \"#XLight_svg__a\"\n})), React.createElement(\"use\", {\n  stroke: \"#FFF\",\n  fill: \"#FFF\",\n  fillRule: \"nonzero\",\n  strokeLinecap: \"round\",\n  xlinkHref: \"#XLight_svg__a\"\n}), React.createElement(\"g\", {\n  mask: \"url(#XLight_svg__b)\",\n  fill: \"transparent\",\n  fillRule: \"nonzero\"\n}, React.createElement(\"path\", {\n  d: \"M0 0h20v20H0z\"\n})));\n\nvar SvgXLight = function SvgXLight(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 20 20\",\n    ref: svgRef\n  }, props), title ? React.createElement(\"title\", null, title) : null, _ref2, _ref3);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgXLight, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/XLight.b14ef42f.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"switch\", null, React.createElement(\"g\", null, React.createElement(\"path\", {\n  d: \"M96 54.1l1.5 16.5c.2 1.8-1.8 3.2-3.4 2.3l-4.6-2.3c-7.5 14.3-22.4 24-39.5 24-20.1 0-37.1-13.3-42.7-31.6-.7-2.3 1.1-4.7 3.5-4.7 1.6 0 3 1.1 3.5 2.6C19 76.2 33.2 87.3 50 87.3c14.3 0 26.8-8.1 33-19.9L78.3 65c-1.7-.8-1.7-3.2-.2-4.1l14.2-8.6c1.6-.9 3.5.1 3.7 1.8zM50 5.4c20.1 0 37.1 13.3 42.7 31.6.7 2.3-1.1 4.7-3.5 4.7-1.6 0-3-1.1-3.5-2.6C81 23.8 66.8 12.7 50 12.7c-14.3 0-26.8 8.1-33 19.9l4.7 2.4c1.7.8 1.7 3.2.2 4.1L7.6 47.7c-1.5.9-3.4-.1-3.6-1.8L2.5 29.3c-.2-1.8 1.8-3.2 3.4-2.3l4.6 2.3C18 15.1 32.9 5.4 50 5.4z\"\n})));\n\nvar SvgRepeatFrequency = function SvgRepeatFrequency(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 100 125\",\n    ref: svgRef\n  }, props), title ? React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgRepeatFrequency, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/repeat-frequency.92d9e92c.svg\";\nexport { ForwardRef as ReactComponent };","/**\n * The Icon Set for Samwise.\n */\n\nimport React, {\n  KeyboardEvent,\n  MouseEvent,\n  ReactElement,\n  StatelessComponent,\n  SVGAttributes,\n} from 'react';\nimport { IconName } from './samwise-icon-types';\nimport { ReactComponent as Alert } from '../../assets/svgs/alert.svg';\nimport { ReactComponent as CalendarDark } from '../../assets/svgs/calendar-dark.svg';\nimport { ReactComponent as CalendarLight } from '../../assets/svgs/calendar-light.svg';\nimport { ReactComponent as CheckedDark } from '../../assets/svgs/checked-dark.svg';\nimport { ReactComponent as CheckedLight } from '../../assets/svgs/checked.svg';\nimport { ReactComponent as Clock } from '../../assets/svgs/clock.svg';\nimport { ReactComponent as Grabber } from '../../assets/svgs/grabbers.svg';\nimport { ReactComponent as Hide } from '../../assets/svgs/hide.svg';\nimport { ReactComponent as Hug } from '../../assets/svgs/hug.svg';\nimport { ReactComponent as PersonalView } from '../../assets/svgs/personal-view.svg';\nimport { ReactComponent as PinDarkFilled } from '../../assets/svgs/pin-2-dark-filled.svg';\nimport { ReactComponent as PinDarkOutline } from '../../assets/svgs/pin-2-dark-outline.svg';\nimport { ReactComponent as PinLightFilled } from '../../assets/svgs/pin-2-light-filled.svg';\nimport { ReactComponent as PinLightOutline } from '../../assets/svgs/pin-2-light-outline.svg';\nimport { ReactComponent as Poke } from '../../assets/svgs/poke.svg';\nimport { ReactComponent as Repeat } from '../../assets/svgs/repeat.svg';\nimport { ReactComponent as RepeatLight } from '../../assets/svgs/repeat-light.svg';\nimport { ReactComponent as Settings } from '../../assets/svgs/settings.svg';\nimport { ReactComponent as Show } from '../../assets/svgs/show.svg';\nimport { ReactComponent as Tag } from '../../assets/svgs/tag.svg';\nimport { ReactComponent as Unchecked } from '../../assets/svgs/unchecked.svg';\nimport { ReactComponent as DropDown } from '../../assets/svgs/v.svg';\nimport { ReactComponent as XDark } from '../../assets/svgs/XDark.svg';\nimport { ReactComponent as XLight } from '../../assets/svgs/XLight.svg';\nimport { ReactComponent as RepeatFrequency } from '../../assets/svgs/repeat-frequency.svg';\n\ntype SvgProps = SVGAttributes<SVGElement>;\n\ntype Props = SvgProps & { readonly iconName: IconName; readonly title: string | undefined };\n\nconst SamwiseIcon = ({ iconName, title, ...otherProps }: Props): ReactElement => {\n  let SvgComponent: StatelessComponent<SvgProps>;\n  let altText: string;\n  // let title: string;\n\n  switch (iconName) {\n    case 'alert':\n      SvgComponent = Alert;\n      altText = 'alert';\n      break;\n    case 'calendar-dark':\n      SvgComponent = CalendarDark;\n      altText = 'Due date';\n      break;\n    case 'calendar-light':\n      SvgComponent = CalendarLight;\n      altText = 'Due date';\n      break;\n    case 'checked-dark':\n      SvgComponent = CheckedDark;\n      altText = 'Checked';\n      break;\n    case 'checked-light':\n      SvgComponent = CheckedLight;\n      altText = 'Checked';\n      break;\n    case 'clock':\n      SvgComponent = Clock;\n      altText = 'clock';\n      break;\n    case 'grabber':\n      SvgComponent = Grabber;\n      altText = 'Reorder';\n      break;\n    case 'hide':\n      SvgComponent = Hide;\n      altText = 'Hide';\n      break;\n    case 'hug':\n      SvgComponent = Hug;\n      altText = 'Give a hug';\n      break;\n    case 'personal-view':\n      SvgComponent = PersonalView;\n      altText = 'Switch to Personal Samwise';\n      break;\n    case 'pin-dark-filled':\n      SvgComponent = PinDarkFilled;\n      altText = 'Unpin from Focus';\n      break;\n    case 'pin-dark-outline':\n      SvgComponent = PinDarkOutline;\n      altText = 'Pin to Focus';\n      break;\n    case 'pin-light-filled':\n      SvgComponent = PinLightFilled;\n      altText = 'Unpin from Focus';\n      break;\n    case 'pin-light-outline':\n      SvgComponent = PinLightOutline;\n      altText = 'Pin to Focus';\n      break;\n    case 'poke':\n      SvgComponent = Poke;\n      altText = 'Poke!';\n      break;\n    case 'repeat':\n      SvgComponent = Repeat;\n      altText = 'Repeating';\n      break;\n    case 'repeat-light':\n      SvgComponent = RepeatLight;\n      altText = 'Repeating Task';\n      break;\n    case 'settings':\n      SvgComponent = Settings;\n      altText = 'Settings';\n      break;\n    case 'show':\n      SvgComponent = Show;\n      altText = 'Show';\n      break;\n    case 'tag':\n      SvgComponent = Tag;\n      altText = 'Tag';\n      break;\n    case 'unchecked':\n      SvgComponent = Unchecked;\n      altText = 'unchecked';\n      break;\n    case 'dropdown':\n      SvgComponent = DropDown;\n      altText = 'More';\n      break;\n    case 'x-dark':\n      SvgComponent = XDark;\n      altText = 'Delete';\n      break;\n    case 'x-light':\n      SvgComponent = XLight;\n      altText = 'Delete';\n      break;\n    case 'x-light-settings':\n      SvgComponent = XLight;\n      altText = 'Close Settings';\n      break;\n    case 'repeat-frequency':\n      SvgComponent = RepeatFrequency;\n      altText = 'Repeat Frequency';\n      break;\n    default:\n      throw new Error(`Unrecognized icon name: ${iconName}`);\n  }\n  const allPropsToSvg = {\n    width: '1em',\n    height: '1em',\n    alt: altText,\n    tabIndex: 0,\n    title: altText,\n    onKeyUp: (e: KeyboardEvent<SVGElement>) => {\n      e.stopPropagation();\n      if (e.key === ' ' && otherProps.onClick != null) {\n        // hacky way to convert space to click. Potentially unsafe but generally OK.\n        otherProps.onClick(e as unknown as MouseEvent<SVGElement>);\n      }\n    },\n    ...otherProps,\n  };\n  return (\n    <span title={title ?? altText}>\n      {/* eslint-disable-next-line react/jsx-props-no-spreading */}\n      <SvgComponent {...allPropsToSvg} />\n    </span>\n  );\n};\n\nSamwiseIcon.defaultProps = { title: undefined };\n\nexport default SamwiseIcon;\n","import React, { ReactElement } from 'react';\nimport { Views } from './types';\nimport styles from './GroupIcon.module.scss';\n\ntype Props = {\n  groupName: string;\n  handleClick: (selectedView: Views, selectedGroup: string | undefined) => void;\n}\n\nexport default ({ groupName, handleClick }: Props): ReactElement => (\n  <button\n    type=\"button\"\n    onClick={() => handleClick('group', groupName)}\n    className={styles.GroupIcon}\n  >\n    {groupName}\n  </button>\n);\n","import React, { ReactElement } from 'react';\nimport SamwiseIcon from 'components/UI/SamwiseIcon';\nimport { faPlus } from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport GroupIcon from './GroupIcon';\nimport styles from './index.module.scss';\n\ntype Views =\n  | 'personal'\n  | 'group';\n\ntype Props = {\n  groups: string[];\n  changeView: (selectedView: Views, selectedGroup: string | undefined) => void;\n}\n\nexport default ({ groups, changeView }: Props): ReactElement => (\n  <div className={styles.SideBar}>\n    <button\n      type=\"button\"\n      onClick={() => changeView('personal', undefined)}\n      className={styles.PersonalViewButton}\n    >\n      <SamwiseIcon iconName=\"personal-view\" />\n    </button>\n    {\n      groups.map((g) => (\n        <GroupIcon\n          groupName={g}\n          handleClick={changeView}\n          key={g}\n        />\n      ))\n    }\n    <button type=\"button\" className={styles.PlusIcon}>\n      <FontAwesomeIcon icon={faPlus} />\n    </button>\n  </div>\n);\n","import React, { ReactElement } from 'react';\nimport SamwiseIcon from 'components/UI/SamwiseIcon';\nimport styles from './Member.module.scss';\n\ntype Props = {\n  memberName: string;\n}\n\nexport default ({ memberName }: Props): ReactElement => {\n  const initials = `${memberName.split(' ')[0].charAt(0)}${memberName.split(' ')[1].charAt(0)}`;\n  return (\n    <div className={styles.Member}>\n      <div className={styles.Initials}>{initials}</div>\n      <p>{memberName}</p>\n      <SamwiseIcon className={styles.MemberIcon} iconName=\"poke\" />\n      <SamwiseIcon className={styles.MemberIcon} iconName=\"hug\" />\n    </div>\n  );\n};\n","import React, { ReactElement } from 'react';\nimport { faPlus } from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport Member from './Member';\nimport styles from './index.module.scss';\n\ntype Props = {\n  groupMemberNames: string[];\n}\n\nexport default ({ groupMemberNames }: Props): ReactElement => (\n  <div className={styles.People}>\n    <h2>People</h2>\n    {\n      groupMemberNames.map((m) => <Member memberName={m} key={m} />)\n    }\n    <div className={styles.AddMember}>\n      <div>\n        <FontAwesomeIcon icon={faPlus} />\n      </div>\n      Add member\n    </div>\n  </div>\n);\n","import React, { ReactElement } from 'react';\nimport People from './People';\n\nexport default (): ReactElement => (\n  <People groupMemberNames={['Darien Lopez', 'Sarah Johnson', 'Michelle Parker']} />\n);\n","import React, { ReactElement } from 'react';\nimport MiddleBar from './MiddleBar';\nimport styles from './index.module.scss';\n\ntype Props = {\n  groupName: string;\n}\n\n// will use groupName later\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nexport default ({ groupName }: Props): ReactElement => (\n  <div className={styles.MiddleBar}>\n    <MiddleBar />\n  </div>\n);\n","/* eslint-disable no-bitwise */\n/**\n * Number of days in a week (7)\n */\nexport const DAYS_IN_WEEK = 7;\n/**\n * Whether a certain bit in a bitset is set\n * @param bit The bitset to check\n * @param d The position of the bit (zero-indexed from the LEFT)\n * @param totalLen The length of the bitset\n */\nexport const isBitSet = (bit, d, totalLen) => ((bit & (1 << (totalLen - 1 - d))) !== 0);\n/**\n * Return a bitset with a certain bit set\n * @param bit The bitset to modify\n * @param index The position of the bit to set (zero-indexed from the LEFT)\n * @param totalLen The length of the bitset\n */\nexport const setBit = (bit, index, totalLen) => (bit | (1 << (totalLen - 1 - index)));\n/**\n * Return a bitset with a certain bit unset\n * @param bit The bitset to modify\n * @param index The position of the bit to unset (zero-indexed from the LEFT)\n * @param totalLen The length of the bitset\n */\nexport const unsetBit = (bit, index, totalLen) => (bit & (~(1 << (totalLen - 1 - index))));\n/**\n * Sets a bit in a seven digit bitset representing week.\n *\n * @param bit The bitset.\n * @param d The day of the week (zero-indexed from Sunday).\n * @param totalLen total length of the bitset.\n */\nexport const setDayOfWeek = (bit, d) => setBit(bit, d, DAYS_IN_WEEK);\n/**\n * Unsets a bit in a seven digit bitset representing week.\n *\n * @param bit The bitset.\n * @param d The day of the week (zero-indexed from Sunday).\n * @param totalLen total length of the bitset.\n */\nexport const unsetDayOfWeek = (bit, d) => unsetBit(bit, d, DAYS_IN_WEEK);\n/**\n * Whether a day of the week is set in a seven digit bitset.\n *\n * @param bit The bitset.\n * @param d The day of the week (zero-indexed from Sunday).\n * @param totalLen total length of the bitset.\n */\nexport const isDayOfWeekSet = (bit, d) => isBitSet(bit, d, DAYS_IN_WEEK);\n","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { isBitSet } from './bitwise-util';\n/**\n * This is the utility module for array of tasks and subtasks.\n * This module implements many common functional operations on an array of tasks or subtasks.\n * Other modules should try to call functions in this module instead of implementing their own.\n */\nexport const getFilteredNotCompletedInFocusTask = (task) => {\n    const { children } = task, rest = __rest(task, [\"children\"]);\n    const newSubTasks = [];\n    if (task.inFocus) {\n        if (!task.complete) {\n            children.forEach((s) => {\n                if (s != null && !s.complete) {\n                    newSubTasks.push(s);\n                }\n            });\n        }\n        else {\n            return null;\n        }\n    }\n    else {\n        children.forEach((s) => {\n            if (s != null && s.inFocus && !task.complete && !s.complete) {\n                newSubTasks.push(s);\n            }\n        });\n        if (newSubTasks.length === 0) {\n            return null;\n        }\n    }\n    return Object.assign(Object.assign({}, rest), { children: newSubTasks.sort((a, b) => a.order - b.order) });\n};\nexport const getFilteredCompletedInFocusTask = (task) => {\n    const { children } = task, rest = __rest(task, [\"children\"]);\n    const newSubTasks = [];\n    if (task.inFocus) {\n        if (task.complete) {\n            children.forEach((s) => {\n                if (s != null) {\n                    newSubTasks.push(s);\n                }\n            });\n        }\n        else {\n            children.forEach((s) => {\n                if (s != null && s.complete) {\n                    newSubTasks.push(s);\n                }\n            });\n            if (newSubTasks.length === 0) {\n                return null;\n            }\n        }\n    }\n    else {\n        children.forEach((s) => {\n            if (s != null && s.inFocus && (task.complete || s.complete)) {\n                newSubTasks.push(s);\n            }\n        });\n        if (newSubTasks.length === 0) {\n            return null;\n        }\n    }\n    return Object.assign(Object.assign({}, rest), { children: newSubTasks.sort((a, b) => a.order - b.order) });\n};\n/**\n * Compute the progress given a list of filtered tasks.\n *\n * @param {Task[]} inFocusTasks in-focus filtered tasks.\n * @param {Map<string, SubTask>} subTasks all subtasks map as a reference.\n * @return {TasksProgressProps} the progress.\n */\nexport const computeTaskProgress = (inFocusTasks) => {\n    let completedTasksCount = 0;\n    let allTasksCount = 0;\n    for (let i = 0; i < inFocusTasks.length; i += 1) {\n        const task = inFocusTasks[i];\n        if (task.inFocus) {\n            allTasksCount += task.children.length + 1;\n        }\n        else {\n            allTasksCount += task.children.reduce((acc, subTask) => acc + (subTask.inFocus ? 1 : 0), 0);\n        }\n        if (task.complete) {\n            completedTasksCount += task.children.reduce((acc, subTask) => acc + (task.inFocus || subTask.inFocus ? 1 : 0), task.inFocus ? 1 : 0);\n        }\n        else {\n            completedTasksCount += task.children.reduce((acc, subTask) => acc + ((task.inFocus || subTask.inFocus) && subTask.complete ? 1 : 0), 0);\n        }\n    }\n    return { completedTasksCount, allTasksCount };\n};\n/**\n * @param date the date to check.\n * @param pattern the repeats pattern to be checked against.\n * @returns whether the repeating pattern matches the given date.\n */\nfunction dateMatchRepeatPattern(date, pattern) {\n    switch (pattern.type) {\n        case 'WEEKLY':\n            return isBitSet(pattern.bitSet, date.getDay(), 7);\n        case 'BIWEEKLY':\n            throw new Error('NOT_SUPPORTED_YET');\n        case 'MONTHLY':\n            return isBitSet(pattern.bitSet, date.getDate(), 31);\n        default:\n            throw new Error();\n    }\n}\n/**\n * @param date the date to check.\n * @param repeatingTaskMetadata the repeats metadata to be checked against.\n * @returns whether the given date can host a repeats given all the repeats info.\n */\nexport function dateMatchRepeats(date, { date: { startDate, endDate, pattern }, forks }) {\n    const dateString = date.toDateString();\n    if (forks.some(({ replaceDate }) => replaceDate.toDateString() === dateString)) {\n        // it's a one time task or a fork, not a repeat\n        return false;\n    }\n    if (date < startDate) {\n        // before the start\n        return false;\n    }\n    if (endDate instanceof Date) {\n        if (date > endDate) {\n            // after the end\n            return false;\n        }\n        return dateMatchRepeatPattern(date, pattern);\n    }\n    const repeatCount = endDate;\n    let passedRepeats = 0;\n    const currentDate = new Date(startDate);\n    while (currentDate < date) {\n        if (dateMatchRepeatPattern(currentDate, pattern)) {\n            passedRepeats += 1;\n            currentDate.setDate(currentDate.getDate() + 1);\n        }\n        if (passedRepeats >= repeatCount) {\n            // after n occurences\n            return false;\n        }\n    }\n    return dateMatchRepeatPattern(date, pattern);\n}\n","import { BannerMessageIds, BannerMessageStatus } from 'common/lib/types/store-types';\n\n/**\n * This file contains a list of all banner messages we may send.\n * It is a centralized place to compute what exact message we need to display.\n */\n\ntype MessagesType = { readonly [I in BannerMessageIds]: string };\n\nconst messages: MessagesType = {\n  '2019-03-10-quota-exceeded-incident': 'Oopsies! Due to unexpectedly high traffic, Samwise was briefly down on the night of March 9 for an upgrade. Sorry for any inconvenience this may have caused you!',\n};\n\n// sorted in decreasing order of date\nconst messageIdCollection: BannerMessageIds[] = [\n  // comment out the messages that no longer need to be displayed.\n  // '2019-03-10-quota-exceeded-incident',\n];\n\nexport type MessageWithId = { readonly id: BannerMessageIds; readonly message: string };\n\n/**\n * @param status the current banner message status.\n * @returns [message id, the message to display], or null if we don't need to display any of them.\n */\nexport default function findMessageToDisplay(status: BannerMessageStatus): MessageWithId | null {\n  // current stategy: only display the latest one\n  for (let i = 0; i < messageIdCollection.length; i += 1) {\n    const messageId = messageIdCollection[i];\n    const messageStatus = status[messageId];\n    const shouldBeDisplayed = messageStatus !== true;\n    if (shouldBeDisplayed) {\n      return { id: messageId, message: messages[messageId] };\n    }\n  }\n  return null;\n}\n","import { createSelector, createSelectorCreator, defaultMemoize } from 'reselect';\nimport { Map, Set } from 'immutable';\nimport { State, Tag, Task, BannerMessageStatus, RepeatingTaskMetadata } from 'common/lib/types/store-types';\nimport { NONE_TAG } from 'common/lib/util/tag-util';\nimport {\n  computeTaskProgress,\n  TasksProgressProps,\n  getFilteredCompletedInFocusTask,\n  getFilteredNotCompletedInFocusTask,\n  dateMatchRepeats,\n} from 'common/lib/util/task-util';\nimport findMessageToDisplay, { MessageWithId } from '../components/TitleBar/Banner/messages';\n\n/*\n * --------------------------------------------------------------------------------\n * Part 1: Selector Utilities\n * --------------------------------------------------------------------------------\n */\n\nconst createSetEqualSelector = createSelectorCreator(\n  defaultMemoize,\n  // Bug in reselect type definition: https://github.com/reduxjs/reselect/issues/384\n  // eslint-disable-next-line @typescript-eslint/ban-ts-ignore\n  // @ts-ignore\n  (a: Set<string>, b: Set<string>) => a.equals(b),\n);\n\ntype SelectorOf<T, Props = void> = (state: State, ownProps: Props) => T;\n\n/*\n * --------------------------------------------------------------------------------\n * Part 2: Simple & Direct Selectors\n * --------------------------------------------------------------------------------\n */\n\nconst getTags = ({ tags }: State): Map<string, Tag> => tags;\nconst getTasks = ({ tasks }: State): Map<string, Task> => tasks;\nconst getDateTaskMap = ({ dateTaskMap }: State): Map<string, Set<string>> => dateTaskMap;\nconst getRepeatedTaskSet = ({ repeatedTaskSet }: State): Set<string> => repeatedTaskSet;\nconst getBannerMessageStatus = (\n  { bannerMessageStatus }: State,\n): BannerMessageStatus => bannerMessageStatus;\n\nconst getTasksId = ({ tasks }: State): Set<string> => Set(tasks.keys());\n\nexport const getTagById = ({ tags }: State, id: string): Tag => tags.get(id) ?? NONE_TAG;\nexport const getTaskById = ({ tasks }: State, id: string): Task | null | undefined => tasks.get(id);\n\n/*\n * --------------------------------------------------------------------------------\n * Part 3: Compound Selectors\n * --------------------------------------------------------------------------------\n */\n\nexport const getOrderedTags: SelectorOf<Tag[]> = createSelector(\n  getTags, (tags) => Array.from(tags.values()).sort((a, b) => a.order - b.order),\n);\n\nconst getTasksInFocus: SelectorOf<Task[]> = createSelector(\n  [getTasks],\n  (tasks) => Array\n    .from(tasks.values())\n    .filter((t) => t.inFocus || t.children.some((subTask) => subTask.inFocus)),\n);\n\nexport const getTaskIds: SelectorOf<{ readonly ids: string[] }> = createSetEqualSelector(\n  getTasksId, (ids: Set<string>) => ({ ids: ids.toArray() }),\n);\n\ntype IdOrder = { readonly id: string; readonly order: number };\ntype IdOrderListProps = { readonly idOrderList: IdOrder[] };\n\nlet createGetIdOrderListByDateSelectors = Map<string, SelectorOf<IdOrderListProps>>();\n\nexport const createGetIdOrderListByDate = (\n  date: string,\n): SelectorOf<IdOrderListProps> => {\n  const existingSelector = createGetIdOrderListByDateSelectors.get(date);\n  if (existingSelector != null) {\n    return existingSelector;\n  }\n  const selector: SelectorOf<IdOrderListProps> = createSelector(\n    [getTasks, getDateTaskMap, getRepeatedTaskSet], (tasks, dateTaskMap, repeatedTaskSet) => {\n      const set = dateTaskMap.get(date);\n      const list: IdOrder[] = [];\n      if (set != null) {\n        // date matches\n        set.forEach((id) => {\n          const task = tasks.get(id);\n          if (task != null) {\n            const { order } = task;\n            list.push({ id, order });\n          }\n        });\n      }\n      // repeat matches\n      const dateObj = new Date(date);\n      repeatedTaskSet.forEach((id) => {\n        const task = tasks.get(id);\n        if (task == null) {\n          return;\n        }\n        const repeatedTask = task as Task<RepeatingTaskMetadata>;\n        if (dateMatchRepeats(dateObj, repeatedTask.metadata)) {\n          const { order } = repeatedTask;\n          list.push({ id, order });\n        }\n      });\n      return { idOrderList: list.sort((a, b) => a.order - b.order) };\n    },\n  );\n  createGetIdOrderListByDateSelectors = createGetIdOrderListByDateSelectors.set(date, selector);\n  return selector;\n};\n\nexport const getProgress: SelectorOf<TasksProgressProps> = createSelector(\n  [getTasksInFocus], computeTaskProgress,\n);\n\nexport type FocusViewTaskMetaData = IdOrder & {\n  readonly inFocusView: boolean; // whether the task is in the focus view\n  readonly inCompleteFocusView: boolean; // whether the task in in the complete focus view\n};\nexport type FocusViewProps = {\n  readonly tasks: FocusViewTaskMetaData[];\n  readonly progress: TasksProgressProps;\n};\n\nexport const getFocusViewProps: SelectorOf<FocusViewProps> = createSelector(\n  [getTasks, getProgress], (tasks, progress) => {\n    const taskMetaDataList: FocusViewTaskMetaData[] = [];\n    Array.from(tasks.values()).sort((a, b) => a.order - b.order).forEach((task) => {\n      const filteredUncompletedTask = getFilteredNotCompletedInFocusTask(task);\n      const filteredCompletedTask = getFilteredCompletedInFocusTask(task);\n      const { id, order } = task;\n      if (filteredCompletedTask != null && filteredUncompletedTask != null) {\n        taskMetaDataList.push({ id, order, inFocusView: true, inCompleteFocusView: true });\n        taskMetaDataList.push({ id, order, inFocusView: true, inCompleteFocusView: false });\n      } else if (filteredCompletedTask != null) {\n        taskMetaDataList.push({ id, order, inFocusView: true, inCompleteFocusView: true });\n      } else if (filteredUncompletedTask != null) {\n        taskMetaDataList.push({ id, order, inFocusView: true, inCompleteFocusView: false });\n      } else {\n        taskMetaDataList.push({ id, order, inFocusView: false, inCompleteFocusView: false });\n      }\n    });\n    return { tasks: taskMetaDataList, progress };\n  },\n);\n\ntype BannerProps = { readonly message: MessageWithId | null };\nexport const getBannerMessage: SelectorOf<BannerProps> = createSelector(\n  getBannerMessageStatus, (status) => ({ message: findMessageToDisplay(status) }),\n);\n","import React, { ReactElement } from 'react';\nimport { connect } from 'react-redux';\nimport Confetti from 'react-dom-confetti';\nimport { TasksProgressProps } from 'common/lib/util/task-util';\nimport styles from './Celebrate.module.css';\nimport { getProgress } from '../../../store/selectors';\n// import Bear from '../../../assets/bear/happy-bear.png';\n\ntype Props = TasksProgressProps;\n\n/**\n * The all tasks complete page. Displays after a user completes all focused tasks.\n */\nexport function AllComplete({ completedTasksCount, allTasksCount }: Props): ReactElement | null {\n  // Simple FSM. 0 = initial, 1 = saw unfinished tasks, 2 = finished all, 3 = hidden\n  const [progress, setProgress] = React.useState<0 | 1 | 2 | 3>(0);\n\n  const percent = completedTasksCount / allTasksCount;\n\n  switch (progress) {\n    case 0:\n    case 3:\n      if (allTasksCount > 0 && percent < 1) {\n        setProgress(1);\n      }\n      return null;\n    case 1:\n      if (allTasksCount > 0 && percent >= 1) {\n        setProgress(2);\n      }\n      break;\n    case 2:\n      if (allTasksCount > 0 && percent < 1) {\n        setProgress(1);\n      }\n      break;\n    default:\n  }\n\n  const shouldShow = progress === 2;\n\n  // const hidePopup = (): void => setProgress(3);\n\n  const confettiConfig = {\n    angle: 0,\n    spread: 360,\n    startVelocity: 18,\n    elementCount: 200,\n    dragFriction: 0.1,\n    duration: 3000,\n    delay: 0,\n    colors: ['#a864fd', '#29cdff', '#78ff44', '#ff718d', '#fdff6a'],\n  };\n\n  const showClass = shouldShow ? styles.Main : `${styles.Main} ${styles.Hidden}`;\n\n  return (\n    <div className={showClass}>\n      <span className={styles.ConfWrap}>\n        <Confetti active={shouldShow} config={confettiConfig} />\n      </span>\n    </div>\n  );\n}\n\nconst Connected = connect(getProgress)(AllComplete);\nexport default Connected;\n","const colMap: { readonly [colorHex: string]: string } = {\n  '#bb5769': 'Dark Rose',\n  '#ff8a8a': 'Peachy Pink',\n  '#ea5e3d': 'Dusty Orange',\n  '#fcab10': 'Goldfish',\n  '#83ba9a': 'Sage',\n  '#00a346': 'Emerald',\n  '#009c8a': 'Teal',\n  '#00c0d7': 'Aqua',\n  '#289de9': 'Blue',\n  '#4742b7': 'Blueberry',\n  '#20639b': 'Cobalt',\n  '#5a7e8c': 'Blue Grey',\n  '#740794': 'Grape',\n  '#ab8bb6': 'Lilac',\n};\n\nexport default colMap;\n\n/*\n  '#7ed321': 'green     ',\n  '#b92424': 'red       ',\n  '#5ed3e9': 'light blue',\n  '#459ae5': 'dark blue ',\n  '#9d4aa9': 'purple    ',\n  '#ff8a8a': 'pink      ',\n  '#56d9c1': 'seafoam   ',\n*/\n\n/*\n\nlight-teal          #7ed4e5\nwhite               #ffffff\nmedium-purple       #9d4aa9\npeachy-pink         #ff8a8a\ngreyish-brown       #5a5a5a\napple-green         #7ed321\nbrick               #b92424\ntiffany-blue        #5ed3e9\ndark-sky-blue       #459ae5\nwarm-grey           #7b7b7b\ncarolina-blue       #7fbdff\nscarlet             #d0021b\nwarm-grey-two       #9b9b9b\ngreyish-brown-two   #4a4a4a\nbarney-purple       #740794\ncornflower          #5f53ff\nseafoam-blue        #56d9c1\n\n*/\n\n/*\n'#56d9c1': 'light blue       ',\n'#5ed3e9': 'seafoam          ',\n'#ff8a8a': 'coral            ',\n'#5f53ff': 'dark blue        ',\n'#740794': 'purple           ', */\n","import React, { ReactElement } from 'react';\nimport { GithubPicker } from 'react-color';\nimport colMap from './ListColors';\nimport styles from './ColorEditor.module.css';\nimport SamwiseIcon from '../../UI/SamwiseIcon';\n\ntype Props = {\n  readonly color: string;\n  readonly onChange: (color: string) => void;\n};\n\nconst colArray: string[] = Object.keys(colMap);\n\nexport default function ColorEditor({ color, onChange }: Props): ReactElement {\n  const [doesShowEditor, setDoesShowEditor] = React.useState(false);\n\n  const toggleEditor = (): void => setDoesShowEditor((s) => !s);\n  const onChangeComplete = (e: { hex: string }): void => {\n    onChange(e.hex);\n    setDoesShowEditor(false);\n  };\n\n  return (\n    <>\n      <button type=\"button\" className={styles.ColorEdit} onClick={toggleEditor} tabIndex={0}>\n        {colMap[color.toLowerCase()]}\n        <span className={styles.ColorDisplay} style={{ backgroundColor: color }} />\n        <SamwiseIcon iconName=\"dropdown\" className={styles.Arrow} />\n      </button>\n      {doesShowEditor && (\n        <div className={styles.ColorPicker}>\n          <GithubPicker\n            color={color}\n            onChangeComplete={onChangeComplete}\n            triangle=\"top-right\"\n            colors={colArray}\n          />\n        </div>\n      )}\n    </>\n  );\n}\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nexport default class OrderManager {\n    constructor(database, getUserEmail) {\n        this.database = database;\n        this.getUserEmail = getUserEmail;\n        /**\n         * Allocate a new order number of tags or tgs.\n         *\n         * @param orderFor the order for tags or tasks.\n         * @param count the count allocated. Default to 1.\n         * @return the promise of the order number.\n         */\n        this.allocateNewOrder = (orderFor, count = 1) => __awaiter(this, void 0, void 0, function* () {\n            const ref = this.database.orderManagerCollection().doc(this.getUserEmail());\n            const forTags = orderFor === 'tags';\n            return this.database.db().runTransaction((transaction) => __awaiter(this, void 0, void 0, function* () {\n                const docInTransaction = yield transaction.get(ref);\n                if (!docInTransaction.exists) {\n                    const newManager = { tagsMaxOrder: count, tasksMaxOrder: count };\n                    transaction.set(ref, newManager);\n                    return 0;\n                }\n                const manager = docInTransaction.data();\n                if (manager === undefined) {\n                    throw new Error('Impossible!');\n                }\n                const newOrder = forTags ? manager.tagsMaxOrder : manager.tasksMaxOrder;\n                const update = forTags\n                    ? { tagsMaxOrder: newOrder + count }\n                    : { tasksMaxOrder: newOrder + count };\n                transaction.update(ref, update);\n                return newOrder;\n            }));\n        });\n    }\n}\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport OrderManager from './order-manager';\nimport { ignore } from '../util/general-util';\nimport { NONE_TAG_ID } from '../util/tag-util';\nexport default class Actions {\n    constructor(getUserEmail, database) {\n        this.getUserEmail = getUserEmail;\n        this.database = database;\n        this.createFirestoreObject = (orderFor, source) => __awaiter(this, void 0, void 0, function* () {\n            const order = yield this.orderManager.allocateNewOrder(orderFor);\n            return Object.assign(Object.assign({}, source), { owner: this.getUserEmail(), order });\n        });\n        /*\n         * --------------------------------------------------------------------------------\n         * Section 1: Tags Actions\n         * --------------------------------------------------------------------------------\n         */\n        this.addTag = (tag) => __awaiter(this, void 0, void 0, function* () {\n            const firebaseTag = yield this.createFirestoreObject('tags', tag);\n            yield this.database.tagsCollection().add(firebaseTag);\n        });\n        this.editTag = (tag) => __awaiter(this, void 0, void 0, function* () {\n            const { id } = tag, rest = __rest(tag, [\"id\"]);\n            yield this.database\n                .tagsCollection()\n                .doc(id)\n                .update(rest);\n        });\n        this.removeTag = (id) => __awaiter(this, void 0, void 0, function* () {\n            yield this.database\n                .tasksCollection()\n                .where('owner', '==', this.getUserEmail())\n                .where('tag', '==', id)\n                .get()\n                .then((s) => {\n                const batch = this.database.db().batch();\n                s.docs\n                    .filter((doc) => doc.data().type === 'TASK')\n                    .forEach((doc) => {\n                    batch.update(this.database.tasksCollection().doc(doc.id), { tag: NONE_TAG_ID });\n                });\n                batch.delete(this.database.tagsCollection().doc(id));\n                batch.commit().then(ignore);\n            });\n        });\n        this.orderManager = new OrderManager(database, getUserEmail);\n    }\n}\n","import firebase from 'firebase/app';\nimport 'firebase/analytics';\nimport { AppUser } from 'firebase/auth-util';\n\nexport const initialize = (): void => {\n  firebase.analytics().logEvent('screen-view', { screenName: 'Homepage' });\n};\n\ntype EventType =\n  | 'add-tag'\n  | 'edit-tag'\n  | 'delete-tag'\n  | 'add-task'\n  | 'edit-task'\n  | 'delete-task'\n  | 'add-sub-task'\n  | 'edit-sub-task'\n  | 'delete-sub-task'\n  | 'complete'\n  | 'focus';\n\nexport const setGAUser = ({ uid }: AppUser): void => {\n  firebase.analytics().setUserId(uid);\n  firebase.analytics().logEvent('login', {});\n};\n\nconst reportEvent = (eventType: EventType): void => {\n  firebase.analytics().logEvent<EventType>(eventType, {});\n};\n\nexport const reportAddTagEvent = (): void => reportEvent('add-tag');\nexport const reportEditTagEvent = (): void => reportEvent('edit-tag');\nexport const reportDeleteTagEvent = (): void => reportEvent('delete-tag');\n\nexport const reportAddTaskEvent = (): void => reportEvent('add-task');\nexport const reportEditTaskEvent = (): void => reportEvent('edit-task');\nexport const reportDeleteTaskEvent = (): void => reportEvent('delete-task');\n\nexport const reportAddSubTaskEvent = (): void => reportEvent('add-sub-task');\nexport const reportEditSubTaskEvent = (): void => reportEvent('edit-sub-task');\nexport const reportDeleteSubTaskEvent = (): void => reportEvent('delete-sub-task');\n\nexport const reportCompleteTaskEvent = (): void => reportEvent('complete');\nexport const reportFocusTaskEvent = (): void => reportEvent('focus');\n","import firebase from 'firebase/app';\nimport 'firebase/auth';\nimport { error } from 'common/lib/util/general-util';\n\nexport type AppUser = {\n  readonly uid: string;\n  readonly displayName: string;\n  readonly email: string;\n  readonly token: string;\n};\n\n/**\n * Returns the promise of an app user from the given raw firebase user.\n *\n * @param firebaseUser a raw firebase user or null.\n * @return the promise of an app user or null if there is no such user..\n */\nexport async function toAppUser(firebaseUser: firebase.User | null): Promise<AppUser | null> {\n  if (firebaseUser == null) {\n    return null;\n  }\n  const { uid, displayName, email } = firebaseUser;\n  if (typeof displayName !== 'string' || typeof email !== 'string') {\n    throw new Error('Bad user!');\n  }\n  const token: string = await firebaseUser.getIdToken(true);\n  return { uid, displayName, email, token };\n}\n\nlet appUser: AppUser | null = null;\n\n/**\n * Cache the given user in the memory.\n */\nexport function cacheAppUser(user: AppUser): void {\n  appUser = user;\n}\n\n/**\n * Returns the global app user.\n *\n * If the user is not cached yet, it will not try to get one from firebase.\n * Instead, it will throw an error.\n */\nexport function getAppUser(): AppUser {\n  return appUser ?? error('App is not initialized.');\n}\n\n/**\n * Sign out from firebase auth.\n */\nexport function firebaseSignOut(): void {\n  firebase\n    .auth()\n    .signOut()\n    .then(() => {});\n}\n","import firebase from 'firebase/app';\nimport 'firebase/firestore';\nimport Database from 'common/lib/firebase/database';\n\nexport const db = (): firebase.firestore.Firestore => firebase.firestore();\n\nexport const database: Database = new Database(db);\n","/* eslint-disable @typescript-eslint/no-explicit-any */\nexport default class Database {\n    constructor(db) {\n        this.db = db;\n        this.orderManagerCollection = () => this.db().collection('samwise-order-manager');\n        this.settingsCollection = () => this.db().collection('samwise-settings');\n        this.bannerMessageStatusCollection = () => this.db().collection('samwise-banner-message');\n        this.tagsCollection = () => this.db().collection('samwise-tags');\n        this.tasksCollection = () => this.db().collection('samwise-tasks');\n        this.subTasksCollection = () => this.db().collection('samwise-subtasks');\n    }\n}\n","/**\n * This module uses firebase's unique client side ID generator technology to ensure that ID\n * do not collide.\n * Read the following article for more details.\n * https://firebase.googleblog.com/2015/02/the-2120-ways-to-ensure-unique_68.html\n */\n\nimport { database } from './db';\n\n/**\n * @returns a safe to use id for a new tag.\n */\nexport const getNewTagId = (): string => database.tagsCollection().doc().id;\n\n/**\n * @returns a safe to use id for a new task.\n */\nexport const getNewTaskId = (): string => database.tasksCollection().doc().id;\n\n/**\n * @returns a safe to use id for a new subtask.\n */\nexport const getNewSubTaskId = (): string => database.subTasksCollection().doc().id;\n","import { firestore } from 'firebase/app';\nimport { Map, Set } from 'immutable';\nimport {\n  Course,\n  SubTask,\n  Tag,\n  Task,\n  BannerMessageIds,\n  PartialMainTask,\n  PartialSubTask,\n  TaskMetadata,\n  RepeatingTaskMetadata,\n  OneTimeTaskMetadata,\n} from 'common/lib/types/store-types';\nimport { error, ignore } from 'common/lib/util/general-util';\nimport {\n  FirestoreCommon,\n  FirestoreTask,\n  FirestoreSubTask,\n} from 'common/lib/types/firestore-types';\nimport { WriteBatch } from 'common/lib/firebase/database';\nimport Actions from 'common/lib/firebase/common-actions';\nimport {\n  reportAddTagEvent,\n  reportEditTagEvent,\n  reportDeleteTagEvent,\n  reportAddTaskEvent,\n  reportEditTaskEvent,\n  reportDeleteTaskEvent,\n  reportAddSubTaskEvent,\n  reportEditSubTaskEvent,\n  reportDeleteSubTaskEvent,\n  reportCompleteTaskEvent,\n  reportFocusTaskEvent,\n} from '../util/ga-util';\nimport { getAppUser } from './auth-util';\nimport { db, database } from './db';\nimport { getNewTaskId } from './id-provider';\nimport { store } from '../store/store';\nimport { Diff } from '../components/Util/TaskEditors/TaskEditor/task-diff-reducer';\n\nconst actions = new Actions(() => getAppUser().email, database);\n\nasync function createFirestoreObject<T>(\n  orderFor: 'tags' | 'tasks',\n  source: T,\n): Promise<T & FirestoreCommon> {\n  const order = await actions.orderManager.allocateNewOrder(orderFor);\n  return { ...source, owner: getAppUser().email, order };\n}\n\nconst mergeWithOwner = <T>(obj: T): T & { readonly owner: string } => ({\n  owner: getAppUser().email,\n  ...obj,\n});\n\ntype WithoutIdOrder<Props> = Pick<Props, Exclude<keyof Props, 'id' | 'order'>>;\ntype WithoutId<Props> = Pick<Props, Exclude<keyof Props, 'id'>>;\nexport type TaskWithoutIdOrderChildren<M = TaskMetadata> = Omit<Task<M>, 'id' | 'order' | 'children'>;\n\n/*\n * --------------------------------------------------------------------------------\n * Section 1: Tags Actions\n * --------------------------------------------------------------------------------\n */\n\nexport const addTag = (tag: WithoutIdOrder<Tag>): void => {\n  const { tags } = store.getState();\n  const { classId } = tag;\n  if (classId != null && Array.from(tags.values()).some((t: Tag) => t.classId === classId)) {\n    return;\n  }\n  actions.addTag(tag).then(reportAddTagEvent);\n};\n\nexport const editTag = (tag: Tag): void => {\n  actions.editTag(tag).then(reportEditTagEvent);\n};\n\nexport const removeTag = (id: string): void => {\n  actions.removeTag(id).then(reportDeleteTagEvent);\n};\n\n/*\n * --------------------------------------------------------------------------------\n * Section 2: Tasks Actions\n * --------------------------------------------------------------------------------\n */\n\nconst asyncAddTask = async (\n  newTaskId: string,\n  task: TaskWithoutIdOrderChildren,\n  subTasks: WithoutId<SubTask>[],\n  batch: WriteBatch,\n): Promise<{ readonly firestoreTask: FirestoreTask; readonly createdSubTasks: SubTask[] }> => {\n  const baseTask: FirestoreCommon = await createFirestoreObject('tasks', {});\n  const createdSubTasks: SubTask[] = subTasks.map((subtask) => {\n    const firebaseSubTask: FirestoreSubTask = mergeWithOwner(subtask);\n    const subtaskDoc = database.subTasksCollection().doc();\n    batch.set(subtaskDoc, firebaseSubTask);\n    return { ...subtask, id: subtaskDoc.id };\n  });\n  const subtaskIds = createdSubTasks.map((s) => s.id);\n  const { metadata, ...rest } = task;\n  const firestoreTask: FirestoreTask = { ...baseTask, ...rest, ...metadata, children: subtaskIds };\n  batch.set(database.tasksCollection().doc(newTaskId), firestoreTask);\n  return { firestoreTask, createdSubTasks };\n};\n\nexport const addTask = (task: TaskWithoutIdOrderChildren, subTasks: WithoutId<SubTask>[]): void => {\n  const newTaskId = getNewTaskId();\n  const batch = db().batch();\n  asyncAddTask(newTaskId, task, subTasks, batch).then(({ createdSubTasks }) => {\n    batch.commit().then(() => {\n      reportAddTaskEvent();\n      createdSubTasks.forEach(reportAddSubTaskEvent);\n    });\n  });\n};\n\nexport const removeAllForks = (taskId: string): void => {\n  (async () => {\n    const { tasks } = store.getState();\n    const task = tasks.get(taskId) ?? error('bad!');\n    const repeatingTask = task as Task<RepeatingTaskMetadata>;\n    const forkIds = repeatingTask.metadata.forks.map((fork) => fork.forkId);\n    const batch = database.db().batch();\n    forkIds.forEach((id) => {\n      if (id !== null) {\n        // delete forked main task\n        batch.delete(database.tasksCollection().doc(id));\n        // delete forked subtasks\n        const forkedTask = tasks.get(id);\n        if (forkedTask != null) {\n          forkedTask.children.forEach(\n            (subTask) => batch.delete(database.subTasksCollection().doc(subTask.id)),\n          );\n        }\n      }\n    });\n    // clear the forked array\n    batch.update(database.tasksCollection().doc(taskId), { forks: [] });\n    batch.commit().then(ignore);\n  })();\n};\n\nexport const handleTaskDiffs = (\n  taskId: string,\n  { subTaskCreations, subTaskEdits, subTaskDeletions, mainTaskEdits }: Diff,\n): void => {\n  const batch = database.db().batch();\n  if (subTaskCreations.size !== 0) {\n    subTaskCreations.forEach((subTask, id) => {\n      const newSubTaskDoc = database.subTasksCollection().doc(id);\n      const firebaseSubTask: FirestoreSubTask = mergeWithOwner(subTask);\n      batch.set(newSubTaskDoc, firebaseSubTask);\n      batch.update(database.tasksCollection().doc(taskId), {\n        children: firestore.FieldValue.arrayUnion(newSubTaskDoc.id),\n      });\n    });\n  }\n  if (subTaskEdits.size !== 0) {\n    subTaskEdits.forEach((partialSubTask, id) => {\n      batch.update(database.subTasksCollection().doc(id), partialSubTask);\n    });\n  }\n  if (subTaskDeletions.size !== 0) {\n    subTaskDeletions.forEach((id) => {\n      batch.delete(database.subTasksCollection().doc(id));\n      batch.update(database.tasksCollection().doc(taskId), {\n        children: firestore.FieldValue.arrayRemove(id),\n      });\n    });\n  }\n  batch.update(database.tasksCollection().doc(taskId), mainTaskEdits);\n  batch.commit().then(() => {\n    if (\n      mainTaskEdits.name\n      || mainTaskEdits.complete\n      || mainTaskEdits.date\n      || mainTaskEdits.inFocus\n      || mainTaskEdits.tag\n    ) {\n      reportEditTaskEvent();\n    }\n    if (mainTaskEdits.complete) {\n      reportCompleteTaskEvent();\n    }\n    if (mainTaskEdits.inFocus) {\n      reportFocusTaskEvent();\n    }\n    subTaskCreations.forEach(reportAddSubTaskEvent);\n    subTaskEdits.forEach(reportEditSubTaskEvent);\n    subTaskDeletions.forEach(reportDeleteSubTaskEvent);\n  });\n};\n\ntype EditType = 'EDITING_MASTER_TEMPLATE' | 'EDITING_ONE_TIME_TASK';\n\nexport const editTaskWithDiff = (\n  taskId: string,\n  editType: EditType,\n  { mainTaskEdits, subTaskCreations, subTaskEdits, subTaskDeletions }: Diff,\n): void => {\n  (async () => {\n    if (editType === 'EDITING_MASTER_TEMPLATE') {\n      await removeAllForks(taskId);\n    }\n    handleTaskDiffs(taskId, { subTaskCreations, subTaskEdits, subTaskDeletions, mainTaskEdits });\n  })();\n};\n\nexport const forkTaskWithDiff = (\n  taskId: string,\n  replaceDate: Date,\n  { mainTaskEdits, subTaskCreations, subTaskEdits, subTaskDeletions }: Diff,\n): void => {\n  const { tasks } = store.getState();\n  const repeatingTaskMaster = tasks.get(taskId) as Task<RepeatingTaskMetadata>;\n  const { id, order, children, metadata, ...originalTaskWithoutId } = repeatingTaskMaster;\n  const newMainTask: TaskWithoutIdOrderChildren = {\n    ...originalTaskWithoutId,\n    ...mainTaskEdits,\n    metadata: {\n      type: 'ONE_TIME',\n      date: replaceDate,\n    },\n  };\n  const newSubTasks: WithoutId<SubTask>[] = [];\n  subTaskCreations.forEach((s) => newSubTasks.push(s));\n  children.forEach((subTask) => {\n    if (subTaskDeletions.has(subTask.id)) {\n      return;\n    }\n    const { id: _, ...subTaskContent } = subTask;\n    const subTaskEdit = subTaskEdits.get(subTask.id);\n    if (subTaskEdit != null) {\n      newSubTasks.push({ ...subTaskContent, ...subTaskEdit });\n    } else {\n      newSubTasks.push(subTaskContent);\n    }\n  });\n  const batch = database.db().batch();\n  const forkId = getNewTaskId();\n  asyncAddTask(forkId, newMainTask, newSubTasks, batch).then(() => {\n    batch.update(database.tasksCollection().doc(id), {\n      forks: firestore.FieldValue.arrayUnion({ forkId, replaceDate }),\n    });\n    batch.commit();\n  });\n};\n\nexport const removeTask = (task: Task): void => {\n  const { tasks, repeatedTaskSet } = store.getState();\n  const batch = database.db().batch();\n  batch.delete(database.tasksCollection().doc(task.id));\n  task.children.forEach((subTask) => batch.delete(database.subTasksCollection().doc(subTask.id)));\n  if (task.metadata.type === 'ONE_TIME' || task.metadata.type === 'GROUP') {\n    // remove fork mentions\n    repeatedTaskSet.forEach((repeatedTaskId) => {\n      const repeatedTask = tasks.get(repeatedTaskId) as Task<RepeatingTaskMetadata> | null;\n      if (repeatedTask == null) {\n        return;\n      }\n      const oldForks = repeatedTask.metadata.forks;\n      let needUpdateFork = false;\n      const newForks = [];\n      for (let i = 0; i < oldForks.length; i += 1) {\n        const fork = oldForks[i];\n        if (fork.forkId === task.id) {\n          needUpdateFork = true;\n          newForks.push({ forkId: null, replaceDate: fork.replaceDate });\n        } else {\n          newForks.push(fork);\n        }\n      }\n      if (needUpdateFork) {\n        batch.update(database.tasksCollection().doc(repeatedTaskId), { forks: newForks });\n      }\n    });\n  } else {\n    // also delete all forks\n    task.metadata.forks.forEach((fork) => {\n      const { forkId } = fork;\n      if (forkId == null) {\n        return;\n      }\n      batch.delete(database.tasksCollection().doc(forkId));\n      const forkedTask = tasks.get(forkId);\n      if (forkedTask != null) {\n        forkedTask.children.forEach(\n          (subTask) => batch.delete(database.subTasksCollection().doc(subTask.id)),\n        );\n      }\n    });\n  }\n  batch.commit().then(() => {\n    reportDeleteTaskEvent();\n  });\n};\n\nexport const removeOneRepeatedTask = (taskId: string, replaceDate: Date): void => {\n  database.tasksCollection()\n    .doc(taskId)\n    .update({\n      forks: firestore.FieldValue.arrayUnion({ forkId: null, replaceDate }),\n    });\n};\n\nexport const editMainTask = (\n  taskId: string,\n  replaceDate: Date | null,\n  mainTaskEdits: PartialMainTask,\n): void => {\n  const diff: Diff = {\n    mainTaskEdits,\n    subTaskCreations: Map(),\n    subTaskEdits: Map(),\n    subTaskDeletions: Set(),\n  };\n  if (replaceDate === null) {\n    editTaskWithDiff(taskId, 'EDITING_ONE_TIME_TASK', diff);\n  } else {\n    const dateEdit = mainTaskEdits.date != null ? mainTaskEdits.date : replaceDate;\n    const newDiff = { ...diff, mainTaskEdits: { ...diff.mainTaskEdits, date: dateEdit } };\n    forkTaskWithDiff(taskId, replaceDate, newDiff);\n  }\n};\n\nexport const editSubTask = (\n  taskId: string,\n  subtaskId: string,\n  replaceDate: Date | null,\n  partialSubTask: PartialSubTask,\n): void => {\n  const diff: Diff = {\n    mainTaskEdits: replaceDate == null ? {} : { date: replaceDate },\n    subTaskCreations: Map(),\n    subTaskEdits: Map<string, PartialSubTask>().set(subtaskId, partialSubTask),\n    subTaskDeletions: Set(),\n  };\n  if (replaceDate === null) {\n    editTaskWithDiff(taskId, 'EDITING_ONE_TIME_TASK', diff);\n  } else {\n    forkTaskWithDiff(taskId, replaceDate, diff);\n  }\n};\n\nexport const removeSubTask = (\n  taskId: string,\n  subtaskId: string,\n  replaceDate: Date | null,\n): void => {\n  const diff: Diff = {\n    mainTaskEdits: replaceDate == null ? {} : { date: replaceDate },\n    subTaskCreations: Map(),\n    subTaskEdits: Map(),\n    subTaskDeletions: Set.of(subtaskId),\n  };\n  if (replaceDate === null) {\n    editTaskWithDiff(taskId, 'EDITING_ONE_TIME_TASK', diff);\n  } else {\n    forkTaskWithDiff(taskId, replaceDate, diff);\n  }\n};\n\n/*\n * --------------------------------------------------------------------------------\n * Section 3: Other Compound Actions\n * --------------------------------------------------------------------------------\n */\n\n/**\n * Clear all the completed tasks in focus view.\n */\nexport const clearFocus = (taskIds: string[], subTaskIds: string[]): void => {\n  const batch = database.db().batch();\n  taskIds.forEach((id) => batch.update(database.tasksCollection().doc(id), { inFocus: false }));\n  subTaskIds.forEach(\n    (id) => batch.update(database.subTasksCollection().doc(id), { inFocus: false }),\n  );\n  batch.commit().then(ignore);\n};\n\n/**\n * Declare a task is complete in focus view by dragging it to completed section.\n *\n * @param completedTaskIdOrder the id and order of the completed task.\n * @param completedList the id order list of completed tasks.\n * @param uncompletedList the id order list of not completed tasks.\n * @returns an object of updated completed and not completed task list.\n */\nexport function completeTaskInFocus<T extends { readonly id: string; readonly order: number }>(\n  completedTaskIdOrder: T,\n  completedList: T[],\n): void {\n  let newCompletedList = [completedTaskIdOrder];\n  completedList.forEach((item) => {\n    if (item.order < completedTaskIdOrder.order) {\n      newCompletedList.push(item);\n    } else if (item.order >= completedTaskIdOrder.order) {\n      newCompletedList.push({ ...item, order: item.order + 1 });\n    }\n  });\n  newCompletedList = newCompletedList.sort((a, b) => a.order - b.order);\n  const { tasks } = store.getState();\n  const task = tasks.get(completedTaskIdOrder.id) ?? error('bad');\n  const batch = database.db().batch();\n  if (task.inFocus) {\n    batch.update(database.tasksCollection().doc(task.id), { complete: true });\n  }\n  task.children.forEach((s) => {\n    if (s.inFocus) {\n      batch.update(database.subTasksCollection().doc(s.id), { complete: true });\n    }\n  });\n  batch.commit().then(ignore);\n}\n\n/**\n * Reorder a list of items by swapping items with order sourceOrder and destinationOrder\n *\n * @param orderFor whether the reorder is for tags or tasks.\n * @param reorderMap the map that maps the id of changed order items to new order ids.\n * @return a new list with updated orders.\n */\nexport function applyReorder(orderFor: 'tags' | 'tasks', reorderMap: Map<string, number>): void {\n  const collection = orderFor === 'tags'\n    ? (id: string) => database.tagsCollection().doc(id)\n    : (id: string) => database.tasksCollection().doc(id);\n  const batch = database.db().batch();\n  reorderMap.forEach((order, id) => {\n    batch.update(collection(id), { order });\n  });\n  batch.commit().then(ignore);\n}\n\nexport const completeOnboarding = (completedOnboarding: boolean): void => {\n  database.settingsCollection()\n    .doc(getAppUser().email)\n    .update({ completedOnboarding })\n    .then(ignore);\n};\n\nexport const setCanvasCalendar = (canvasCalendar: string | null | undefined): void => {\n  database.settingsCollection()\n    .doc(getAppUser().email)\n    .update({ canvasCalendar })\n    .then(ignore);\n};\n\nexport const readBannerMessage = (bannerMessageId: BannerMessageIds, isRead: boolean): void => {\n  const docRef = database.bannerMessageStatusCollection().doc(getAppUser().email);\n  database.db().runTransaction(async (transaction) => {\n    const doc = await transaction.get(docRef);\n    if (doc.exists) {\n      transaction.update(docRef, { [bannerMessageId]: isRead });\n    } else {\n      transaction.set(docRef, { [bannerMessageId]: isRead });\n    }\n  });\n};\n\nexport const importCourseExams = (): void => {\n  const { tags, tasks, courses } = store.getState();\n  const newTasks: TaskWithoutIdOrderChildren<OneTimeTaskMetadata>[] = [];\n  tags.forEach((tag: Tag) => {\n    if (tag.classId === null) {\n      return;\n    }\n    const allCoursesWithId = courses.get(tag.classId);\n    if (allCoursesWithId == null) {\n      return; // not an error because it may be courses in previous semesters.\n    }\n    allCoursesWithId.forEach((course: Course) => {\n      course.examTimes.forEach(({ type, time }) => {\n        const courseType = type === 'final' ? 'Final' : 'Prelim';\n        const examName = `${course.subject} ${course.courseNumber} ${courseType}`;\n        const t = new Date(time);\n        const filter = (task: Task): boolean => {\n          if (task.metadata.type === 'MASTER_TEMPLATE') {\n            return false;\n          }\n          const { name, metadata: { date } } = task;\n          return (\n            task.tag === tag.id\n            && name === examName\n            && date.getFullYear() === t.getFullYear()\n            && date.getMonth() === t.getMonth()\n            && date.getDate() === t.getDate()\n            && date.getHours() === t.getHours()\n          );\n        };\n        if (!Array.from(tasks.values()).some(filter)) {\n          const newTask: TaskWithoutIdOrderChildren<OneTimeTaskMetadata> = {\n            name: examName,\n            tag: tag.id,\n            complete: false,\n            inFocus: false,\n            metadata: {\n              type: 'ONE_TIME',\n              date: t,\n            },\n          };\n          newTasks.push(newTask);\n        }\n      });\n    });\n  });\n  actions.orderManager.allocateNewOrder('tasks', newTasks.length).then((startOrder: number) => {\n    const newOrderedTasks = newTasks.map((t, i) => ({ ...t, order: i + startOrder }));\n    const batch = database.db().batch();\n    newOrderedTasks.forEach(({ metadata, ...rest }) => {\n      const transformedTask: FirestoreTask = mergeWithOwner({ ...rest, ...metadata, children: [] });\n      batch.set(database.tasksCollection().doc(), transformedTask);\n    });\n    // eslint-disable-next-line no-alert\n    batch.commit().then(() => alert('Exams Added Successfully!'));\n  });\n};\n","import React, { SyntheticEvent, ReactElement } from 'react';\nimport { Tag } from 'common/lib/types/store-types';\nimport styles from './TagItem.module.css';\nimport ColorEditor from './ColorEditor';\nimport { editTag, removeTag } from '../../../firebase/actions';\nimport SamwiseIcon from '../../UI/SamwiseIcon';\n\ntype Props = { readonly tag: Tag };\n\n/**\n * The tag item component.\n */\nexport default function TagItem({ tag }: Props): ReactElement {\n  const onRemove = (): void => {\n    // eslint-disable-next-line no-restricted-globals, no-alert\n    if (confirm('Do you want to remove this tag?')) {\n      removeTag(tag.id);\n    }\n  };\n  const editColor = (color: string): void => {\n    editTag({ ...tag, color });\n  };\n  const editName = (name: SyntheticEvent<HTMLInputElement>): void => {\n    editTag({ ...tag, name: name.currentTarget.value });\n  };\n  const { name, color, classId } = tag;\n  const isClass = classId !== null;\n  const nameSplit = name.split(':');\n  const nameNode = isClass\n    ? (\n      <span style={{ width: 'calc(100% - 175px)', display: 'inline-block' }}>\n        <span className={styles.TagName}>{nameSplit[0]}</span>\n        <span className={styles.ClassExpandedTitle}>{nameSplit[1].trim()}</span>\n      </span>\n    ) : (\n      <span className={styles.TagName} style={{ width: 'calc(100% - 175px)' }}>\n        <input type=\"text\" value={name} onChange={editName} className={styles.TagEdit} />\n      </span>\n    );\n  return (\n    <li className={styles.ColorConfigItem}>\n      {nameNode}\n      <ColorEditor color={color} onChange={editColor} />\n      <button type=\"button\" className={styles.DeleteTag} onClick={onRemove} tabIndex={0}>\n        <SamwiseIcon iconName=\"x-light\" />\n      </button>\n    </li>\n  );\n}\n","import React, { ReactElement } from 'react';\nimport { FuseItem } from './types';\n\n\ntype Props<T extends FuseItem> = {\n  readonly item: T;\n  readonly className: string;\n  readonly onSelect: (selected: T) => void;\n}\n\nexport default <T extends FuseItem>({ item, className, onSelect }: Props<T>): ReactElement => (\n  <button type=\"button\" className={className} title=\"Add class\" onClick={() => onSelect(item)} tabIndex={0}>\n    {item.value}\n  </button>\n);\n","import React, { ReactElement, ChangeEvent, useState } from 'react';\nimport Fuse, { FuseOptions } from 'fuse.js';\nimport { FuseItem } from './types';\nimport DropdownItem from './DropdownItem';\n\ntype Props<T extends FuseItem> = {\n  readonly fuse: Fuse<T, FuseOptions<T>>;\n  readonly placeholder?: string;\n  readonly inputClassname: string;\n  readonly dropdownItemClassName: string;\n  readonly onSelect: (selected: T) => void;\n};\n\ntype State<T> = { readonly searchInput: string; readonly searchResults: readonly T[] };\n\nexport default <T extends FuseItem>(\n  { placeholder, fuse, inputClassname, dropdownItemClassName, onSelect }: Props<T>,\n): ReactElement => {\n  const [{ searchInput, searchResults }, setState] = useState<State<T>>({\n    searchInput: '', searchResults: [],\n  });\n\n  const onSearchChange = (event: ChangeEvent<HTMLInputElement>): void => {\n    const input = event.currentTarget.value;\n    if (input.length > 2) {\n      const newResults = fuse.search(input) as T[];\n      setState({ searchInput: input, searchResults: newResults });\n    } else {\n      setState({ searchInput: input, searchResults: [] });\n    }\n  };\n\n  const onResultSelected = (item: T): void => {\n    onSelect(item);\n    setState({ searchInput: '', searchResults: [] });\n  };\n\n  return (\n    <div>\n      <input\n        type=\"text\"\n        placeholder={placeholder}\n        className={inputClassname}\n        value={searchInput}\n        onChange={onSearchChange}\n      />\n      <div>\n        {searchResults.map((item) => (\n          <DropdownItem\n            key={item.key}\n            item={item}\n            className={dropdownItemClassName}\n            onSelect={onResultSelected}\n          />\n        ))}\n      </div>\n    </div>\n  );\n};\n","import { Map } from 'immutable';\nimport { Tag } from 'common/lib/types/store-types';\nimport { store } from '../../../store/store';\nimport colorMap from './ListColors';\n\nconst allAvailableColors = Object.keys(colorMap);\n\nexport function getUnusedColorForTesting(tags: Map<string, Tag>): string {\n  const usedColorSet = new Set(Array.from(tags.values()).map((t) => t.color));\n  const color = allAvailableColors.find((c) => !usedColorSet.has(c));\n  return color ?? allAvailableColors[0];\n}\n\nexport default function getUnusedColor(): string {\n  const { tags } = store.getState();\n  return getUnusedColorForTesting(tags);\n}\n","import React, { ReactElement } from 'react';\nimport { Map } from 'immutable';\nimport { connect } from 'react-redux';\nimport Fuse, { FuseOptions } from 'fuse.js';\nimport SearchBox from 'components/Util/SearchBox';\nimport { Course, State } from 'common/lib/types/store-types';\nimport styles from './TagAdder.module.css';\nimport { addTag } from '../../../firebase/actions';\nimport getUnusedColor from './rotation-color-picker';\n\ntype SimpleCourse = {\n  readonly key: number;\n  readonly value: string;\n  readonly subject: string;\n  readonly courseNumber: string;\n  readonly title: string;\n  readonly classId: string;\n  readonly noSpaceName: string;\n};\n\ntype Props = { readonly fuse: Fuse<SimpleCourse, FuseOptions<SimpleCourse>> | null };\n\n/**\n * Returns the computed course options.\n *\n * @param {Map<number, Course[]>} courseMap new courses.\n * @return {SimpleCourse[]} course options.\n */\nfunction getCourseOptions(courseMap: Map<string, Course[]>): SimpleCourse[] {\n  const courseOptions: SimpleCourse[] = [];\n  let i = 0;\n  courseMap.forEach((courses: Course[]) => {\n    courses.forEach((course: Course) => {\n      const {\n        subject, courseNumber, title, courseId: classId,\n      } = course;\n      const id = `${classId} ${subject} ${courseNumber}`;\n      const name = `${subject} ${courseNumber}: ${title}`;\n      courseOptions.push({\n        key: i, value: name, subject, courseNumber, title, classId: id, noSpaceName: name.replace(/[^a-zA-Z\\d]/, ''),\n      });\n      i += 1;\n    });\n  });\n  return courseOptions;\n}\n\n/**\n * The configs for fuse searcher. Essential for fuzzy search.\n * You may need to tune this further, but it's usable right now.\n */\nconst fuseConfigs = {\n  keys: [\n    'value', // useful for search the full name as we display\n    'subject', // useful for finding a list of all [subject] classes\n    'courseNumber', // useful if the student just type the course number\n    'title', // useful if the student just type the name\n    'noSpaceName', // useful if the student types the course code without a space (ex: \"CS2112\")\n  ],\n  location: 0, // since we have customized the stuff to search, we can just start at beginning.\n  threshold: 0.2, // higher the threshold, more stuff will be matched.\n  distance: 100, // how close the match must be to the fuzzy location\n};\n\n/**\n * The class tag adder.\n */\nfunction ClassTagAdder({ fuse }: Props): ReactElement | null {\n  if (fuse === null) {\n    return null;\n  }\n  const changeClass = (option: SimpleCourse): void => {\n    const { value, classId } = option;\n    addTag({\n      name: value, color: getUnusedColor(), classId,\n    });\n  };\n  return (\n    <div className={`${styles.TagColorConfigItemAdder} ${styles.SearchClasses}`} title=\"Search for a class\">\n      <SearchBox\n        placeholder=\"Search for classes (e.g. CS 2110, Introduction to Creative Writing)\"\n        inputClassname={styles.SearchInput}\n        dropdownItemClassName={styles.DropdownItem}\n        fuse={fuse}\n        onSelect={changeClass}\n      />\n    </div>\n  );\n}\n\nconst Memoized = React.memo<Props>(ClassTagAdder);\nconst Connected = connect(\n  ({ courses }: State) => {\n    if (courses.size === 0) {\n      return { fuse: null };\n    }\n    const fuse = new Fuse(getCourseOptions(courses), fuseConfigs);\n    return { fuse };\n  },\n)(Memoized);\nexport default Connected;\n","import React, { ReactElement, CSSProperties, useState, useRef, useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport { State, Tag } from 'common/lib/types/store-types';\nimport TagItem from '../Tags/TagItem';\nimport ClassTagAdder from '../Tags/ClassTagAdder';\nimport styles from './Onboard.module.scss';\nimport Tutorial1 from '../../../assets/tutorial/t1.png';\nimport Tutorial2 from '../../../assets/tutorial/t2.png';\nimport Tutorial3 from '../../../assets/tutorial/t3.png';\nimport Tutorial4 from '../../../assets/tutorial/t4.png';\nimport Tutorial5 from '../../../assets/tutorial/t5.png';\nimport Tutorial6 from '../../../assets/tutorial/t6.png';\nimport { completeOnboarding, importCourseExams } from '../../../firebase/actions';\n\ntype TaggedImage = { readonly src: string; readonly alt: string }\n\nconst taggedImages: TaggedImage[] = [\n  {\n    src: Tutorial1,\n    alt: 'Sam is your personal assistant.',\n  },\n  {\n    src: Tutorial2,\n    alt: 'Add tasks in the box \\'What do you have to do?\\'',\n  },\n  {\n    src: Tutorial3,\n    alt: 'Press the pin icon to move a task to focus view. Press the unpin icon to remove it.',\n  },\n  {\n    src: Tutorial4,\n    alt: 'Tasks added will go into future view',\n  },\n  {\n    src: Tutorial5,\n    alt: 'You can track the progress in the progress bar',\n  },\n  {\n    src: Tutorial6,\n    alt: 'You can review the tutorial and edit tags and classes in settings',\n  },\n];\n\ntype AddClassProps = {\n  readonly classTags: Tag[];\n  readonly showNext: (shouldImport: boolean) => void;\n};\n\n/**\n * Adding class as the first onboarding step.\n */\nfunction AddClassOnBoarding({ classTags, showNext }: AddClassProps): ReactElement {\n  const [addExam, setAddExam] = useState<boolean>(true);\n\n  const clickBox = (e: React.FormEvent<HTMLInputElement>): void => (\n    setAddExam((e.target as HTMLInputElement).checked)\n  );\n  const allDone = (): void => showNext(addExam);\n\n  return (\n    <div style={{ padding: '60px 40px' }}>\n      {/* some random intro */}\n      <p className={styles.HeroIntroText}>\n        Hi! Help us boost your productivity by creating some tags.\n        <br />\n        Search and add the classes you are currently enrolled in to tag them.\n      </p>\n      {/* class adder */}\n      <div className={styles.SettingsSection}>\n        <div className={styles.SettingsSectionContent}>\n          <ClassTagAdder />\n        </div>\n      </div>\n      {/* display all class tags */}\n      <h2>My Classes</h2>\n      <div className={styles.SettingsSection}>\n        <div className={styles.SettingsSectionContent}>\n          <ul className={styles.ColorConfigItemList}>\n            {classTags.map((tag) => <TagItem key={tag.id} tag={tag} />)}\n          </ul>\n        </div>\n      </div>\n      <p className={styles.ImportExamContainer}>\n        <label htmlFor=\"onboardImportClass\">\n          <input type=\"checkbox\" id=\"onboardImportClass\" checked={addExam} onChange={clickBox} />\n          Yes, please automatically import registrar-scheduled exams for my classes.\n        </label>\n      </p>\n      {/* buttons */}\n      <div className={styles.SignButtonContainer}>\n        <span className={styles.Padding} />\n        <button type=\"button\" className={styles.SignButton} onClick={allDone}>\n          {classTags.length > 0 ? 'Done' : 'Skip Adding Classes'}\n        </button>\n      </div>\n    </div>\n  );\n}\n\ntype SlidesProps = {\n  readonly progress: number;\n  readonly showNext: () => void;\n  readonly goBack: () => void;\n  readonly skipTutorial: () => void;\n};\n\n/**\n * Showing slides as the second onboarding step.\n */\nfunction SlidesOnBoarding({ progress, showNext, goBack, skipTutorial }: SlidesProps): ReactElement {\n  const nextButtonRef = useRef<HTMLButtonElement>(null);\n  const { src, alt } = taggedImages[progress - 1];\n  useEffect(() => {\n    const buttonDOM = nextButtonRef.current;\n    if (buttonDOM) {\n      buttonDOM.focus();\n    }\n  }, []);\n  return (\n    <div className={styles.ModalWrap}>\n      <h2>Tutorial</h2>\n      <div className={styles.TutorialModal}>\n        <button type=\"button\" onClick={goBack}>&lsaquo;</button>\n        <img className={styles.TutorialImg} src={src} alt={alt} />\n        <button type=\"button\" ref={nextButtonRef} onClick={showNext}>&rsaquo;</button>\n      </div>\n      <p className={styles.ModalOptions}>\n        <button type=\"button\" onClick={skipTutorial} style={{ marginRight: '30px' }}>\n          Start using Samwise now &rarr;\n        </button>\n      </p>\n    </div>\n  );\n}\n\ntype Props = { readonly classTags: Tag[]; readonly completedOnboarding: boolean };\n\n/**\n * The onboarding page. Displayed only if the user chooses to do so or during first landing.\n */\nexport function Onboard({ classTags, completedOnboarding }: Props): ReactElement | null {\n  const [progress, setProgress] = useState<number>(0);\n\n  if (completedOnboarding || progress >= 7) {\n    if (progress !== 1) {\n      setProgress(1);\n    }\n    completeOnboarding(true);\n    // the conditions not to display the tutorial\n    return null;\n  }\n\n  const showNext = (): void => setProgress((prev) => prev + 1);\n  const showNextImport = (shouldImport: boolean): void => {\n    if (shouldImport) {\n      importCourseExams();\n    }\n    showNext();\n  };\n  const goBack = (): void => setProgress((prev) => (prev > 1 ? prev - 1 : prev));\n  const skipTutorial = (): void => setProgress(100);\n\n  const onboardingContainerStyle: CSSProperties | undefined = progress > 0\n    ? { overflowY: 'hidden', background: 'rgba(0,0,0,0.8)' }\n    : undefined;\n  return (\n    <div className={styles.Hero} style={onboardingContainerStyle}>\n      {progress === 0 && <AddClassOnBoarding classTags={classTags} showNext={showNextImport} />}\n      {progress > 0 && (\n        <SlidesOnBoarding\n          progress={progress}\n          showNext={showNext}\n          goBack={goBack}\n          skipTutorial={skipTutorial}\n        />\n      )}\n    </div>\n  );\n}\n\nconst Connected = connect(\n  ({ tags, settings: { completedOnboarding } }: State): Props => {\n    const classTags: Tag[] = Array.from(tags.values()).filter((t) => t.classId != null);\n    return { classTags, completedOnboarding };\n  },\n)(Onboard);\nexport default Connected;\n","/**\n * @param {number} day the day to convert, which must be between 0 to 6.\n * @return {string} the converted day string. e.g. 0 ==> 'SUN', 3 ==> 'WED'.\n */\nexport function day2String(day) {\n    switch (day) {\n        case 0:\n            return 'SUN';\n        case 1:\n            return 'MON';\n        case 2:\n            return 'TUE';\n        case 3:\n            return 'WED';\n        case 4:\n            return 'THU';\n        case 5:\n            return 'FRI';\n        case 6:\n            return 'SAT';\n        default:\n            throw new Error('Impossible Case');\n    }\n}\n/**\n * @param {Date} date the date to convert.\n * @return {string} the formatted string of date.\n */\nexport function date2String(date) {\n    return date.toLocaleDateString('en-US', {\n        month: 'numeric', day: 'numeric',\n    });\n}\n/**\n * @param {Date} date the date to convert.\n * @return {string} the formatted string of date with year.\n */\nexport function date2FullDateString(date) {\n    return date.toLocaleDateString('en-US', {\n        month: 'long', day: 'numeric', year: 'numeric',\n    });\n}\n/**\n * @param {Date} date the date to convert.\n * @return {string} formatted string of date with year and month.\n */\nexport function date2YearMonth(date) {\n    return date.toLocaleDateString('en-US', {\n        month: 'long', year: 'numeric',\n    });\n}\n/**\n * @return {Date} today at 0 AM.\n */\nexport function getTodayAtZeroAM() {\n    const d = new Date();\n    d.setHours(0, 0, 0, 0);\n    return d;\n}\n/**\n * Check whether a given date is today.\n */\nexport function isToday(date) {\n    const today = new Date();\n    return today.getFullYear() === date.getFullYear()\n        && today.getMonth() === date.getMonth()\n        && today.getDate() === date.getDate();\n}\n/**\n * @param date the date object to provide time information.\n * @param dateString the date string to apply.\n * @returns a new date object with the date info in the date string applied.\n */\nexport function getDateWithDateString(date, dateString) {\n    const newDate = date === null ? new Date() : new Date(date);\n    const dateInfo = new Date(dateString);\n    newDate.setFullYear(dateInfo.getFullYear());\n    newDate.setMonth(dateInfo.getMonth());\n    newDate.setDate(dateInfo.getDate());\n    if (date === null) {\n        // Default to last second of the day.\n        newDate.setHours(23, 59, 59);\n    }\n    return newDate;\n}\n/**\n * returns the same date x weeks - 1 day later\n * example: monday oct 1, 2 weeks later returnes sunday the 14th\n *\n * @param date\n * @param x\n */\nexport function getDateAfterXWeeks(date, x) {\n    const oneDay = 1000 * 60 * 60 * 24;\n    return new Date(date.getTime() + oneDay * 7 * x - oneDay);\n}\n","import React, { ReactElement } from 'react';\n\ntype Props = {\n  readonly color: string;\n  readonly title: string;\n  readonly id: string;\n  readonly onChange: (tag: string) => void;\n};\n\n/**\n * One item in the class picker.\n */\nexport default function TagPickerItem({ id, color, title, onChange }: Props): ReactElement {\n  const style: {} = { '--custom-color': color };\n  return (\n    <li style={style}>\n      <input onClick={() => onChange(id)} type=\"checkbox\" />\n      {title}\n    </li>\n  );\n}\n","import React, { ReactElement } from 'react';\nimport { connect } from 'react-redux';\nimport { State, Tag } from 'common/lib/types/store-types';\nimport { NONE_TAG_ID } from 'common/lib/util/tag-util';\nimport TagPickerItem from './TagPickerItem';\nimport styles from './TagListPicker.module.css';\nimport { getOrderedTags } from '../../../store/selectors';\n\ntype OwnProps = { readonly onTagChange: (newTag: string) => void };\ntype Props = OwnProps & { readonly tags: Tag[] };\n\n/**\n * The component used to pick a tag from a list.\n *\n * @param {function} onTagChange the function to call when tag changed.\n * @param {Tag[]} tags a list of all tags. Given by the redux store.\n * @return {Node} the rendered picker.\n * @constructor\n */\nfunction TagListPicker({ onTagChange, tags }: Props): ReactElement {\n  const items = tags.slice().sort((a, b) => {\n    if (a.id === NONE_TAG_ID) { return 1; }\n    if (b.id === NONE_TAG_ID) { return -1; }\n    if (a.classId != null && b.classId == null) { return -1; }\n    if (a.classId == null && b.classId != null) { return 1; }\n    return a.name.localeCompare(b.name);\n  }).map(({ id, name, color, classId }: Tag) => (\n    <TagPickerItem key={id} id={id} title={classId !== null ? name.split(':')[0] : name} color={color} onChange={onTagChange} />\n  ));\n  return (\n    <ul className={styles.NewTaskClass}>\n      {items}\n    </ul>\n  );\n}\n\nconst Connected = connect((state: State) => ({ tags: getOrderedTags(state) }))(TagListPicker);\nexport default Connected;\n","import React, { ReactElement, KeyboardEvent } from 'react';\nimport { connect } from 'react-redux';\nimport { NONE_TAG, NONE_TAG_ID } from 'common/lib/util/tag-util';\nimport { State, Tag } from 'common/lib/types/store-types';\nimport TagListPicker from '../Util/TagListPicker/TagListPicker';\nimport styles from './Picker.module.css';\nimport SamwiseIcon from '../UI/SamwiseIcon';\n\ntype OwnProps = {\n  readonly tag: string;\n  readonly opened: boolean;\n  readonly onTagChange: (tag: string) => void;\n  readonly onPickerOpened: () => void;\n};\ntype Props = OwnProps & {\n  // subscribed from redux store.\n  readonly getTag: (id: string) => Tag;\n};\n\nfunction TagPicker({ tag, opened, onTagChange, onPickerOpened, getTag }: Props): ReactElement {\n  // Controllers\n  const clickPicker = (): void => { onPickerOpened(); };\n  const pressedPicker = (e: KeyboardEvent): void => {\n    if (e.key === 'Enter' || e.key === ' ') onPickerOpened();\n  };\n  const reset = (): void => onTagChange(NONE_TAG_ID);\n  // Nodes\n  const displayedNode = (isDefault: boolean): ReactElement => {\n    const { name, color, classId } = getTag(tag);\n    const style = isDefault ? {} : { background: color };\n    const internal = isDefault\n      ? <SamwiseIcon iconName=\"tag\" className={styles.CenterIcon} />\n      : (\n        <>\n          <span className={styles.TagDisplay}>{classId != null ? name.split(':')[0] : name}</span>\n          <button type=\"button\" className={styles.ResetButton} onClick={reset}>&times;</button>\n        </>\n      );\n    return (\n      <span\n        role=\"presentation\"\n        onClick={clickPicker}\n        onKeyPress={pressedPicker}\n        className={styles.Label}\n        style={style}\n      >\n        {internal}\n      </span>\n    );\n  };\n  return (\n    <div className={styles.Main}>\n      {displayedNode(tag === NONE_TAG_ID)}\n      {opened && (\n        <div className={styles.NewTaskClassPick}>\n          <TagListPicker onTagChange={onTagChange} />\n        </div>\n      )}\n    </div>\n  );\n}\n\nconst Connected = connect(\n  ({ tags }: State) => ({ getTag: (id: string) => tags.get(id) ?? NONE_TAG }),\n)(TagPicker);\nexport default Connected;\n","import { useState, useEffect } from 'react';\n\nconst INTERVAL = 1000;\n\nlet currentTime: number = new Date().getTime();\n\nlet testTime: number | null = null;\n\ntype Handler = (time: number) => void;\n\nconst handlers: Set<Handler> = new Set();\n\nsetInterval(() => {\n  if (testTime === null) {\n    currentTime = new Date().getTime();\n    handlers.forEach((handler) => handler(currentTime));\n  }\n}, INTERVAL);\n\n/**\n * Enable test mode for components that uses or indirectly uses the time hooks.\n * The test mode disables:\n * - Current time real time update.\n * - Reporting updated time to components.\n *\n * @param timeForTesting the value of current time used for deterministic time.\n */\nexport const enableTestMode = (timeForTesting: number): void => {\n  testTime = timeForTesting;\n  currentTime = testTime;\n};\n\n/**\n * Restart realtime time update when the test ends.\n */\nexport const disableTestMode = (): void => {\n  testTime = null;\n};\n\n/**\n * A react state hooks that returns the current time every 1 second.\n * It will cause a re-render when a new value is returned.\n *\n * @returns the current time.\n */\nexport const useTime = (): number => {\n  const [time, setTime] = useState(currentTime);\n\n  useEffect(() => {\n    const handler = (newTime: number): void => setTime(newTime);\n    handlers.add(handler);\n    return (): void => {\n      handlers.delete(handler);\n    };\n  }, []);\n\n  return time;\n};\n\n/**\n * A react state hooks that returns the current date every one day.\n * It will cause a re-render when a new value is returned.\n *\n * @returns a date object that falls within today's range.\n */\nconst useDate = (): Date => {\n  const [currentDateString, setCurrentDateString] = useState(new Date(currentTime).toDateString());\n\n  useEffect(() => {\n    const handler = (newTime: number): void => {\n      const newTimeDateString = new Date(newTime).toDateString();\n      if (newTimeDateString !== currentDateString) {\n        setCurrentDateString(newTimeDateString);\n      }\n    };\n    handlers.add(handler);\n    return (): void => {\n      handlers.delete(handler);\n    };\n  }, [currentDateString]);\n\n  return new Date(currentDateString);\n};\n\n/**\n * A react state hooks that returns the current date every one day.\n * It will cause a re-render when a new value is returned.\n *\n * @returns today at 23:59:59 (in user's browser's reported timezone) as a date object.\n */\nexport const useTodayLastSecondTime = (): Date => {\n  const date = new Date(useDate());\n  date.setHours(23, 59, 59);\n  return date;\n};\n\n/**\n * A react state hooks that returns the current date every one day.\n * It will cause a re-render when a new value is returned.\n *\n * @returns today at 00:00:00 (in user's browser's reported timezone) as a date object.\n */\nexport const useTodayFirstSecondTime = (): Date => {\n  const date = new Date(useDate());\n  date.setHours(0, 0, 0);\n  return date;\n};\n","/**\n * The (exclusive) last day of class for Spring 2020\n */\nexport const LAST_DAY_OF_CLASS = new Date('5/13/2020');\n/**\n * The (exclusive) last day of final exams for Spring 2020\n */\nexport const LAST_DAY_OF_EXAMS = new Date('5/24/2020');\n","import React, { ReactElement, SyntheticEvent, ChangeEvent, KeyboardEvent } from 'react';\nimport Calendar from 'react-calendar';\nimport { useTodayLastSecondTime, useTodayFirstSecondTime } from 'hooks/time-hook';\nimport { date2String, getDateAfterXWeeks } from 'common/lib/util/datetime-util';\nimport { NONE_TAG } from 'common/lib/util/tag-util';\nimport { RepeatingDate } from 'common/lib/types/store-types';\nimport { LAST_DAY_OF_CLASS, LAST_DAY_OF_EXAMS } from 'common/lib/util/const-util';\nimport { setDayOfWeek, unsetDayOfWeek, isDayOfWeekSet, DAYS_IN_WEEK } from 'common/lib/util/bitwise-util';\nimport styles from './Picker.module.css';\nimport dateStyles from './DatePicker.module.css';\nimport SamwiseIcon from '../UI/SamwiseIcon';\n\ntype Props = {\n  readonly onDateChange: (date: Date | RepeatingDate | null) => void;\n  readonly date: Date | RepeatingDate;\n  readonly opened: boolean;\n  readonly datePicked: boolean;\n  readonly onPickerOpened: () => void;\n  readonly onClearPicker: () => void;\n};\n\nconst weekDays: readonly [string, number][] = [\n  ['S', 0], ['M', 1], ['T', 2], ['W', 3], ['T', 4], ['F', 5], ['S', 6],\n];\n\ntype InternalDate = {\n  type: 'normal' | 'repeat';\n  date: Date;\n  checkedWeeks: number;\n  calOpened: boolean;\n  repeatEnd: {\n    type: 'date' | 'weeks';\n    date: Date;\n    weeks: number;\n  };\n};\n\nexport default function DatePicker(props: Props): ReactElement {\n  const {\n    date, opened, datePicked, onDateChange, onPickerOpened, onClearPicker,\n  } = props;\n  const todayFirstSecond = useTodayFirstSecondTime();\n  const todayLastSecond = useTodayLastSecondTime();\n\n  // Controllers\n  const clickPicker = (): void => { onPickerOpened(); };\n  const pressedPicker = (e: KeyboardEvent): void => {\n    if (e.key === 'Enter' || e.key === ' ') onPickerOpened();\n  };\n  const reset = (e: SyntheticEvent<HTMLElement>): void => {\n    e.stopPropagation();\n    onClearPicker();\n  };\n\n  const [internalDate, setInternalDate] = React.useState<InternalDate>(\n    date instanceof Date\n      ? {\n        type: 'normal',\n        date,\n        checkedWeeks: 0,\n        calOpened: false,\n        repeatEnd: { type: 'date', date: new Date(), weeks: 0 },\n      }\n      : {\n        type: 'repeat',\n        date: new Date(),\n        checkedWeeks: date.pattern.bitSet,\n        calOpened: false,\n        repeatEnd: {\n          type: 'date',\n          date: date.endDate instanceof Date ? date.endDate : new Date(),\n          weeks: date.endDate instanceof Date ? 0 : date.endDate,\n        },\n      },\n  );\n\n  /**\n   * Generates the date string of the next valid day in a bitset pattern\n   */\n  const genNextValidDay = (bitset: number): string => {\n    const currDay = new Date().getDay();\n    for (let i = 0; i < DAYS_IN_WEEK; i += 1) {\n      const checkDay = (i + currDay) % DAYS_IN_WEEK;\n      if (isDayOfWeekSet(bitset, checkDay)) {\n        return date2String(new Date(+(new Date()) + 1000 * 60 * 60 * 24 * i));\n      }\n    }\n    return '';\n  };\n\n  // Nodes\n  const displayedNode = (isDefault: boolean): ReactElement => {\n    const style = isDefault ? {} : { background: NONE_TAG.color };\n    const internal = isDefault\n      ? <SamwiseIcon iconName=\"calendar-dark\" className={styles.CenterIcon} />\n      : (\n        <>\n          <span className={styles.DateDisplay}>\n            {!(date instanceof Date)\n              && <SamwiseIcon iconName=\"repeat\" className={dateStyles.RepeatIcon} />}\n            {date instanceof Date ? date2String(date) : ` ${genNextValidDay(date.pattern.bitSet)}`}\n          </span>\n          <button type=\"button\" className={styles.ResetButton} onClick={reset}>&times;</button>\n        </>\n      );\n    return (\n      <span\n        role=\"presentation\"\n        onClick={clickPicker}\n        onKeyPress={pressedPicker}\n        className={styles.Label}\n        style={style}\n      >\n        {internal}\n      </span>\n    );\n  };\n\n  /**\n   * Event handler for when the user starts the repeat box\n   */\n  const changeRepeat = (e: ChangeEvent<HTMLSelectElement>): void => {\n    setInternalDate({\n      ...internalDate,\n      type:\n        e.currentTarget.value === 'true'\n          ? 'repeat'\n          : 'normal',\n    });\n  };\n\n  /**\n   * Event handler when checking or unchecking a weekday for repeating\n   */\n  const handleClickWeekday = (e: ChangeEvent<HTMLInputElement>): void => {\n    const { value, checked } = e.currentTarget;\n    const val = parseInt(value, 10);\n\n    setInternalDate(\n      {\n        ...internalDate,\n        checkedWeeks: checked\n          ? setDayOfWeek(internalDate.checkedWeeks, val)\n          : unsetDayOfWeek(internalDate.checkedWeeks, val),\n      },\n    );\n  };\n\n  /**\n   * The list of labels and inputs making up the seven weekdays users can check and uncheck\n   */\n  const weekdayPickers = weekDays.map(\n    ([x, i]) => {\n      const isDaySet = isDayOfWeekSet(internalDate.checkedWeeks, i);\n      return (\n        <label\n          htmlFor={`newTaskRepeatInputCheck${i}`}\n          key={`${x}-${i}`}\n          style={isDaySet ? {\n            background: '#5a5a5a', color: 'white',\n          } : {}}\n        >\n          {x}\n          <input\n            id={`newTaskRepeatInputCheck${i}`}\n            checked={isDaySet}\n            value={i}\n            onChange={handleClickWeekday}\n            type=\"checkbox\"\n            name=\"repeatWeek\"\n          />\n        </label>\n      );\n    },\n  );\n\n  /**\n   * Event handler for choosing a repeat end option\n   * @param e The onchange event\n   */\n  const handleClickEnd = (e: ChangeEvent<HTMLInputElement>): void => {\n    const { value } = e.currentTarget;\n    const valNum = parseInt(value, 10);\n\n    const newType: 'date' | 'weeks' = valNum === 0 ? 'date' : 'weeks';\n\n    setInternalDate({\n      ...internalDate,\n      repeatEnd: {\n        ...internalDate.repeatEnd,\n        type: newType,\n      },\n    });\n  };\n\n  /**\n   * Event handler for when the user starts the repeat box\n   */\n  const handleClickRepeatCal = (): void => {\n    setInternalDate({ ...internalDate, calOpened: !internalDate.calOpened });\n  };\n\n  /**\n   * Event handler for choosing a date to end the repeat\n   * @param d The date chosen from the Calendar component\n   */\n  const handleSetRepeatEndDate = (d: Date | Date[]): void => {\n    setInternalDate({\n      ...internalDate,\n      calOpened: false,\n      repeatEnd: { ...internalDate.repeatEnd, date: d instanceof Array ? d[0] : d },\n    });\n  };\n\n  /**\n   * Event handler for choosing a repeat end option\n   * @param e The onchange event\n   */\n  const handleSetRepeatNumber = (e: ChangeEvent<HTMLInputElement>): void => {\n    const { value } = e.currentTarget;\n    setInternalDate({\n      ...internalDate,\n      repeatEnd: { ...internalDate.repeatEnd, weeks: parseInt(value, 10) },\n    });\n  };\n\n  /**\n   * Set the end of the date to a specified date\n   * @param d The date to set the repeat end date\n   */\n  const testSetEndSem = (d: Date): void => {\n    setInternalDate({\n      ...internalDate,\n      calOpened: false,\n      repeatEnd: { type: 'date', date: d, weeks: internalDate.repeatEnd.weeks },\n    });\n  };\n\n\n  /**\n   * The list of li elements for all the repeat end options\n   */\n  const endPicker = internalDate.type === 'repeat' ? [\n    <>\n      On\n      {' '}\n      <button\n        type=\"button\"\n        className={dateStyles.SubtleBtn}\n        onClick={handleClickRepeatCal}\n      >\n        {internalDate.repeatEnd.date.toLocaleDateString()}\n      </button>\n      {\n        internalDate.type === 'repeat'\n        && internalDate.calOpened\n        && (\n          <div>\n            <Calendar\n              value={internalDate.repeatEnd instanceof Date ? internalDate.repeatEnd : new Date()}\n              minDate={new Date()}\n              onChange={handleSetRepeatEndDate}\n              calendarType=\"US\"\n            />\n            <p className={styles.RepeatSpecialEndDate}>\n              <button type=\"button\" onClick={() => testSetEndSem(LAST_DAY_OF_CLASS)}>\n                Last Day of Class (\n                {LAST_DAY_OF_CLASS.toLocaleDateString()}\n                )\n              </button>\n              <button type=\"button\" onClick={() => testSetEndSem(LAST_DAY_OF_EXAMS)}>\n                Last Day of Finals (\n                {LAST_DAY_OF_EXAMS.toLocaleDateString()}\n                )\n              </button>\n            </p>\n          </div>\n        )\n      }\n    </>,\n    <>\n      After\n      {' '}\n      <input\n        value={internalDate.repeatEnd.weeks}\n        onChange={handleSetRepeatNumber}\n        min=\"1\"\n        max=\"30\"\n        step=\"1\"\n        type=\"number\"\n      />\n      {' '}\n      weeks\n    </>,\n  ].map((x, i) => {\n    let checked = false;\n    if (internalDate.type === 'repeat') {\n      checked = i === 0\n        ? internalDate.repeatEnd.type !== 'weeks'\n        : internalDate.repeatEnd.type === 'weeks';\n    }\n    return (\n      // eslint-disable-next-line react/no-array-index-key\n      <li key={i}>\n        <label htmlFor={`newTaskRepeatEndRadio${i}`}>\n          <input\n            type=\"radio\"\n            name=\"repeatEnd\"\n            id={`newTaskRepeatEndRadio${i}`}\n            value={i}\n            checked={checked}\n            onChange={handleClickEnd}\n          />\n          {x}\n        </label>\n      </li>\n    );\n  }) : [];\n\n  /**\n   * The component to display when the repeating task box is open\n   */\n  const openedRepeat = (\n    <div className={styles.RepeatOpened}>\n      <p className={styles.RepeatPickDayWrap}>\n        Repeats every week on\n        <br />\n        {weekdayPickers}\n      </p>\n      <div className={styles.RepeatPickEndWrap}>\n        Stops\n        <ul className={dateStyles.EndPicker}>{endPicker}</ul>\n      </div>\n    </div>\n  );\n\n  /**\n   * Resets all the react states regarding repeating tasks\n   */\n  const resetRepeats = (): void => {\n    setInternalDate({\n      type: 'normal',\n      date: new Date(),\n      checkedWeeks: 0,\n      calOpened: false,\n      repeatEnd: { type: 'date', date: new Date(), weeks: 0 },\n    });\n  };\n\n  /**\n   * Event handler for when the user changes the calendar date\n   */\n  const onChange = (d: Date | Date[]): void => {\n    setInternalDate({ ...internalDate, date: Array.isArray(d) ? d[0] : d });\n  };\n\n  /**\n   * Event handler for when the user tries to save\n   */\n  const onSubmit = (): void => {\n    if (internalDate.type === 'normal') {\n      onDateChange(internalDate.date);\n      return;\n    }\n\n    const bitSet = internalDate.checkedWeeks;\n\n    // If they didn't pick any days to repeat on, don't save.\n    if (bitSet === 0) { return; }\n\n    let endDate;\n\n    if (internalDate.repeatEnd.type === 'date') {\n      endDate = internalDate.repeatEnd.date;\n    } else {\n      // TODO once database support exists, replace this with number of occurrances\n      endDate = getDateAfterXWeeks(todayLastSecond, internalDate.repeatEnd.weeks);\n    }\n\n    const repData: RepeatingDate = {\n      startDate: todayFirstSecond,\n      endDate,\n      pattern: { type: 'WEEKLY', bitSet },\n    };\n    onDateChange(repData);\n  };\n\n  /**\n   * Event handler for when the user tries to cancel\n   */\n  const onCancel = (): void => {\n    resetRepeats();\n    onDateChange(null);\n  };\n\n  return (\n    <div className={styles.Main}>\n      {displayedNode(!datePicked)}\n      {opened && (\n        <div className={styles.NewTaskDatePick}>\n          <p className={dateStyles.SelectTypeWrap}>\n            <select\n              className={dateStyles.SelectType}\n              value={(internalDate.type !== 'normal').toString()}\n              onChange={changeRepeat}\n            >\n              <option value=\"false\">One-Time</option>\n              <option value=\"true\">Repeating</option>\n            </select>\n          </p>\n          {\n            internalDate.type === 'normal'\n            && <Calendar onChange={onChange} value={internalDate.date} minDate={new Date()} calendarType=\"US\" />\n          }\n          {internalDate.type !== 'normal' && openedRepeat}\n          <p className={styles.NewTaskDateSave}>\n            <button type=\"button\" onClick={onCancel}>Cancel</button>\n            <button type=\"button\" onClick={onSubmit}>Done</button>\n          </p>\n        </div>\n      )}\n    </div>\n  );\n}\n","import React, { ReactElement, SyntheticEvent, KeyboardEvent } from 'react';\nimport styles from './Picker.module.css';\nimport SamwiseIcon from '../UI/SamwiseIcon';\n\ntype Props = {\n  readonly pinned: boolean;\n  readonly onPinChange: (inFocus: boolean) => void;\n};\n\nexport default function FocusPicker({ pinned, onPinChange }: Props): ReactElement {\n  const clickPicker = (e: SyntheticEvent<HTMLElement>): void => {\n    e.stopPropagation();\n    onPinChange(!pinned);\n  };\n  const pressedPicker = (e: KeyboardEvent): void => {\n    if (e.key === 'Enter' || e.key === ' ') {\n      e.stopPropagation();\n      onPinChange(!pinned);\n    }\n  };\n  const pinIconName = pinned ? 'pin-dark-filled' : 'pin-dark-outline';\n  return (\n    <div className={styles.Main}>\n      <span\n        role=\"presentation\"\n        onClick={clickPicker}\n        onKeyPress={pressedPicker}\n        className={styles.Label}\n      >\n        <SamwiseIcon iconName={pinIconName} className={styles.CenterIcon} />\n      </span>\n    </div>\n  );\n}\n","import React, { CSSProperties, KeyboardEvent, SyntheticEvent, ReactElement } from 'react';\nimport { connect } from 'react-redux';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faPlus, faArrowAltCircleRight } from '@fortawesome/free-solid-svg-icons';\nimport { randomId } from 'common/lib/util/general-util';\nimport { Task, RepeatingDate, SubTask, State as StoreState, Theme } from 'common/lib/types/store-types';\nimport { NONE_TAG_ID } from 'common/lib/util/tag-util';\nimport { isToday } from 'common/lib/util/datetime-util';\nimport TagPicker from './TagPicker';\nimport DatePicker from './DatePicker';\nimport FocusPicker from './FocusPicker';\nimport { addTask, TaskWithoutIdOrderChildren } from '../../firebase/actions';\nimport SamwiseIcon from '../UI/SamwiseIcon';\nimport styles from './index.module.css';\n\ntype SimpleTask = Omit<Task, 'type' | 'order' | 'children' | 'metadata'>;\n\ntype State = SimpleTask & {\n  readonly date: Date | RepeatingDate;\n  readonly subTasks: SubTask[];\n  readonly opened: boolean;\n  readonly tagPickerOpened: boolean;\n  readonly datePickerOpened: boolean;\n  readonly datePicked: boolean;\n  readonly needToSwitchFocus: boolean;\n};\n\ntype Props = { readonly theme: Theme };\n\n/**\n * The placeholder text in the main task input box.\n */\nconst PLACEHOLDER_TEXT = 'What do you have to do?';\n/**\n * Generate the initial state.\n */\nconst initialState = (): State => ({\n  id: randomId(),\n  name: '',\n  tag: NONE_TAG_ID, // the id of the None tag.\n  date: new Date(),\n  complete: false,\n  inFocus: false,\n  subTasks: [],\n  opened: false,\n  tagPickerOpened: false,\n  datePickerOpened: false,\n  datePicked: false,\n  needToSwitchFocus: false,\n});\n\nexport class TaskCreator extends React.PureComponent<Props, State> {\n  public readonly state: State = initialState();\n\n  private addTask: HTMLInputElement | null | undefined;\n\n  private darkModeStyle: CSSProperties;\n\n  constructor(props: {theme: Theme}) {\n    super(props);\n    this.darkModeStyle = {\n      background: 'black',\n      color: 'white',\n    };\n  }\n\n  /*\n   * --------------------------------------------------------------------------------\n   * Part 1: Openers & Closers\n   * --------------------------------------------------------------------------------\n   */\n\n  /**\n   * Open the new task editor.\n   */\n  private openNewTask = (): void => this.setState({ opened: true });\n\n  /**\n   * Close (collapse) the new task editor.\n   */\n  private closeNewTask = (): void => this.setState({ opened: false });\n\n  /**\n   * Open the tag picker and close the date picker.\n   */\n  private openTagPicker = (): void => this.setState(({ tagPickerOpened }: State) => ({\n    tagPickerOpened: !tagPickerOpened,\n    datePickerOpened: false,\n  }));\n\n  /**\n   * Open the date picker and close the tag picker.\n   */\n  private openDatePicker = (): void => this.setState(({ datePickerOpened }: State) => ({\n    datePickerOpened: !datePickerOpened,\n    tagPickerOpened: false,\n  }));\n\n  /*\n   * --------------------------------------------------------------------------------\n   * Part 2: Manager functions when finished editing.\n   * --------------------------------------------------------------------------------\n   */\n\n  /**\n   * Focus on the task name, if possible.\n   */\n  private focusTaskName = (): void => {\n    if (this.addTask) {\n      this.addTask.focus();\n    }\n  };\n\n  /**\n   * Handle on potential save.\n   *\n   * @param e the event that signals a potential save action.\n   */\n  private handleSave = (e?: SyntheticEvent<HTMLElement>): void => {\n    if (e != null) {\n      e.preventDefault();\n    }\n    const {\n      name, tag, date, complete, inFocus, subTasks,\n    } = this.state;\n    if (name === '') {\n      return;\n    }\n    const newSubTasks = subTasks\n      .filter((subTask) => subTask.name !== '') // remove empty subtasks\n      // normalize orders: use current sequence as order;; remove useless id\n      .map(({ id, ...rest }, order) => ({ ...rest, order }));\n    // Put task in focus is the due date is today.\n    const autoInFocus = inFocus || (date instanceof Date && isToday(date));\n    const commonTask = { name, tag, date, complete, inFocus: autoInFocus };\n    let newTask: TaskWithoutIdOrderChildren;\n    if (date instanceof Date) {\n      date.setHours(23);\n      date.setMinutes(59);\n      date.setSeconds(59);\n      newTask = { ...commonTask, metadata: { type: 'ONE_TIME', date } };\n    } else {\n      newTask = {\n        ...commonTask,\n        inFocus: false,\n        metadata: {\n          type: 'MASTER_TEMPLATE',\n          forks: [],\n          date,\n        },\n      };\n    }\n    // Add the task to the store.\n    addTask(newTask, newSubTasks);\n    // Reset the state.\n    this.setState({ ...initialState() });\n    this.closeNewTask();\n    if (this.addTask) {\n      this.addTask.blur();\n    }\n  };\n\n  /*\n   * --------------------------------------------------------------------------------\n   * Part 3: Various Editors\n   * --------------------------------------------------------------------------------\n   */\n\n  /**\n   * Edit the task name.\n   *\n   * @param e the event that contains the new task name.\n   */\n  private editTaskName = (e: SyntheticEvent<HTMLInputElement>): void => this.setState(\n    { name: e.currentTarget.value },\n    this.focusTaskName,\n  );\n\n  /**\n   * Edit the tag.\n   *\n   * @param {string} tag the new tag.\n   */\n  private editTag = (tag: string): void => this.setState(\n    { tag, tagPickerOpened: false }, this.focusTaskName,\n  );\n\n  /**\n   * Edit the date.\n   *\n   * @param {Date} date the new date, or null for cancel.\n   */\n  private editDate = (date: Date | RepeatingDate | null): void => {\n    const { datePicked } = this.state;\n    if (datePicked && date === null) {\n      // User cancelled, but date was already picked\n      this.setState(\n        { datePickerOpened: false },\n        this.focusTaskName,\n      );\n    } else if (date instanceof Date || date === null) {\n      // Selecting a date, or user cancelled while date was not picked\n      this.setState(\n        {\n          date: date ?? new Date(),\n          datePickerOpened: false,\n          datePicked: Boolean(date),\n        },\n        this.focusTaskName,\n      );\n    } else {\n      // Repeating task\n      this.setState(\n        {\n          date,\n          datePickerOpened: false,\n          datePicked: true,\n        },\n        this.focusTaskName,\n      );\n    }\n  };\n\n  /**\n   * Reset the date picker\n   */\n  private clearDate = (): void => {\n    this.setState(\n      { date: new Date(), datePickerOpened: false, datePicked: false },\n      this.focusTaskName,\n    );\n  }\n\n  /**\n   * Toggle the pin status.\n   * @param {boolean} inFocus the new in-focus status.\n   */\n  private togglePin = (inFocus: boolean): void => this.setState({ inFocus }, this.focusTaskName);\n\n  /**\n   * Add a new subtask.\n   *\n   * @param e the event that contains the new name for new sub-task.\n   */\n  private addNewSubTask = (e: SyntheticEvent<HTMLInputElement>): void => {\n    const newSubTaskName = e.currentTarget.value;\n    if (newSubTaskName === '') {\n      return;\n    }\n    this.setState(({ subTasks }: State) => ({\n      subTasks: [...subTasks, {\n        id: String(subTasks.length),\n        order: 0, // some random order, will be ignored anyway\n        name: newSubTaskName,\n        complete: false,\n        inFocus: false,\n      }],\n      needToSwitchFocus: true,\n    }));\n  };\n\n  /**\n   * Handle a keypress event in a new subtask box.\n   * It can potentially make the form to lose focus to exit.\n   *\n   * @param e the event that contains the key pressed in the new subtask input box.\n   */\n  private newSubTaskKeyPress = (e: KeyboardEvent<HTMLInputElement>): void => {\n    if (e.key === 'Tab') {\n      this.closeNewTask();\n    }\n  }\n\n  /**\n   * Edit a subtask.\n   *\n   * @param subTaskId id of the subtask to edit.\n   * @return the event handler.\n   */\n  private editSubTask = (subTaskId: string) => (e: SyntheticEvent<HTMLInputElement>) => {\n    const name = e.currentTarget.value;\n    this.setState(({ subTasks }: State) => ({\n      subTasks: subTasks.map((s) => (s.id === subTaskId ? { ...s, name } : s)),\n    }));\n  };\n\n  /**\n   * Potentially submit a subtask.\n   *\n   * @param e the keyboard event.\n   */\n  private submitSubTask = (e: KeyboardEvent<HTMLInputElement>): void => {\n    if (e.key === 'Enter') {\n      this.handleSave();\n    }\n  };\n\n  /**\n   * Delete a subtask.\n   *\n   * @param {string} subtaskId id of the subtask to delete.\n   * @return {Function<SyntheticEvent<HTMLInputElement>, void>} the event handler.\n   */\n  private deleteSubTask = (subtaskId: string) => (e: SyntheticEvent<HTMLButtonElement>) => {\n    e.preventDefault();\n    this.setState(({ subTasks }: State) => ({\n      subTasks: subTasks.filter((s) => s.id !== subtaskId),\n    }));\n  };\n\n  /**\n   * Reset the task.\n   */\n  private resetTask = (): void => this.setState({ ...initialState() }, this.focusTaskName);\n\n  /**\n   * Renders the editor for all the other info except main task name.\n   *\n   * @return the rendered other info editor.\n   */\n  private renderOtherInfoEditor(): ReactElement | null {\n    const { opened } = this.state;\n    if (!opened) {\n      return null;\n    }\n    const {\n      tag, date, inFocus, subTasks,\n      tagPickerOpened, datePickerOpened, datePicked, needToSwitchFocus,\n    } = this.state;\n    const { theme } = this.props;\n    const existingSubTaskEditor = (\n      { id, name }: SubTask, i: number, arr: SubTask[],\n    ): ReactElement => {\n      const refHandler = (inputElementRef: HTMLInputElement | null): void => {\n        if (i === arr.length - 1 && needToSwitchFocus && inputElementRef != null) {\n          inputElementRef.focus();\n          this.setState({ needToSwitchFocus: false });\n        }\n      };\n      return (\n        <li key={id}>\n          <button type=\"button\" tabIndex={-1} onClick={this.deleteSubTask(id)}>\n            <SamwiseIcon iconName=\"x-dark\" />\n          </button>\n          <input\n            type=\"text\"\n            ref={refHandler}\n            value={name}\n            onChange={this.editSubTask(id)}\n            onKeyDown={this.submitSubTask}\n            style={theme === 'dark' ? this.darkModeStyle : undefined}\n          />\n        </li>\n      );\n    };\n    return (\n      <div className={styles.NewTaskActive}>\n        {date instanceof Date && <FocusPicker pinned={inFocus} onPinChange={this.togglePin} />}\n        <div className={styles.TagPickWrap}>\n          <TagPicker\n            tag={tag}\n            opened={tagPickerOpened}\n            onTagChange={this.editTag}\n            onPickerOpened={this.openTagPicker}\n          />\n        </div>\n        <DatePicker\n          date={date}\n          opened={datePickerOpened}\n          datePicked={datePicked}\n          onDateChange={this.editDate}\n          onClearPicker={this.clearDate}\n          onPickerOpened={this.openDatePicker}\n        />\n        <button tabIndex={-1} type=\"submit\" className={styles.SubmitNewTask} style={theme === 'dark' ? this.darkModeStyle : undefined}>\n          <FontAwesomeIcon icon={faArrowAltCircleRight} />\n        </button>\n        <div className={styles.NewTaskModal} style={theme === 'dark' ? this.darkModeStyle : undefined}>\n          <ul>{subTasks.map(existingSubTaskEditor)}</ul>\n          <FontAwesomeIcon icon={faPlus} className={styles.PlusIcon} />\n          <input\n            type=\"text\"\n            placeholder=\"Add a Subtask\"\n            value=\"\"\n            onChange={this.addNewSubTask}\n            onKeyDown={this.newSubTaskKeyPress}\n            style={theme === 'dark' ? this.darkModeStyle : undefined}\n          />\n          <button type=\"button\" className={styles.ResetButton} onClick={this.resetTask}>\n            Clear\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  public render(): ReactElement {\n    const { name, opened } = this.state;\n    const toggleDisplayStyle = opened ? {} : { display: 'none' };\n    const { theme } = this.props;\n    return (\n      <div style={theme === 'dark' ? this.darkModeStyle : undefined}>\n        <div\n          onClick={this.closeNewTask}\n          role=\"presentation\"\n          className={styles.CloseNewTask}\n          style={toggleDisplayStyle}\n        />\n        <form\n          className={styles.NewTaskWrap}\n          onSubmit={this.handleSave}\n          onFocus={this.openNewTask}\n        >\n          <input\n            required\n            type=\"text\"\n            value={name}\n            onChange={this.editTaskName}\n            className={styles.NewTaskComponent}\n            placeholder={opened ? '' : PLACEHOLDER_TEXT}\n            ref={(e) => { this.addTask = e; }}\n            style={theme === 'dark' ? this.darkModeStyle : undefined}\n          />\n          {this.renderOtherInfoEditor()}\n        </form>\n      </div>\n    );\n  }\n}\n\n\nconst Connected = connect(\n  ({ settings: { theme } }: StoreState): Props => ({ theme }),\n)(TaskCreator);\nexport default Connected;\n","import { useState, useEffect, useMemo, ReactNode } from 'react';\n\nexport type WindowSize = { readonly width: number; readonly height: number };\ntype Listener = (windowSize: WindowSize) => void;\n\nconst getWindowSize = (): WindowSize => ({ width: window.innerWidth, height: window.innerHeight });\n\nlet cachedWindowSize: WindowSize = { width: 0, height: 0 };\nlet hasUnreportedChange = false;\nconst listeners = new Map<number, Listener>();\nlet listenerSize = 0;\n\nconst windowSizeListener = (): void => {\n  const newSize = getWindowSize();\n  if (newSize.width === cachedWindowSize.width && newSize.height === cachedWindowSize.height) {\n    return;\n  }\n  cachedWindowSize = newSize;\n  hasUnreportedChange = true;\n};\n\nconst notifyAll = (): void => {\n  if (hasUnreportedChange) {\n    listeners.forEach((l) => l(cachedWindowSize));\n    hasUnreportedChange = false;\n  }\n};\n\nconst bindListener = (listener: Listener): (() => void) => {\n  const id = listenerSize;\n  listeners.set(id, listener);\n  listenerSize += 1;\n  return () => {\n    listeners.delete(id);\n  };\n};\n\nif (cachedWindowSize.width === 0) {\n  window.addEventListener('resize', windowSizeListener);\n  setInterval(notifyAll, 100);\n}\n\n/**\n * A hook for window size.\n */\nexport function useWindowSize(): WindowSize {\n  const [size, setSize] = useState(getWindowSize);\n  useEffect(() => bindListener(setSize), []);\n  return size;\n}\n\n/**\n * A hook for window size.\n */\nexport function useWindowSizeCallback(onChange: (windowSize: WindowSize) => void): WindowSize {\n  const [size, setSize] = useState(getWindowSize);\n  useEffect(() => bindListener(setSize), []);\n  useEffect(() => onChange(size));\n  return size;\n}\n\n/**\n * A hook for computed value based on window size and memoized rendering.\n * You can use this hook to implement efficient breakpoint logic.\n *\n * @param f a function that computes the value given a window size.\n * @return the computed value.\n */\nexport function useMappedWindowSize<T>(f: (windowSize: WindowSize) => T): T {\n  const [mappedValue, setMappedValue] = useState(() => f(getWindowSize()));\n  useEffect(\n    () => bindListener((windowSize: WindowSize): void => {\n      const newMappedValue = f(windowSize);\n      if (newMappedValue !== mappedValue) {\n        setMappedValue(newMappedValue);\n      }\n    }),\n    [f, mappedValue],\n  );\n  return mappedValue;\n}\n\n/**\n * A hook for computed value based on window size and memoized rendering.\n * You can use this hook to implement efficient breakpoint logic.\n *\n * @param f a function that computes the value given a window size.\n * @param render a function that renders a component given the computed value.\n * @return the memoized rendered value.\n */\nexport function useMemoizedMappedWindowSize<T>(\n  f: (windowSize: WindowSize) => T,\n  render: (t: T) => ReactNode,\n): ReactNode {\n  const value = f(useWindowSize());\n  return useMemo(() => render(value), [render, value]);\n}\n","import { Map } from 'immutable';\n/**\n * Test whether the given list is sorted by increasing order.\n *\n * @param list the list to test whether things are sorted.\n */\nfunction testSorted(list) {\n    for (let i = 0; i < list.length - 1; i += 1) {\n        const item = list[i];\n        const next = list[i + 1];\n        if (item.order > next.order) {\n            throw new Error('Not sorted!');\n        }\n    }\n}\nfunction testOrderUnique(list) {\n    const orders = new Set();\n    for (let i = 0; i < list.length - 1; i += 1) {\n        const { order } = list[i];\n        if (orders.has(order)) {\n            throw new Error('Orders not unique!');\n        }\n        orders.add(order);\n    }\n}\n/**\n * @param list the list to sort.\n * @returns the sorted list in increasing order.\n */\nexport function sortByOrder(list) {\n    return [...list].sort((a, b) => a.order - b.order);\n}\n/**\n * Compute the reorder map after swapping items with order sourceOrder and destinationOrder.\n *\n * Contract:\n * - The original list will not be mutated.\n * - The sorted list obtained by applying the reordering map will satisfy the properties\n *   described in the reorder function below.\n *\n * @param originalList the original list as a reference.\n * @param sourceOrder where is the dragged item from.\n * @param destinationOrder where the dragged item goes.\n * @return the reordering map that maps id to new order.\n */\nexport function computeReorderMap(originalList, sourceOrder, destinationOrder) {\n    if (sourceOrder === destinationOrder) {\n        return Map.of();\n    }\n    testSorted(originalList);\n    testOrderUnique(originalList);\n    let reorderMap = Map(); // key: id, value: new order\n    const orders = originalList.map((t) => t.order);\n    if (sourceOrder < destinationOrder) {\n        // wants to go to later places\n        originalList.forEach((element, i) => {\n            if (element.order === sourceOrder) {\n                reorderMap = reorderMap.set(element.id, destinationOrder);\n            }\n            else if (element.order > sourceOrder && element.order <= destinationOrder) {\n                reorderMap = reorderMap.set(element.id, orders[i - 1]);\n            }\n        });\n    }\n    else {\n        // wants to go to earlier places\n        originalList.forEach((element, i) => {\n            if (element.order === sourceOrder) {\n                reorderMap = reorderMap.set(element.id, destinationOrder);\n            }\n            else if (element.order >= destinationOrder && element.order < sourceOrder) {\n                reorderMap = reorderMap.set(element.id, orders[i + 1]);\n            }\n        });\n    }\n    return reorderMap;\n}\n/**\n * Apply the reorder map to an order list to obtained the sorted list.\n * The contract of the sorted list is described in the reorder function below.\n *\n * @param originalList the original list as a reference.\n * @param reorderMap the reorder map to apply.\n * @returns a new list with updated orders and the reordering map that maps id to new order.\n */\nexport function getReorderedList(originalList, reorderMap) {\n    const sortedList = [...originalList];\n    for (let i = 0; i < sortedList.length; i += 1) {\n        const element = sortedList[i];\n        const newOrder = reorderMap.get(element.id);\n        if (newOrder != null) {\n            sortedList[i] = Object.assign(Object.assign({}, element), { order: newOrder });\n        }\n    }\n    return sortedList.sort((a, b) => a.order - b.order);\n}\n/**\n * Reorder a list of items by swapping items with order sourceOrder and destinationOrder.\n *\n * Contract:\n * - The original list will not be mutated.\n * - The returned sorted list will satisfy these properties:\n *   - It is sorted in increaing order.\n *   - Only the order field is changed.\n *   - The order field of the original list items is maintained, except that\n *     - the order field of the swapped items are reversed.\n *     - the relative order of one of the items and all items in between the swapped items are\n *       reversed.\n * - The returned reorder map compactly describes all the order changes in an immutable map.\n *\n * @param originalList the original list as a reference.\n * @param sourceOrder where is the dragged item from.\n * @param destinationOrder where the dragged item goes.\n * @return a new list with updated orders and the reordering map that maps id to new order.\n */\nexport function reorder(originalList, sourceOrder, destinationOrder) {\n    const reorderMap = computeReorderMap(originalList, sourceOrder, destinationOrder);\n    return getReorderedList(originalList, reorderMap);\n}\n","import React, { ReactElement } from 'react';\nimport styles from './SquareButtons.module.scss';\n\ntype Props = { readonly text: string; readonly onClick: () => void };\n\nconst className = [styles.SquareButton, styles.SquareButtonTextButton].join(' ');\n\n/**\n * The component used to render a text button.\n * @constructor\n */\nexport default function SquareTextButton({ text, onClick }: Props): ReactElement {\n  return (\n    <button className={className} title={text} type=\"button\" onClick={onClick}>\n      <span className={styles.SquareButtonText}>{text}</span>\n    </button>\n  );\n}\n","import React, { ReactElement } from 'react';\nimport { Map } from 'immutable';\nimport { connect } from 'react-redux';\nimport { Task, State } from 'common/lib/types/store-types';\nimport SquareTextButton from '../../UI/SquareTextButton';\nimport { clearFocus } from '../../../firebase/actions';\n\ntype Props = {\n  readonly tasks: Map<string, Task>;\n};\n\nfunction ClearFocus({ tasks }: Props): ReactElement | null {\n  const taskIds: string[] = [];\n  const subTaskIds: string[] = [];\n  tasks.forEach((t) => {\n    if (t.inFocus && t.complete) {\n      taskIds.push(t.id);\n    } else {\n      t.children.forEach((s) => {\n        if (s.inFocus && s.complete) {\n          subTaskIds.push(s.id);\n        }\n      });\n    }\n  });\n  if (taskIds.length === 0) {\n    return null;\n  }\n  const handleClick = (): void => clearFocus(taskIds, subTaskIds);\n  return <SquareTextButton text=\"Clear Focus\" onClick={handleClick} />;\n}\n\nconst Connected = connect(({ tasks }: State) => ({ tasks }))(ClearFocus);\nexport default Connected;\n","import React, { ReactElement } from 'react';\nimport styles from './CompletedSeparator.module.scss';\nimport SamwiseIcon from '../../UI/SamwiseIcon';\n\ntype Props = {\n  readonly count: number;\n  readonly doesShowCompletedTasks: boolean;\n  readonly onDoesShowCompletedTasksChange: () => void;\n};\n\nconst getIconClassName = (notInverted: boolean): string => (\n  notInverted ? styles.Icon : `${styles.Icon} ${styles.Inverted}`\n);\n\nexport default (\n  { count, doesShowCompletedTasks, onDoesShowCompletedTasksChange }: Props,\n): ReactElement => (\n  <div className={styles.Separator}>\n    <span className={styles.Text}>{`Completed: (${count})`}</span>\n    <SamwiseIcon\n      iconName=\"dropdown\"\n      className={getIconClassName(doesShowCompletedTasks)}\n      onClick={onDoesShowCompletedTasksChange}\n    />\n    <div className={styles.Line} />\n  </div>\n);\n","import React, { ReactElement } from 'react';\nimport Modal from 'react-modal';\nimport styles from './ChoiceModal.module.css';\n\nexport type ChoiceObj = { readonly [key: string]: string };\n\n/**\n * The type parameter Choice must be an object with predefined set of string keys and string values.\n */\nexport type ChoiceModalProps<Choices extends ChoiceObj> = {\n  /**\n   * Whether the modal is open.\n   */\n  readonly open: boolean;\n  /**\n   * The message displayed along with the choices.\n   */\n  readonly message: string;\n  /**\n   * All of the available choices in an object. It should be something like:\n   * ```typescript\n   * const choices = {\n   *   choice1: 'User readable short description of option 1',\n   *   choice2: 'User readable short description of option 2',\n   *   // ...\n   * };\n   * ```\n   */\n  readonly choices: Choices;\n  /**\n   * The function called when a choice is picked.\n   */\n  readonly onChoicePick: (pickedChoice: keyof Choices) => void;\n}\n\nexport default function ChoiceModal<Choices extends ChoiceObj>(\n  { open, message, choices, onChoicePick }: ChoiceModalProps<Choices>,\n): ReactElement {\n  return (\n    <Modal isOpen={open} className={styles.ChoiceModal} contentLabel=\"Choice Dialog\">\n      <div className={styles.TextContainer}>{message}</div>\n      <div className={styles.ButtonContainer}>\n        <span className={styles.Filler} />\n        {Object.keys(choices).map((key) => (\n          <button\n            key={key}\n            type=\"button\"\n            className={styles.ChoiceButton}\n            onClick={() => onChoicePick(key)}\n          >\n            {choices[key]}\n          </button>\n        ))}\n      </div>\n    </Modal>\n  );\n}\n","import React, { ReactElement, useState, useEffect } from 'react';\nimport Modal from 'react-modal';\nimport ChoiceModal, { ChoiceObj, ChoiceModalProps } from './ChoiceModal';\n\nexport function initModal(): void {\n  Modal.setAppElement('#root');\n}\n\nconst dummyChoiceModalProps: ChoiceModalProps<ChoiceObj> = {\n  open: false, message: '', choices: {}, onChoicePick: () => { },\n};\n\nlet currentChoiceModalSetter: (props: ChoiceModalProps<ChoiceObj>) => void = (): void => { };\n\nexport async function promptChoice<Choices extends ChoiceObj>(\n  message: string,\n  choices: Choices,\n): Promise<keyof Choices> {\n  return new Promise<keyof Choices>((onChoicePick) => {\n    const choiceModalProps: ChoiceModalProps<Choices> = {\n      open: true,\n      message,\n      choices,\n      onChoicePick: (pickedChoice: keyof Choices) => {\n        onChoicePick(pickedChoice);\n        // close the modal\n        currentChoiceModalSetter(dummyChoiceModalProps);\n      },\n    };\n    currentChoiceModalSetter(choiceModalProps);\n  });\n}\n\nconst confirmCancelChoices = { CANCEL: 'Cancel', CONFIRM: 'Confirm' };\n\nexport async function promptConfirm(message: string): Promise<boolean> {\n  const result = await promptChoice(message, confirmCancelChoices);\n  return result === 'CONFIRM';\n}\n\nexport function ModalsContainer(): ReactElement {\n  const [choiceModalProps, setChoiceModalProps] = useState(dummyChoiceModalProps);\n  const { open, message, choices, onChoicePick } = choiceModalProps;\n  useEffect(() => {\n    // register modal setter\n    currentChoiceModalSetter = setChoiceModalProps;\n  }, []);\n  return (\n    <ChoiceModal open={open} message={message} choices={choices} onChoicePick={onChoicePick} />\n  );\n}\n","import { promptChoice, promptConfirm } from 'components/Util/Modals';\nimport { Task, OneTimeTaskMetadata, RepeatingTaskMetadata } from 'common/lib/types/store-types';\nimport { removeTask, removeOneRepeatedTask } from 'firebase/actions';\nimport { store } from 'store/store';\n\n/**\n * This is the utility module for array of tasks and subtasks.\n * This module implements many common functional operations on an array of tasks or subtasks.\n * Other modules should try to call functions in this module instead of implementing their own.\n */\n\nconst repeatedTaskEditChoices = {\n  CANCEL_CHANGES: 'Cancel',\n  CHANGE_MASTER_TEMPLATE: 'Edit All Occurences',\n  FORK: 'Edit This Instance',\n};\n\nconst repeatedTaskEditMasterConfirm = {\n  CANCEL_CHANGES: 'Cancel',\n  CHANGE_MASTER_TEMPLATE: 'Edit All Occurences',\n};\n\nexport function promptRepeatedTaskEditChoice(): Promise<keyof typeof repeatedTaskEditChoices> {\n  return promptChoice(\n    'Do you want to edit all occurences of this task or this instance?',\n    repeatedTaskEditChoices,\n  );\n}\n\nexport function confirmRepeatedTaskEditMaster(): Promise<\nkeyof typeof repeatedTaskEditMasterConfirm\n> {\n  return promptChoice(\n    'Do you want to edit all occurences of this task?',\n    repeatedTaskEditMasterConfirm,\n  );\n}\n\nfunction removeOneTimeTask(task: Task<OneTimeTaskMetadata>): void {\n  const { tasks, repeatedTaskSet } = store.getState();\n  const isFork = Array.from(repeatedTaskSet).some((repeatedTaskId): boolean => {\n    const repeatedTask = tasks.get(repeatedTaskId) as Task<RepeatingTaskMetadata> | null;\n    if (repeatedTask == null) {\n      return false;\n    }\n    const { forks } = repeatedTask.metadata;\n    for (let i = 0; i < forks.length; i += 1) {\n      const fork = forks[i];\n      if (fork.forkId === task.id) {\n        return true;\n      }\n    }\n    return false;\n  });\n  let prompt = '';\n  if (!isFork) {\n    prompt = 'Do you really want to remove this task? The removed task cannot be recovered.';\n  } else {\n    prompt = 'Do you really want to remove this forked task? The removed task cannot be recovered.';\n  }\n  promptConfirm(prompt).then((confirmed) => {\n    if (confirmed) {\n      removeTask(task);\n    }\n  });\n}\n\nconst removeTaskFullChoices = {\n  CANCEL_REMOVE: 'Cancel',\n  REMOVE_ALL: 'Remove All',\n  REMOVE_ONE: 'Remove This Instance',\n};\n\nconst removeTaskPartialChoices = {\n  CANCEL_REMOVE: 'Cancel',\n  REMOVE_ALL: 'Remove All',\n};\n\nfunction removeRepeatingTask(task: Task<RepeatingTaskMetadata>, replaceDate: Date | null): void {\n  const prompt = 'How do you want to remove this repeated task?';\n  if (replaceDate === null) {\n    promptChoice(prompt, removeTaskPartialChoices).then((c) => {\n      switch (c) {\n        case 'CANCEL_REMOVE':\n          return;\n        case 'REMOVE_ALL':\n          removeTask(task);\n          return;\n        default:\n          throw new Error();\n      }\n    });\n  } else {\n    promptChoice(prompt, removeTaskFullChoices).then((c) => {\n      switch (c) {\n        case 'CANCEL_REMOVE':\n          return;\n        case 'REMOVE_ALL':\n          removeTask(task);\n          return;\n        case 'REMOVE_ONE':\n          removeOneRepeatedTask(task.id, replaceDate);\n          return;\n        default:\n          throw new Error();\n      }\n    });\n  }\n}\n\nexport function removeTaskWithPotentialPrompt(task: Task, replaceDate: Date | null): void {\n  // The task is pattern matched on metadata only, so the following type casts are safe.\n  if (task.metadata.type === 'ONE_TIME') {\n    removeOneTimeTask(task as Task<OneTimeTaskMetadata>);\n  } else {\n    removeRepeatingTask(task as Task<RepeatingTaskMetadata>, replaceDate);\n  }\n}\n","import React, { ReactElement } from 'react';\nimport styles from './OverdueAlert.module.css';\n\ntype Props = { readonly target: 'task-card' | 'future-view-task' };\n\n/**\n * The overdue alert that will be displayed on the top-right corner of a div.\n */\nexport default function OverdueAlert({ target }: Props): ReactElement {\n  const className = target === 'task-card'\n    ? styles.OverdueAlertInTaskCard\n    : styles.OverdueAlertInFutureView;\n  return <div className={className}>!</div>;\n}\n\nOverdueAlert.defaultProps = { absolutePosition: null };\n","import React, { ReactElement } from 'react';\nimport { connect } from 'react-redux';\nimport { State, Tag, RepeatingPattern, Task, RepeatingTaskMetadata } from 'common/lib/types/store-types';\nimport { DAYS_IN_WEEK, isBitSet } from 'common/lib/util/bitwise-util';\nimport SamwiseIcon from '../../../UI/SamwiseIcon';\nimport styles from './RepeatFrequencyHeader.module.css';\n\ntype OwnProps = {\n  readonly taskId: string;\n  readonly tag: string;\n  readonly getTag: (id: string) => Tag;\n};\n\ntype Props = OwnProps & { readonly pattern: RepeatingPattern | null };\n\ntype BinaryCount = { binary: number; count: number };\n\nconst arrOfWeeks = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];\n\nconst patternTypeToString = (patternType: string): string => {\n  switch (patternType) {\n    case 'WEEKLY': return 'week';\n    case 'BIWEEKLY': return 'two weeks';\n    case 'MONTHLY': return 'month';\n    default:\n      throw new Error();\n  }\n};\n\nconst bitsetToBinaryCount = (bit: number): BinaryCount => {\n  let binary = 0;\n  let count = 0;\n  for (let i = 0; i < DAYS_IN_WEEK; i += 1) {\n    if (isBitSet(bit, i, DAYS_IN_WEEK)) {\n      binary += (1 * 10 ** (DAYS_IN_WEEK - 1 - i));\n      count += 1;\n    }\n  }\n  return { binary, count };\n};\n\nconst getRepeatedDays = ({ type, bitSet }: RepeatingPattern): string => {\n  const frequency = bitsetToBinaryCount(bitSet);\n  const { binary, count } = frequency;\n  if (count > 2 || type !== 'WEEKLY') {\n    return `Repeats ${count} days every ${patternTypeToString(type)}`;\n  }\n\n  const repeatedDays = Array<string>();\n  let binaryFrequency = binary;\n  let index = DAYS_IN_WEEK - 1;\n  while (binaryFrequency > 0) {\n    if (binaryFrequency % 10 === 1) {\n      repeatedDays.push(arrOfWeeks[index]);\n    }\n    binaryFrequency = Math.round(binaryFrequency / 10);\n    index -= 1;\n  }\n  return `Repeats every ${repeatedDays.reverse().join(', ')}`;\n};\n\nfunction RepeatFrequencyHeader(\n  { pattern, tag, getTag }: Props,\n): ReactElement | null {\n  if (pattern == null) {\n    return null;\n  }\n\n  return (\n    <div className={styles.Header} style={{ color: getTag(tag).color }}>\n      <SamwiseIcon iconName=\"repeat-frequency\" className={styles.Icon} />\n      {getRepeatedDays(pattern)}\n    </div>\n  );\n}\n\nconst getRepeatingPattern = (\n  { tasks, repeatedTaskSet }: State,\n  taskId: string,\n): RepeatingPattern | null => {\n  const repeatedTaskIds = repeatedTaskSet.toArray();\n  for (let i = 0; i < repeatedTaskIds.length; i += 1) {\n    const repeatedTaskId = repeatedTaskIds[i];\n    const repeatingTask = tasks.get(repeatedTaskId) as Task<RepeatingTaskMetadata> | undefined;\n    if (repeatingTask != null) {\n      const { metadata: { date: { pattern }, forks } } = repeatingTask;\n      if (taskId === repeatedTaskId) {\n        return pattern;\n      }\n      for (let j = 0; j < forks.length; j += 1) {\n        const { forkId } = forks[j];\n        if (forkId === taskId) {\n          return pattern;\n        }\n      }\n    }\n  }\n  return null;\n};\n\nconst Connected = connect(\n  (state: State, { taskId }: OwnProps) => ({ pattern: getRepeatingPattern(state, taskId) }),\n)(RepeatFrequencyHeader);\nexport default Connected;\n","import React, { ReactElement } from 'react';\nimport Calendar from 'react-calendar';\nimport { Tag, RepeatingDate } from 'common/lib/types/store-types';\nimport styles from './index.module.css';\nimport TagListPicker from '../../TagListPicker/TagListPicker';\nimport { CalendarPosition } from '../editors-types';\nimport SamwiseIcon from '../../../UI/SamwiseIcon';\n\ntype TagAndDate = {\n  readonly tag: string;\n  readonly date: Date | RepeatingDate;\n};\n\ntype Props = TagAndDate & {\n  readonly onChange: (change: Partial<TagAndDate>) => void;\n  readonly getTag: (id: string) => Tag;\n  readonly displayGrabber: boolean;\n  readonly calendarPosition: CalendarPosition;\n  readonly icalUID?: string;\n};\n\ntype EditorDisplayStatus = {\n  readonly doesShowTagEditor: boolean;\n  readonly doesShowDateEditor: boolean;\n};\n\nconst calendarIconClass = [styles.TaskEditorIconButton, styles.TaskEditorIcon].join(' ');\n\nexport default function EditorHeader(\n  { tag, date, onChange, getTag, displayGrabber, calendarPosition, icalUID }: Props,\n): ReactElement {\n  const [editorDisplayStatus, setEditorDisplayStatus] = React.useState<EditorDisplayStatus>({\n    doesShowTagEditor: false,\n    doesShowDateEditor: false,\n  });\n\n  const toggleTagEditor = (): void => setEditorDisplayStatus((prev) => ({\n    doesShowTagEditor: !prev.doesShowTagEditor, doesShowDateEditor: false,\n  }));\n  const toggleDateEditor = (): void => setEditorDisplayStatus((prev) => ({\n    doesShowTagEditor: false, doesShowDateEditor: !prev.doesShowDateEditor,\n  }));\n  const editTaskTag = (t: string): void => {\n    onChange({ tag: t });\n    setEditorDisplayStatus((prev) => ({ ...prev, doesShowTagEditor: false }));\n  };\n  const editTaskDate = (d: Date | Date[]): void => {\n    if (Array.isArray(d)) {\n      throw new Error('date is not an arry');\n    }\n    onChange({ date: d });\n    setEditorDisplayStatus((prev) => ({ ...prev, doesShowDateEditor: false }));\n  };\n\n  const { doesShowTagEditor, doesShowDateEditor } = editorDisplayStatus;\n  const headerClassName = `${styles.TaskEditorFlexibleContainer} ${styles.TaskEditorHeader}`;\n  const tagDisplay = (\n    <button type=\"button\" className={styles.TaskEditorTag} onClick={toggleTagEditor}>\n      {getTag(tag).name}\n    </button>\n  );\n  const tagEditor = doesShowTagEditor && (\n    <div className={styles.TaskEditorTagEditor}>\n      <TagListPicker onTagChange={editTaskTag} />\n    </div>\n  );\n  const dateDisplay = date instanceof Date\n    ? <span>{`${date.getMonth() + 1}/${date.getDate()}`}</span>\n    : <span>Repeated</span>;\n  const dateEditor = doesShowDateEditor && date instanceof Date && (\n    <Calendar\n      value={date}\n      className={\n        calendarPosition === 'top'\n          ? styles.TaskEditorCalendarTop\n          : styles.TaskEditorCalendarBottom\n      }\n      minDate={new Date()}\n      onChange={editTaskDate}\n      calendarType=\"US\"\n    />\n  );\n  const isCanvasTask = typeof icalUID === 'string' ? icalUID !== '' : false;\n\n  return (\n    <div className={headerClassName}>\n      {displayGrabber && (\n        <SamwiseIcon iconName=\"grabber\" className={styles.TaskEditorGrabberIcon} />\n      )}\n      {tagDisplay}\n      {tagEditor}\n      <span className={styles.TaskEditorFlexiblePadding} />\n      {isCanvasTask ? null\n        : (\n          <SamwiseIcon\n            iconName=\"calendar-light\"\n            className={calendarIconClass}\n            style={{ marginRight: '8px' }}\n            onClick={toggleDateEditor}\n          />\n        )}\n      {dateDisplay}\n      {dateEditor}\n    </div>\n  );\n}\n","/* eslint-disable jsx-a11y/label-has-associated-control,jsx-a11y/label-has-for */\n\nimport React, { ReactElement } from 'react';\nimport styles from './CheckBox.module.css';\n\ntype Props = {\n  readonly checked: boolean; // whether the box is initially checked\n  readonly onChange: (checked: boolean) => void; // called when the value changed.\n  readonly disabled: boolean; // whether the checkbox is disabled.\n  readonly inverted: boolean; // whether the color is inverted.\n  readonly className: string | null; // additional className to apply\n};\n\n/**\n * This is the checkbox that implements designers' minimalist design.\n */\nexport default function CheckBox({\n  checked,\n  onChange,\n  disabled,\n  inverted,\n  className,\n}: Props): ReactElement {\n  let allClassNames = className === null ? styles.CheckBox : `${className} ${styles.CheckBox}`;\n  if (inverted) {\n    allClassNames = `${allClassNames} ${styles.InvertedCheckBox}`;\n  }\n  const handleClick = (): void => {\n    if (!disabled) {\n      onChange(!checked);\n    }\n  };\n  return (\n    <label className={allClassNames}>\n      <input\n        tabIndex={0}\n        defaultChecked={checked}\n        onClick={handleClick}\n        disabled={disabled}\n        type=\"checkbox\"\n      />\n      {checked && <span className={styles.CheckBoxCheckMark} />}\n    </label>\n  );\n}\n\nCheckBox.defaultProps = { disabled: false, inverted: false, className: null };\n","import React, { KeyboardEvent, ReactElement, SyntheticEvent } from 'react';\nimport { getDateWithDateString } from 'common/lib/util/datetime-util';\nimport styles from './index.module.css';\nimport CheckBox from '../../../UI/CheckBox';\nimport SamwiseIcon from '../../../UI/SamwiseIcon';\nimport { editMainTask } from '../../../../firebase/actions';\n\ntype NameCompleteInFocus = {\n  readonly name: string;\n  readonly complete: boolean;\n  readonly inFocus: boolean;\n};\ntype Props = NameCompleteInFocus & {\n  readonly id: string;\n  readonly icalUID?: string;\n  readonly taskDate: Date | null;\n  readonly dateAppeared: string;\n  readonly onChange: (change: Partial<NameCompleteInFocus>) => void;\n  readonly onRemove: () => void;\n  readonly onPressEnter: (id: 'main-task' | number) => void;\n};\n\nconst deleteIconClass = [styles.TaskEditorIcon, styles.TaskEditorIconLeftPad].join(' ');\n\nfunction MainTaskEditor(\n  {\n    id, icalUID, taskDate, dateAppeared, name, complete, inFocus, onChange, onRemove, onPressEnter,\n  }: Props,\n): ReactElement {\n  const replaceDateForFork = taskDate == null\n    ? getDateWithDateString(taskDate, dateAppeared)\n    : null;\n  const editComplete = (): void => editMainTask(id, replaceDateForFork, { complete: !complete });\n  const editInFocus = (): void => editMainTask(id, replaceDateForFork, { inFocus: !inFocus });\n\n  const onKeyDown = (event: KeyboardEvent<HTMLInputElement>): void => {\n    if (event.key !== 'Enter') {\n      return;\n    }\n    onPressEnter('main-task');\n  };\n\n  const onInputChange = (event: SyntheticEvent<HTMLInputElement>): void => {\n    event.stopPropagation();\n    const newValue = event.currentTarget.value;\n    onChange({ name: newValue });\n  };\n\n  const isCanvasTask = typeof icalUID === 'string' ? icalUID !== '' : false;\n\n  return (\n    <div className={styles.TaskEditorFlexibleContainer}>\n      <CheckBox\n        className={styles.TaskEditorCheckBox}\n        checked={complete}\n        onChange={editComplete}\n      />\n      <input\n        type=\"text\"\n        disabled={isCanvasTask}\n        data-lpignore=\"true\"\n        className={complete\n          ? styles.TaskEditorStrikethrough : styles.TaskEditorFlexibleInput}\n        placeholder=\"Main Task\"\n        value={name}\n        onKeyDown={onKeyDown}\n        onChange={onInputChange}\n      />\n      <SamwiseIcon\n        iconName={inFocus ? 'pin-light-filled' : 'pin-light-outline'}\n        className={styles.TaskEditorIcon}\n        onClick={editInFocus}\n      />\n      {isCanvasTask ? null\n        : <SamwiseIcon iconName=\"x-light\" className={deleteIconClass} onClick={onRemove} />}\n    </div>\n  );\n}\n\nconst Memoized = React.memo(MainTaskEditor);\nexport default Memoized;\n","import React, { KeyboardEvent, ReactElement, SyntheticEvent, useEffect, useRef } from 'react';\nimport styles from './index.module.css';\n\ntype Props = {\n  readonly onFirstType: (change: string) => void;\n  readonly onPressEnter: () => void;\n  readonly needToBeFocused: boolean;\n  readonly type: 'MASTER_TEMPLATE' | 'ONE_TIME' | 'GROUP';\n};\n\nexport default function NewSubTaskEditor(\n  { onFirstType, onPressEnter, needToBeFocused }: Props,\n): ReactElement {\n  const onInputChange = (event: SyntheticEvent<HTMLInputElement>): void => {\n    event.stopPropagation();\n    const newSubTaskValue: string = event.currentTarget.value.trim();\n    if (newSubTaskValue.length > 0) {\n      onFirstType(newSubTaskValue);\n    }\n  };\n  const onKeyDown = (event: KeyboardEvent<HTMLInputElement>): void => {\n    if (event.key === 'Enter' || event.key === 'Tab') {\n      onPressEnter();\n    }\n  };\n\n  const editorRef = useRef<HTMLInputElement | null>(null);\n\n  useEffect(() => {\n    if (needToBeFocused) {\n      const currentElement = editorRef.current;\n      if (currentElement != null) {\n        currentElement.focus();\n      }\n    }\n  });\n\n  return (\n    <div className={styles.TaskEditorFlexibleContainer}>\n      <input\n        type=\"text\"\n        data-lpignore=\"true\"\n        ref={editorRef}\n        className={styles.TaskEditorFlexibleInput}\n        placeholder=\"Add a Subtask\"\n        value=\"\"\n        onChange={onInputChange}\n        onKeyDown={onKeyDown}\n      />\n    </div>\n  );\n}\n","import React, {\n  KeyboardEvent,\n  ReactElement,\n  SyntheticEvent,\n  useEffect,\n  useRef,\n} from 'react';\nimport { PartialSubTask, SubTask } from 'common/lib/types/store-types';\nimport { getDateWithDateString } from 'common/lib/util/datetime-util';\nimport CheckBox from '../../../UI/CheckBox';\nimport SamwiseIcon from '../../../UI/SamwiseIcon';\nimport { editSubTask } from '../../../../firebase/actions';\nimport styles from './index.module.css';\n\ntype Props = {\n  readonly subTask: SubTask; // the subtask to edit\n  readonly mainTaskComplete: boolean; // whether the main task is completed\n  readonly mainTaskId: string;\n  readonly taskDate: Date | null;\n  readonly dateAppeared: string;\n  readonly needToBeFocused: boolean; // whether it needs to be focused.\n  readonly editThisSubTask: (subtaskId: string, partialSubTask: PartialSubTask) => void;\n  readonly removeSubTask: (subtaskId: string) => void;\n  readonly onPressEnter: (id: 'main-task' | number) => void;\n};\n\nconst className = [styles.TaskEditorFlexibleContainer, styles.TaskEditorSubtaskCheckBox].join(' ');\nconst deleteIconClass = [styles.TaskEditorIcon, styles.TaskEditorIconLeftPad].join(' ');\n\nfunction OneSubTaskEditor(\n  {\n    subTask,\n    mainTaskComplete,\n    mainTaskId,\n    taskDate,\n    dateAppeared,\n    needToBeFocused,\n    editThisSubTask,\n    removeSubTask,\n    onPressEnter,\n  }: Props,\n): ReactElement {\n  const replaceDateForFork = taskDate == null\n    ? getDateWithDateString(taskDate, dateAppeared)\n    : null;\n  const onCompleteChange = (): void => {\n    const complete = !subTask.complete;\n    editThisSubTask(subTask.id, { complete });\n    editSubTask(mainTaskId, subTask.id, replaceDateForFork, { complete });\n  };\n  const onInFocusChange = (): void => {\n    const inFocus = !subTask.inFocus;\n    editThisSubTask(subTask.id, { inFocus });\n    editSubTask(mainTaskId, subTask.id, replaceDateForFork, { inFocus });\n  };\n  const onRemove = (): void => removeSubTask(subTask.id);\n\n  const onKeyDown = (event: KeyboardEvent<HTMLInputElement>): void => {\n    if (event.key !== 'Enter') {\n      return;\n    }\n    onPressEnter(subTask.order);\n  };\n\n  const onInputChange = (event: SyntheticEvent<HTMLInputElement>): void => {\n    event.stopPropagation();\n    const newValue = event.currentTarget.value;\n    editThisSubTask(subTask.id, { name: newValue });\n  };\n  const onBlur = (event: SyntheticEvent<HTMLInputElement>): void => {\n    event.stopPropagation();\n  };\n\n  const editorRef = useRef<HTMLInputElement | null>(null);\n\n  useEffect(() => {\n    if (needToBeFocused) {\n      const currentElement = editorRef.current;\n      if (currentElement != null) {\n        currentElement.focus();\n      }\n    }\n  });\n\n  return (\n    <div className={className}>\n      <CheckBox\n        className={styles.TaskEditorCheckBox}\n        checked={mainTaskComplete || subTask.complete}\n        disabled={mainTaskComplete}\n        onChange={onCompleteChange}\n      />\n      <input\n        type=\"text\"\n        data-lpignore=\"true\"\n        className={subTask.complete || mainTaskComplete\n          ? styles.TaskEditorStrikethrough : styles.TaskEditorFlexibleInput}\n        placeholder=\"Your Subtask\"\n        value={subTask.name}\n        ref={editorRef}\n        onKeyDown={onKeyDown}\n        onChange={onInputChange}\n        onBlur={onBlur}\n        onMouseLeave={onBlur}\n        style={{ width: 'calc(100% - 70px)' }}\n      />\n      <SamwiseIcon\n        iconName={subTask.inFocus ? 'pin-light-filled' : 'pin-light-outline'}\n        className={styles.TaskEditorIcon}\n        onClick={onInFocusChange}\n      />\n      <SamwiseIcon iconName=\"x-light\" onClick={onRemove} className={deleteIconClass} />\n    </div>\n  );\n}\n\nconst Memoized = React.memo(\n  OneSubTaskEditor,\n  (prev, curr) => prev.subTask === curr.subTask\n    && prev.needToBeFocused === curr.needToBeFocused\n    && prev.mainTaskComplete === curr.mainTaskComplete,\n);\nexport default Memoized;\n","import { Map, Set } from 'immutable';\nimport { useReducer } from 'react';\nimport { shallowEqual, shallowArrayEqual } from 'common/lib/util/general-util';\nimport {\n  MainTask,\n  PartialMainTask,\n  PartialSubTask,\n  SubTask,\n  SubTaskWithoutId,\n} from 'common/lib/types/store-types';\nimport { getNewSubTaskId } from '../../../../firebase/id-provider';\n\ntype Action =\n  | { readonly type: 'EDIT_MAIN_TASK'; readonly change: PartialMainTask }\n  | { readonly type: 'ADD_SUBTASK'; readonly newSubTask: SubTaskWithoutId }\n  | { readonly type: 'EDIT_SUBTASK'; readonly subTaskId: string; readonly change: PartialSubTask }\n  | { readonly type: 'DELETE_SUBTASK'; readonly subtaskId: string }\n  | { readonly type: 'RESET'; readonly mainTask: MainTask; readonly subTasks: readonly SubTask[] };\n\nexport type Diff = {\n  readonly mainTaskEdits: PartialMainTask;\n  readonly subTaskCreations: Map<string, SubTaskWithoutId>;\n  readonly subTaskEdits: Map<string, PartialSubTask>;\n  readonly subTaskDeletions: Set<string>;\n};\n\ntype FullTask = { readonly mainTask: MainTask; readonly subTasks: readonly SubTask[] };\n\ntype State = FullTask & { readonly prevFullTask: FullTask; readonly diff: Diff };\n\ntype TaskDiffActions = FullTask & {\n  readonly diff: Diff;\n  readonly dispatchEditMainTask: (change: PartialMainTask) => void;\n  readonly dispatchAddSubTask: (newSubTask: SubTaskWithoutId) => void;\n  readonly dispatchEditSubTask: (subTaskId: string, change: PartialSubTask) => void;\n  readonly dispatchDeleteSubTask: (subtaskId: string) => void;\n  readonly reset: () => void;\n};\n\nconst emptyDiff: Diff = {\n  mainTaskEdits: {},\n  subTaskCreations: Map(),\n  subTaskEdits: Map(),\n  subTaskDeletions: Set(),\n};\n\n/**\n * @param diff diff to check.\n * @returns whether the given diff is empty.\n */\nexport function diffIsEmpty(diff: Diff): boolean {\n  // since things are immutable, we can use referential equality!\n  return diff === emptyDiff;\n}\n\n/**\n * Lazy initializer for the initial state of task editor.\n *\n * @param mainTask the main task for initial state.\n * @param subTasks an array of subtask for initial state.\n * @returns the initial state.\n */\nfunction initializer([mainTask, subTasks]: [MainTask, readonly SubTask[]]): State {\n  return { mainTask, subTasks, prevFullTask: { mainTask, subTasks }, diff: emptyDiff };\n}\n\n/**\n * The reducer that applies the editing changes specified in action.\n *\n * @param state the previous state.\n * @param action the edit action.\n * @returns the new state after editing.\n */\nfunction reducer(state: State, action: Action): State {\n  switch (action.type) {\n    case 'EDIT_MAIN_TASK': {\n      const { mainTask, diff, ...restState } = state;\n      const { change } = action;\n      const newDiff = { ...diff, mainTaskEdits: { ...diff.mainTaskEdits, ...change } };\n      return { ...restState, mainTask: { ...mainTask, ...change }, diff: newDiff };\n    }\n    case 'ADD_SUBTASK': {\n      const { subTasks, diff, ...restState } = state;\n      const { newSubTask } = action;\n      const id = getNewSubTaskId();\n      const newSubTasks = [...subTasks, { id, ...newSubTask }];\n      const newDiff = {\n        ...diff,\n        subTaskCreations: diff.subTaskCreations.set(id, newSubTask),\n      };\n      return { ...restState, subTasks: newSubTasks, diff: newDiff };\n    }\n    case 'EDIT_SUBTASK': {\n      const { subTasks, diff, ...restState } = state;\n      const { subTaskId, change } = action;\n      const newSubTasks = subTasks.map((s) => (s.id === subTaskId ? { ...s, ...change } : s));\n      let newDiff: Diff;\n      const createdSubTask = diff.subTaskCreations.get(subTaskId);\n      if (createdSubTask != null) {\n        newDiff = {\n          ...diff,\n          subTaskCreations: diff.subTaskCreations.set(subTaskId, { ...createdSubTask, ...change }),\n        };\n      } else {\n        const subTaskEdits = diff.subTaskEdits.update(subTaskId, change, (prevChange) => ({\n          ...prevChange,\n          ...change,\n        }));\n        newDiff = { ...diff, subTaskEdits };\n      }\n      return { ...restState, subTasks: newSubTasks, diff: newDiff };\n    }\n    case 'DELETE_SUBTASK': {\n      const { subTasks, diff, ...restState } = state;\n      const { subtaskId } = action;\n      const newSubTasks = subTasks.filter(({ id }) => id !== subtaskId);\n      let newDiff: Diff;\n      if (diff.subTaskCreations.has(subtaskId)) {\n        newDiff = { ...diff, subTaskCreations: diff.subTaskCreations.remove(subtaskId) };\n      } else {\n        newDiff = { ...diff, subTaskDeletions: diff.subTaskDeletions.add(subtaskId) };\n      }\n      return { ...restState, subTasks: newSubTasks, diff: newDiff };\n    }\n    case 'RESET': {\n      const { mainTask, subTasks } = action;\n      return initializer([mainTask, subTasks]);\n    }\n    default:\n      throw new Error('Bad Type!');\n  }\n}\n\nexport default function useTaskDiffReducer(\n  initMainTask: MainTask,\n  initSubTasks: readonly SubTask[],\n  active: boolean,\n  onChange: () => void,\n): TaskDiffActions {\n  const [state, dispatch] = useReducer(reducer, [initMainTask, initSubTasks], initializer);\n  const { mainTask, subTasks, prevFullTask, diff } = state;\n  if (\n    !active\n    && (!shallowEqual(prevFullTask.mainTask, initMainTask)\n      || !shallowArrayEqual(prevFullTask.subTasks, initSubTasks))\n  ) {\n    dispatch({ type: 'RESET', mainTask: initMainTask, subTasks: initSubTasks });\n  }\n  return {\n    mainTask,\n    subTasks,\n    diff,\n    dispatchEditMainTask: (change: PartialMainTask): void => {\n      dispatch({ type: 'EDIT_MAIN_TASK', change });\n      onChange();\n    },\n    dispatchAddSubTask: (newSubTask: SubTaskWithoutId): void => {\n      dispatch({ type: 'ADD_SUBTASK', newSubTask });\n      onChange();\n    },\n    dispatchEditSubTask: (subTaskId: string, change: PartialSubTask): void => {\n      dispatch({ type: 'EDIT_SUBTASK', subTaskId, change });\n      onChange();\n    },\n    dispatchDeleteSubTask: (subtaskId: string): void => {\n      dispatch({ type: 'DELETE_SUBTASK', subtaskId });\n      onChange();\n    },\n    reset: (): void => {\n      dispatch({ type: 'RESET', mainTask: initMainTask, subTasks: initSubTasks });\n      onChange();\n    },\n  };\n}\n","// NOTE:\n// Other Components in this folder are only designed to be used by this file.\n// These components' API are NOT guaranteed to be stable.\n// You should only use this component from the outside.\n\nimport React, { ReactElement, useEffect, useState, useCallback } from 'react';\nimport { connect } from 'react-redux';\nimport { MainTask, State, SubTask, Tag } from 'common/lib/types/store-types';\nimport OverdueAlert from 'components/UI/OverdueAlert';\nimport { NONE_TAG } from 'common/lib/util/tag-util';\nimport { ignore } from 'common/lib/util/general-util';\nimport { confirmRepeatedTaskEditMaster, promptRepeatedTaskEditChoice } from 'util/task-util';\nimport { editTaskWithDiff, forkTaskWithDiff } from 'firebase/actions';\nimport { getTodayAtZeroAM, getDateWithDateString } from 'common/lib/util/datetime-util';\nimport styles from './index.module.css';\nimport RepeatFrequencyHeader from './RepeatFrequencyHeader';\nimport EditorHeader from './EditorHeader';\nimport MainTaskEditor from './MainTaskEditor';\nimport NewSubTaskEditor from './NewSubTaskEditor';\nimport OneSubTaskEditor from './OneSubTaskEditor';\nimport { CalendarPosition } from '../editors-types';\nimport useTaskDiffReducer, { diffIsEmpty, Diff } from './task-diff-reducer';\n\n\ntype DefaultProps = {\n  readonly displayGrabber?: boolean;\n  readonly className?: string;\n  readonly newSubTaskAutoFocused?: boolean; // whether to auto focus the new subtask\n  readonly active?: boolean; // whether the task is actively being edited.\n  readonly onFocus?: () => void; // when the editor gets focus\n  readonly onBlur?: () => void; // when the editor loses focus\n  readonly editorRef?: { current: HTMLFormElement | null }; // the ref of the editor\n};\ntype Actions = {\n  // whenever the user made some edits.\n  readonly onChange?: () => void;\n  // remove the entire task to be edited.\n  readonly removeTask: () => void;\n  // save all the edits.\n  readonly onSaveClicked: () => void;\n};\ntype OwnProps = DefaultProps & {\n  readonly id: string;\n  readonly type: 'MASTER_TEMPLATE' | 'ONE_TIME' | 'GROUP';\n  readonly icalUID?: string;\n  // the date string that specifies when the task appears (useful for repeated task)\n  readonly taskAppearedDate: string | null;\n  readonly mainTask: MainTask; // The task given to the editor.\n  // The subtask given to the editor. It should only contain those that should be displayed.\n  readonly subTasks: readonly SubTask[];\n  readonly actions: Actions; // The actions to perform under different events\n  readonly calendarPosition: CalendarPosition;\n};\ntype Props = OwnProps & {\n  // subscribed from redux store.\n  readonly getTag: (id: string) => Tag;\n};\n\ntype TaskToFocus = number | 'new-subtask' | null;\n\n/**\n * The component of an standalone task editor.\n * It is designed to be wrapped inside another component to extend its functionality. The task\n * editor itself does not remember the state of editing a task, a wrapper component should.\n * You can read the docs for props above.\n */\nfunction TaskEditor(\n  {\n    id,\n    type,\n    icalUID,\n    taskAppearedDate,\n    mainTask: initMainTask,\n    subTasks: initSubTasks,\n    actions,\n    displayGrabber,\n    getTag,\n    className,\n    newSubTaskAutoFocused,\n    active,\n    onFocus,\n    onBlur,\n    editorRef,\n    calendarPosition,\n  }: Props,\n): ReactElement {\n  const { onChange, removeTask, onSaveClicked } = actions;\n  const {\n    mainTask,\n    subTasks,\n    diff,\n    dispatchEditMainTask,\n    dispatchAddSubTask,\n    dispatchEditSubTask,\n    dispatchDeleteSubTask,\n    reset,\n  } = useTaskDiffReducer(initMainTask, initSubTasks, active ?? false, onChange ?? ignore);\n\n  const { name, tag, date, complete, inFocus } = mainTask;\n\n  const [subTaskToFocus, setSubTaskToFocus] = useState<TaskToFocus>(null);\n\n  const onMouseLeave = (): void => {\n    if (type === 'ONE_TIME') {\n      onSave();\n    }\n    if (onBlur) {\n      onBlur();\n    }\n  };\n  const onSave = useCallback((): boolean => {\n    if (diffIsEmpty(diff)) {\n      return false;\n    }\n    if (type === 'ONE_TIME') {\n      editTaskWithDiff(id, 'EDITING_ONE_TIME_TASK', diff);\n      return true;\n    }\n    if (taskAppearedDate === null) {\n      confirmRepeatedTaskEditMaster().then((saveChoice) => {\n        switch (saveChoice) {\n          case 'CANCEL_CHANGES':\n            reset();\n            break;\n          case 'CHANGE_MASTER_TEMPLATE':\n            editTaskWithDiff(id, 'EDITING_MASTER_TEMPLATE', diff);\n            break;\n          default:\n            throw new Error();\n        }\n      });\n    } else {\n      promptRepeatedTaskEditChoice().then((saveChoice) => {\n        switch (saveChoice) {\n          case 'CANCEL_CHANGES':\n            reset();\n            break;\n          case 'CHANGE_MASTER_TEMPLATE':\n            editTaskWithDiff(id, 'EDITING_MASTER_TEMPLATE', diff);\n            break;\n          case 'FORK': {\n            const replaceDate = getDateWithDateString(\n              date instanceof Date ? date : null, taskAppearedDate,\n            );\n            const correctDate = diff.mainTaskEdits.date ?? replaceDate;\n            const diffForFork: Diff = {\n              ...diff, mainTaskEdits: { ...diff.mainTaskEdits, date: correctDate },\n            };\n            forkTaskWithDiff(id, replaceDate, diffForFork);\n            break;\n          }\n          default:\n            throw new Error();\n        }\n      });\n    }\n    return true;\n  }, [date, diff, id, reset, taskAppearedDate, type]);\n  const onSaveButtonClicked = (): void => {\n    if (onSave() && type !== 'ONE_TIME') {\n      onSaveClicked();\n    }\n  };\n\n  // called when the user types in the first char in the new subtask box. We need to shift now.\n  const handleCreatedNewSubtask = (firstTypedValue: string): void => {\n    const order = subTasks.reduce((acc, s) => Math.max(acc, s.order), 0) + 1;\n    dispatchAddSubTask({\n      order, name: firstTypedValue, complete: false, inFocus: newSubTaskAutoFocused === true,\n    });\n    setSubTaskToFocus(order);\n  };\n\n  /**\n   * The event handler that handles an press enter event.\n   * It will switch the focus as expected.\n   *\n   * @param caller the caller of the handler.\n   */\n  const pressEnterHandler = (caller: 'main-task' | number): void => {\n    const order = caller === 'main-task' ? -1 : caller;\n    let focused = false;\n    for (let i = 0; i < subTasks.length; i += 1) {\n      const { order: subtaskOrder } = subTasks[i];\n      if (subtaskOrder > order) {\n        setSubTaskToFocus(subtaskOrder);\n        focused = true;\n        break;\n      }\n    }\n    if (!focused) {\n      // need to focus the new subtask editor\n      setSubTaskToFocus('new-subtask');\n    }\n  };\n  if (taskAppearedDate === null) {\n    throw new Error('Impossible');\n  }\n  const isOverdue = date < getTodayAtZeroAM() && !complete;\n  const backgroundColor = getTag(tag).color;\n  const formStyle = isOverdue\n    ? { backgroundColor, border: '5px solid #D0021B' }\n    : { backgroundColor };\n  const actualClassName = className == null\n    ? styles.TaskEditor : `${styles.TaskEditor} ${className}`;\n\n  useEffect(() => {\n    const intervalID = setInterval(() => {\n      if (type === 'ONE_TIME') {\n        onSave();\n      }\n    }, 1000);\n    return () => clearInterval(intervalID);\n  }, [type, onSave]);\n\n  return (\n    <form\n      className={actualClassName}\n      style={formStyle}\n      onMouseEnter={onFocus}\n      onMouseLeave={onMouseLeave}\n      onFocus={onFocus}\n      onBlur={onMouseLeave}\n      ref={editorRef}\n    >\n      {isOverdue && <OverdueAlert target=\"task-card\" />}\n      <div>\n        <RepeatFrequencyHeader\n          taskId={id}\n          tag={tag}\n          getTag={getTag}\n        />\n        <EditorHeader\n          tag={tag}\n          date={date}\n          onChange={dispatchEditMainTask}\n          getTag={getTag}\n          calendarPosition={calendarPosition}\n          displayGrabber={displayGrabber == null ? false : displayGrabber}\n          icalUID={icalUID}\n        />\n        <MainTaskEditor\n          id={id}\n          icalUID={icalUID}\n          taskDate={date instanceof Date ? date : null}\n          dateAppeared={taskAppearedDate}\n          name={name}\n          complete={complete}\n          inFocus={inFocus}\n          onChange={dispatchEditMainTask}\n          onRemove={removeTask}\n          onPressEnter={pressEnterHandler}\n        />\n      </div>\n      <div className={styles.TaskEditorSubTasksIndentedContainer}>\n        {subTasks.map((subTask: SubTask) => (\n          <OneSubTaskEditor\n            key={subTask.id}\n            subTask={subTask}\n            mainTaskId={id}\n            taskDate={date instanceof Date ? date : null}\n            dateAppeared={taskAppearedDate}\n            mainTaskComplete={complete}\n            needToBeFocused={subTaskToFocus === subTask.order}\n            editThisSubTask={dispatchEditSubTask}\n            removeSubTask={dispatchDeleteSubTask}\n            onPressEnter={pressEnterHandler}\n          />\n        ))}\n        <div\n          className={styles.SubtaskHide}\n          style={active === true ? { maxHeight: 0 } : undefined}\n        >\n          <NewSubTaskEditor\n            onFirstType={handleCreatedNewSubtask}\n            onPressEnter={onSaveButtonClicked}\n            needToBeFocused={subTaskToFocus === 'new-subtask'}\n            type={type}\n          />\n        </div>\n      </div>\n      {\n        type !== 'ONE_TIME' && (\n          <div\n            className={styles.SaveButtonRow}\n            style={diffIsEmpty(diff) ? { maxHeight: 0, padding: 0 } : undefined}\n          >\n            <span className={styles.TaskEditorFlexiblePadding} />\n            <div role=\"presentation\" className={styles.SaveButton} onClick={onSaveButtonClicked}>\n              <span className={styles.SaveButtonText}>Save</span>\n            </div>\n          </div>\n        )\n      }\n    </form>\n  );\n}\n\nconst Connected = connect(\n  ({ tags }: State) => ({ getTag: (id: string) => tags.get(id) ?? NONE_TAG }),\n)(TaskEditor);\nexport default Connected;\n","import React, { ReactElement, useState } from 'react';\nimport { removeTaskWithPotentialPrompt } from 'util/task-util';\nimport { Task } from 'common/lib/types/store-types';\nimport TaskEditor from './TaskEditor';\nimport { CalendarPosition } from './editors-types';\n\ntype Props = {\n  readonly original: Task;\n  readonly filtered: Task;\n  readonly calendarPosition: CalendarPosition;\n  readonly className?: string; // additional class names applied to the editor.\n};\n\n/**\n * The task editor used to edit task inline, activated on focus.\n */\nexport default function InlineTaskEditor(\n  { original, filtered, className, calendarPosition }: Props,\n): ReactElement {\n  const [disabled, setDisabled] = useState(true);\n  const { id } = original;\n  const { id: _, metadata, children, ...mainTask } = filtered;\n  const icalUID = original.metadata.type === 'ONE_TIME' ? original.metadata.icalUID : '';\n  const taskAppearedDate = metadata.date instanceof Date ? metadata.date.toDateString() : null;\n  // To un-mount the editor when finished editing.\n  const onFocus = (): void => setDisabled(false);\n  const onBlur = (): void => setDisabled(true);\n  const actions = {\n    removeTask: () => removeTaskWithPotentialPrompt(original, null),\n    onSaveClicked: onBlur,\n  };\n  return (\n    <TaskEditor\n      id={id}\n      type={metadata.type}\n      icalUID={icalUID}\n      taskAppearedDate={taskAppearedDate}\n      className={className}\n      mainTask={{ ...mainTask, date: metadata.date }}\n      subTasks={children}\n      actions={actions}\n      displayGrabber\n      calendarPosition={calendarPosition}\n      newSubTaskAutoFocused={!original.inFocus}\n      active={disabled}\n      onFocus={onFocus}\n      onBlur={onBlur}\n    />\n  );\n}\n\nInlineTaskEditor.defaultProps = { className: undefined };\n","/* eslint-disable react/jsx-props-no-spreading */\nimport React, { ReactElement } from 'react';\nimport { Draggable } from 'react-beautiful-dnd';\nimport { connect } from 'react-redux';\nimport { error } from 'common/lib/util/general-util';\nimport { State, Task } from 'common/lib/types/store-types';\nimport {\n  getFilteredNotCompletedInFocusTask,\n  getFilteredCompletedInFocusTask,\n} from 'common/lib/util/task-util';\nimport InlineTaskEditor from '../../Util/TaskEditors/InlineTaskEditor';\nimport styles from './FocusTask.module.css';\n\ntype OwnProps = {\n  readonly id: string;\n  readonly order: number;\n  readonly filterCompleted: boolean;\n};\ntype Props = OwnProps & {\n  readonly original: Task;\n  readonly filtered: Task | null;\n};\n\nfunction FocusTask({ id, order, filterCompleted, original, filtered }: Props): ReactElement {\n  if (filtered === null) {\n    throw new Error(`The filtered task should not be null! id: ${id}, order: ${order}`);\n  }\n  return (\n    <Draggable draggableId={`${id}-${filterCompleted}`} index={order}>\n      {(provided) => (\n        <div ref={provided.innerRef} {...provided.draggableProps} {...provided.dragHandleProps}>\n          <InlineTaskEditor\n            className={styles.FocusTask}\n            calendarPosition=\"bottom\"\n            original={original}\n            filtered={filtered}\n          />\n        </div>\n      )}\n    </Draggable>\n  );\n}\n\nconst Connected = connect(\n  ({ tasks }: State, { id, filterCompleted }: OwnProps) => {\n    const original = tasks.get(id) ?? error();\n    const filtered = filterCompleted\n      ? getFilteredCompletedInFocusTask(original)\n      : getFilteredNotCompletedInFocusTask(original);\n    return { original, filtered };\n  },\n)(FocusTask);\nexport default Connected;\n","/* eslint-disable react/jsx-props-no-spreading */\nimport React, { ReactElement, useState, ReactNode } from 'react';\nimport { DragDropContext, Droppable, DropResult } from 'react-beautiful-dnd';\nimport { connect } from 'react-redux';\nimport { computeReorderMap, getReorderedList } from 'common/lib/util/order-util';\nimport styles from './index.module.css';\nimport ClearFocus from './ClearFocus';\nimport CompletedSeparator from './CompletedSeparator';\nimport FocusTask from './FocusTask';\nimport { applyReorder, completeTaskInFocus } from '../../../firebase/actions';\nimport { getFocusViewProps, FocusViewTaskMetaData, FocusViewProps } from '../../../store/selectors';\n\nconst focusViewNotCompletedDroppableId = 'focus-view-not-completed-droppable';\nconst focusViewCompletedDroppableId = 'focus-view-completed-droppable';\n\ntype IdOrder = { readonly id: string; readonly order: number };\n\nfunction renderTaskList(list: IdOrder[], filterCompleted: boolean): ReactNode {\n  return list.map(({ id }, index) => (\n    <FocusTask key={id} id={id} order={index} filterCompleted={filterCompleted} />\n  ));\n}\n\n/**\n * The focus view component.\n */\nfunction FocusView({ tasks, progress }: FocusViewProps): ReactElement {\n  const [localTasks, setLocalTasks] = useState<FocusViewTaskMetaData[]>(tasks);\n  const [doesShowCompletedTasks, setDoesShowCompletedTasks] = useState(true);\n  if (localTasks !== tasks) {\n    setLocalTasks(tasks);\n  }\n  const localCompletedList: IdOrder[] = [];\n  const localUncompletedList: IdOrder[] = [];\n  localTasks.forEach(({ id, order, inFocusView, inCompleteFocusView }: FocusViewTaskMetaData) => {\n    if (!inFocusView) {\n      return;\n    }\n    const idOrder = { id, order };\n    if (inCompleteFocusView) {\n      localCompletedList.push(idOrder);\n    } else {\n      localUncompletedList.push(idOrder);\n    }\n  });\n  const onDragEnd = (result: DropResult): void => {\n    const { source, destination } = result;\n    if (destination == null) {\n      // invalid drop, skip\n      return;\n    }\n    let sourceOrder: number;\n    let destinationOrder: number;\n    if (source.droppableId === focusViewCompletedDroppableId) {\n      sourceOrder = localCompletedList[source.index].order;\n    } else if (source.droppableId === focusViewNotCompletedDroppableId) {\n      sourceOrder = localUncompletedList[source.index].order;\n    } else {\n      return;\n    }\n    if (destination.droppableId === focusViewCompletedDroppableId) {\n      const dest = localCompletedList[destination.index];\n      destinationOrder = dest == null ? sourceOrder : dest.order;\n    } else if (destination.droppableId === focusViewNotCompletedDroppableId) {\n      const dest = localUncompletedList[destination.index];\n      destinationOrder = dest == null ? sourceOrder : dest.order;\n    } else {\n      return;\n    }\n    if (\n      (source.droppableId === focusViewCompletedDroppableId\n        && destination.droppableId === focusViewCompletedDroppableId)\n      || (source.droppableId === focusViewNotCompletedDroppableId\n        && destination.droppableId === focusViewNotCompletedDroppableId)\n    ) {\n      // drag and drop completely with in completed/uncompleted region\n      const reorderMap = computeReorderMap(localTasks, sourceOrder, destinationOrder);\n      setLocalTasks(getReorderedList(localTasks, reorderMap));\n      applyReorder('tasks', reorderMap);\n    } else if (\n      source.droppableId === focusViewNotCompletedDroppableId\n      && destination.droppableId === focusViewCompletedDroppableId\n    ) {\n      // drag from not completed and drop to completed.\n      const completedTaskIdOrder: IdOrder = localUncompletedList[source.index];\n      const taskReplacer = (t: FocusViewTaskMetaData): FocusViewTaskMetaData => {\n        if (t.id !== completedTaskIdOrder.id) {\n          return t;\n        }\n        return { ...t, inCompleteFocusView: true };\n      };\n      setLocalTasks((prevTasks) => prevTasks.map(taskReplacer));\n      completeTaskInFocus(completedTaskIdOrder, localCompletedList);\n    } else if (\n      source.droppableId === focusViewCompletedDroppableId\n      && destination.droppableId === focusViewNotCompletedDroppableId\n    ) {\n      // drag from completed and drop to not completed.\n      // do not support this case because the intuition is currently unclear\n    } else {\n      throw new Error('Impossible');\n    }\n  };\n\n  const onDoesShowCompletedTasksChange = (): void => setDoesShowCompletedTasks((prev) => !prev);\n\n  return (\n    <div className={styles.FocusView}>\n      <div className={styles.ControlBlock}>\n        <h3 className={styles.Title}>Focus</h3>\n        <span className={styles.Padding} />\n        <ClearFocus />\n      </div>\n      <div className={styles.FocusTaskContainer}>\n        <DragDropContext onDragEnd={onDragEnd}>\n          <Droppable droppableId={focusViewNotCompletedDroppableId}>\n            {(provided) => (\n              <div ref={provided.innerRef} {...provided.droppableProps}>\n                {renderTaskList(localUncompletedList, false)}\n                {provided.placeholder}\n              </div>\n            )}\n          </Droppable>\n          <Droppable droppableId={focusViewCompletedDroppableId}>\n            {(provided) => (\n              <div\n                ref={provided.innerRef}\n                className={styles.Droppable}\n                {...provided.droppableProps}\n              >\n                <CompletedSeparator\n                  count={progress.completedTasksCount}\n                  doesShowCompletedTasks={doesShowCompletedTasks}\n                  onDoesShowCompletedTasksChange={onDoesShowCompletedTasksChange}\n                />\n                {doesShowCompletedTasks && renderTaskList(localCompletedList, true)}\n                {provided.placeholder}\n              </div>\n            )}\n          </Droppable>\n        </DragDropContext>\n      </div>\n    </div>\n  );\n}\n\nconst Connected = connect(getFocusViewProps)(FocusView);\nexport default Connected;\n","import React, { ReactElement } from 'react';\nimport { FontAwesomeIcon as Icon } from '@fortawesome/react-fontawesome';\nimport { IconLookup } from '@fortawesome/fontawesome-svg-core';\nimport styles from './SquareButtons.module.scss';\n\ntype Props = {\n  readonly active: boolean;\n  readonly iconNames: [IconLookup, IconLookup];\n  readonly onToggle: () => void;\n};\n\n/**\n * The component used to render a minimalist icon button.\n *\n * @param {boolean} active whether the button is in active state.\n * @param {[string, string]} iconNames the pair of active icon name and inactive one.\n * @param {function(): void} onToggle handle when the value is toggled.\n * @return {Node} the rendered node.\n * @constructor\n */\nexport default function SquareIconToggle({ active, iconNames, onToggle }: Props): ReactElement {\n  const [activeIconName, inactiveIconName] = iconNames;\n  const className = active\n    ? `${styles.SquareButton} ${styles.SquareButtonIconButton}`\n    : `${styles.SquareButton} ${styles.SquareButtonIconButton} ${styles.active}`;\n  return (\n    <button className={className} title=\"Hide/unhide completed tasks\" type=\"button\" onClick={onToggle}>\n      <Icon\n        className={styles.SquareButtonText}\n        icon={active ? activeIconName : inactiveIconName}\n      />\n    </button>\n  );\n}\n","import React, { ReactElement } from 'react';\nimport { faEye, faEyeSlash } from '@fortawesome/free-solid-svg-icons';\nimport { useTodayLastSecondTime } from 'hooks/time-hook';\nimport { date2YearMonth } from 'common/lib/util/datetime-util';\nimport { FutureViewContainerType, FutureViewDisplayOption } from './future-view-types';\nimport SquareTextButton from '../../UI/SquareTextButton';\nimport SquareIconToggle from '../../UI/SquareIconToggle';\nimport styles from './FutureViewControl.module.scss';\nimport { useMappedWindowSize } from '../../../hooks/window-size-hook';\nimport SamwiseIcon from '../../UI/SamwiseIcon';\n\n/*\n * --------------------------------------------------------------------------------\n * Part 0: Common Types\n * --------------------------------------------------------------------------------\n */\n\ntype ChangeOffsetInstruction = 'TODAY' | number;\ntype ChangeableProps = {\n  readonly displayOption: FutureViewDisplayOption;\n  readonly offset: number;\n};\ntype Props = ChangeableProps & {\n  readonly nDays: number;\n  readonly onChange: (change: Partial<ChangeableProps>) => void;\n};\n\n/*\n * --------------------------------------------------------------------------------\n * Part 1: Helper Small Components\n * --------------------------------------------------------------------------------\n */\n\n/**\n * The padding span.\n */\nconst Padding = (): ReactElement => <span className={styles.ControlPadding} />;\n\n/**\n * The title component.\n */\nconst Title = ({ text }: { readonly text: string }): ReactElement => (\n  <h3 className={styles.Title}>{text}</h3>\n);\n\n/*\n * --------------------------------------------------------------------------------\n * Part 2: NavControl\n * --------------------------------------------------------------------------------\n */\n\ntype NavControlProps = {\n  readonly today: Date;\n  readonly containerType: FutureViewContainerType;\n  readonly futureViewOffset: number;\n  readonly changeOffset: (instruction: ChangeOffsetInstruction) => () => void;\n  readonly isSmallScreen: boolean;\n};\n\n/**\n * Returns a suitable title for the backlog header title.\n *\n * @param {Date} today today from React hooks.\n * @param {number} monthOffset offset of displaying months.\n * @return {string} a suitable title for the backlog header title.\n */\nfunction getMonthlyViewHeaderTitle(today: Date, monthOffset: number): string {\n  const d = new Date(today);\n  d.setMonth(d.getMonth() + monthOffset, 1);\n  return date2YearMonth(d);\n}\n\nfunction getBiWeeklyViewHeaderTitle(today: Date, biweeklyOffset: number): string {\n  const s = new Date(today);\n  s.setDate(s.getDate() + biweeklyOffset * 14 - s.getDay()); // minus day offset\n  const e = new Date(s);\n  e.setDate(e.getDate() + 13);\n  const startString = `${s.getMonth() + 1}/${s.getDate()}/${s.getFullYear() % 100}`;\n  const endString = `${e.getMonth() + 1}/${e.getDate()}/${e.getFullYear() % 100}`;\n  return `${startString} - ${endString}`;\n}\n\n/**\n * The component to control nav.\n */\nfunction NavControl(props: NavControlProps): ReactElement {\n  const { today, containerType, futureViewOffset, changeOffset, isSmallScreen } = props;\n  const prevHandler = changeOffset(-1);\n  const nextHandler = changeOffset(+1);\n  if (containerType === 'N_DAYS') {\n    const offset = -10;\n    const prevStyle = { left: offset };\n    const nextStyle = { right: offset };\n    return (\n      <>\n        {futureViewOffset >= 0 && (\n          <SamwiseIcon\n            iconName=\"dropdown\"\n            title=\"Go back\"\n            className={`${styles.NavButtonPrev} ${styles.NavButtonNDays}`}\n            style={prevStyle}\n            onClick={prevHandler}\n          />\n        )}\n        <SamwiseIcon\n          iconName=\"dropdown\"\n          title=\"Go forward\"\n          className={`${styles.NavButtonNext} ${styles.NavButtonNDays}`}\n          style={nextStyle}\n          onClick={nextHandler}\n        />\n      </>\n    );\n  }\n\n  const prev = (\n    <SamwiseIcon\n      iconName=\"dropdown\"\n      title=\"Go back\"\n      className={styles.NavButtonPrev}\n      onClick={prevHandler}\n    />\n  );\n  const next = (\n    <SamwiseIcon\n      iconName=\"dropdown\"\n      title=\"Go forward\"\n      className={styles.NavButtonNext}\n      onClick={nextHandler}\n    />\n  );\n  if (containerType === 'BIWEEKLY') {\n    return (\n      <>\n        {futureViewOffset >= 0 && prev}\n        <Title text={getBiWeeklyViewHeaderTitle(today, futureViewOffset)} />\n        {next}\n      </>\n    );\n  }\n  if (containerType === 'MONTHLY') {\n    return (\n      <>\n        {!isSmallScreen && <Padding />}\n        {futureViewOffset >= 0 && prev}\n        <Title text={getMonthlyViewHeaderTitle(today, futureViewOffset)} />\n        {next}\n      </>\n    );\n  }\n  throw new Error('Bad display option.');\n}\n\n/*\n * --------------------------------------------------------------------------------\n * Part 3: DisplayOptionControl\n * --------------------------------------------------------------------------------\n */\n\n/**\n * The component to control display options\n */\nfunction DisplayOptionControl({ nDays, displayOption, offset, onChange }: Props): ReactElement {\n  const { containerType, doesShowCompletedTasks } = displayOption;\n  const toggleCompletedTasks = (): void => onChange({\n    displayOption: { containerType, doesShowCompletedTasks: !doesShowCompletedTasks },\n  });\n  const switchContainerType = (newContainerType: FutureViewContainerType): void => {\n    let dayOffset: number;\n    switch (containerType) {\n      case 'N_DAYS':\n        dayOffset = offset * nDays;\n        break;\n      case 'BIWEEKLY':\n        dayOffset = offset * 14;\n        break;\n      case 'MONTHLY':\n        dayOffset = offset * 30;\n        break;\n      default:\n        throw new Error('Bad container type!');\n    }\n    let newOffset: number;\n    switch (newContainerType) {\n      case 'N_DAYS':\n        newOffset = Math.floor(dayOffset / nDays);\n        break;\n      case 'BIWEEKLY':\n        newOffset = Math.floor(dayOffset / 14);\n        break;\n      case 'MONTHLY':\n        newOffset = Math.floor(dayOffset / 30);\n        break;\n      default:\n        throw new Error('Bad container type!');\n    }\n    onChange({\n      displayOption: { containerType: newContainerType, doesShowCompletedTasks },\n      offset: newOffset,\n    });\n  };\n  const renderContainerTypeSwitcherButton = (\n    type: FutureViewContainerType, text: string,\n  ): ReactElement => {\n    const className = containerType === type\n      ? `${styles.ContainerTypeSwitcherButton} ${styles.ContainerTypeSwitcherActiveButton}`\n      : styles.ContainerTypeSwitcherButton;\n    return (\n      <button\n        type=\"button\"\n        title={`Change to ${text} view`}\n        className={className}\n        onClick={() => switchContainerType(type)}\n      >\n        <span className={styles.ContainerTypeSwitcherButtonText}>{text}</span>\n      </button>\n    );\n  };\n  return (\n    <>\n      <SquareIconToggle\n        active={doesShowCompletedTasks}\n        iconNames={[faEyeSlash, faEye]}\n        onToggle={toggleCompletedTasks}\n      />\n      <div className={styles.ContainerTypeSwitcher}>\n        {renderContainerTypeSwitcherButton('N_DAYS', `${nDays}D`)}\n        {renderContainerTypeSwitcherButton('BIWEEKLY', '2W')}\n        {renderContainerTypeSwitcherButton('MONTHLY', 'M')}\n      </div>\n    </>\n  );\n}\n\n/*\n * --------------------------------------------------------------------------------\n * Part 4: Main Component\n * --------------------------------------------------------------------------------\n */\n\n/**\n * The controller component for the future view in task view.\n */\nexport default function FutureViewControl(props: Props): ReactElement {\n  const { nDays, displayOption, offset, onChange } = props;\n  const todayTime = useTodayLastSecondTime();\n  const isSmallScreen = useMappedWindowSize(({ width }) => width <= 600);\n  const { containerType } = displayOption;\n  const changeOffset = (instruction: ChangeOffsetInstruction): (() => void) => (): void => {\n    const newOffset = instruction === 'TODAY' ? 0 : (offset + instruction);\n    onChange({ offset: newOffset });\n  };\n  const today = offset !== 0 && (\n    <SquareTextButton text=\"Today\" onClick={changeOffset('TODAY')} />\n  );\n  if (isSmallScreen) {\n    return (\n      <div>\n        <div className={styles.FutureViewControl}>\n          <Title text=\"Future\" />\n          <Padding />\n          {today}\n          <DisplayOptionControl\n            nDays={nDays}\n            displayOption={displayOption}\n            offset={offset}\n            onChange={onChange}\n          />\n        </div>\n        <div className={styles.FutureViewControl}>\n          <Padding />\n          <NavControl\n            today={todayTime}\n            containerType={containerType}\n            futureViewOffset={offset}\n            changeOffset={changeOffset}\n            isSmallScreen\n          />\n          <Padding />\n        </div>\n      </div>\n    );\n  }\n  return (\n    <div className={styles.FutureViewControl}>\n      <Title text=\"Future\" />\n      <NavControl\n        today={todayTime}\n        containerType={containerType}\n        futureViewOffset={offset}\n        changeOffset={changeOffset}\n        isSmallScreen={false}\n      />\n      <Padding />\n      {today}\n      <DisplayOptionControl\n        nDays={nDays}\n        displayOption={displayOption}\n        offset={offset}\n        onChange={onChange}\n      />\n    </div>\n  );\n}\n","/* eslint-disable no-param-reassign */\nimport React, { ReactElement, ReactNode } from 'react';\nimport { getDateWithDateString } from 'common/lib/util/datetime-util';\nimport { removeTaskWithPotentialPrompt } from 'util/task-util';\nimport { Task } from 'common/lib/types/store-types';\nimport { useWindowSizeCallback, WindowSize } from 'hooks/window-size-hook';\nimport { CalendarPosition, FloatingPosition } from './editors-types';\nimport TaskEditor from './TaskEditor';\nimport styles from './FloatingTaskEditor.module.css';\n\nconst EDITOR_WIDTH = 300;\n\nconst updateFloatingEditorPosition = (\n  editorPosDiv: HTMLFormElement,\n  windowSize: WindowSize,\n  position: FloatingPosition,\n): void => {\n  const taskElement = editorPosDiv.previousElementSibling;\n  if (taskElement === null || !(taskElement instanceof HTMLDivElement)) {\n    throw new Error('Task element must be a div!');\n  }\n  const taskElementBoundingRect = taskElement.getBoundingClientRect();\n  if (!(taskElementBoundingRect instanceof DOMRect)) {\n    throw new Error('Bad taskElementBoundingRect!');\n  }\n  const myHeight = editorPosDiv.offsetHeight;\n  const windowWidth = windowSize.width;\n  const windowHeight = windowSize.height;\n  let posTop: number;\n  let posLeft: number | undefined;\n  let posRight: number | undefined;\n  if (windowWidth <= 768) {\n    posTop = (windowHeight - myHeight) / 2;\n    editorPosDiv.style.left = `${windowWidth - EDITOR_WIDTH}px`;\n    posLeft = (windowWidth - EDITOR_WIDTH) / 2;\n  } else {\n    const { y, left, right } = taskElementBoundingRect;\n    posTop = (y + myHeight) > windowHeight ? windowHeight - myHeight : y;\n    if (position === 'right') {\n      posLeft = right;\n    } else if (position === 'left') {\n      posRight = windowWidth - left;\n    } else {\n      throw new Error('Bad floating position!');\n    }\n  }\n\n  editorPosDiv.style.top = `${posTop}px`;\n  editorPosDiv.style.left = posLeft === undefined ? 'initial' : `${posLeft}px`;\n  editorPosDiv.style.right = posRight === undefined ? 'initial' : `${posRight}px`;\n  editorPosDiv.style.width = '300px';\n};\n\ntype Props = {\n  // the position of the editor\n  readonly position: FloatingPosition;\n  // the initial task to edit\n  readonly initialTask: Task;\n  // the date string that specifies when the task appears (useful for repeated task)\n  readonly taskAppearedDate: string;\n  // the trigger function to open the editor\n  readonly trigger: (opened: boolean, opener: () => void) => ReactNode;\n  // the position of the calendar\n  readonly calendarPosition: CalendarPosition;\n};\n\n/**\n * FloatingTaskEditor is a component used to edit a task on the fly.\n * It is triggered from a click on a specified element.\n */\nexport default function FloatingTaskEditor(\n  {\n    position,\n    calendarPosition,\n    initialTask: task,\n    taskAppearedDate,\n    trigger,\n  }: Props,\n): ReactElement {\n  const icalUID = task.metadata.type === 'ONE_TIME' ? task.metadata.icalUID : '';\n\n  const [open, setOpen] = React.useState<boolean>(false);\n\n  const editorRef = React.useRef<HTMLFormElement>(null);\n\n  const windowSize = useWindowSizeCallback((size) => {\n    const editorPosDiv = editorRef.current;\n    if (editorPosDiv == null) {\n      return;\n    }\n    updateFloatingEditorPosition(editorPosDiv, size, position);\n  });\n\n  const openPopup = (): void => setOpen(true);\n  const closePopup = (): void => setOpen(false);\n\n  const { id: _, metadata, children, ...mainTask } = task;\n  const actions = {\n    onChange: (): void => {\n      const editorPosDiv = editorRef.current;\n      if (editorPosDiv == null) {\n        return;\n      }\n      updateFloatingEditorPosition(editorPosDiv, windowSize, position);\n    },\n    removeTask: (): void => removeTaskWithPotentialPrompt(\n      task,\n      getDateWithDateString(metadata.date instanceof Date ? metadata.date : null, taskAppearedDate),\n    ),\n    onSaveClicked: closePopup,\n  };\n\n  return (\n    <>\n      {trigger(open, openPopup)}\n      {open && (\n        <>\n          <TaskEditor\n            id={task.id}\n            type={metadata.type}\n            icalUID={icalUID}\n            taskAppearedDate={taskAppearedDate}\n            mainTask={{ ...mainTask, date: metadata.date }}\n            subTasks={children}\n            actions={actions}\n            className={styles.Editor}\n            editorRef={editorRef}\n            calendarPosition={calendarPosition}\n          />\n          <div className={styles.BackgroundBlocker} role=\"presentation\" onClick={closePopup} />\n        </>\n      )}\n    </>\n  );\n}\n","import React, { ReactElement } from 'react';\nimport { SubTask } from 'common/lib/types/store-types';\nimport styles from './FutureViewTask.module.css';\nimport CheckBox from '../../UI/CheckBox';\nimport { editSubTask, removeSubTask } from '../../../firebase/actions';\nimport SamwiseIcon from '../../UI/SamwiseIcon';\n\ntype Props = {\n  readonly subTask: SubTask | null;\n  readonly mainTaskId: string;\n  readonly replaceDateForFork: Date | null;\n  readonly mainTaskCompleted: boolean;\n};\n\n/**\n * The component used to render one subtask in future view day.\n */\nfunction FutureViewSubTask(\n  { subTask, mainTaskId, replaceDateForFork, mainTaskCompleted }: Props,\n): ReactElement | null {\n  if (subTask == null) {\n    return null;\n  }\n  const { name, complete, inFocus } = subTask;\n  const onCompleteChange = (): void => editSubTask(\n    mainTaskId, subTask.id, replaceDateForFork, { complete: !complete },\n  );\n  const onFocusChange = (): void => editSubTask(\n    mainTaskId, subTask.id, replaceDateForFork, { inFocus: !inFocus },\n  );\n  const onRemove = (): void => removeSubTask(mainTaskId, subTask.id, replaceDateForFork);\n  return (\n    <div className={styles.SubTask}>\n      <CheckBox\n        className={styles.SubTaskCheckBox}\n        checked={mainTaskCompleted || complete}\n        disabled={mainTaskCompleted}\n        inverted\n        onChange={onCompleteChange}\n      />\n      <span\n        className={styles.TaskText}\n        style={(mainTaskCompleted || complete) ? { textDecoration: 'line-through' } : {}}\n      >\n        {name}\n      </span>\n      <SamwiseIcon\n        iconName={inFocus ? 'pin-dark-filled' : 'pin-dark-outline'}\n        onClick={onFocusChange}\n        className={styles.TaskIcon}\n      />\n      <SamwiseIcon iconName=\"x-dark\" className={styles.TaskIcon} onClick={onRemove} />\n    </div>\n  );\n}\n\nconst Memoized = React.memo(FutureViewSubTask);\nexport default Memoized;\n","import React, { KeyboardEvent, ReactElement, SyntheticEvent, ReactNode } from 'react';\nimport { connect } from 'react-redux';\nimport FloatingTaskEditor from 'components/Util/TaskEditors/FloatingTaskEditor';\nimport { Settings, State, SubTask, Task } from 'common/lib/types/store-types';\nimport CheckBox from 'components/UI/CheckBox';\nimport { FloatingPosition, CalendarPosition } from 'components/Util/TaskEditors/editors-types';\nimport { getTodayAtZeroAM, getDateWithDateString } from 'common/lib/util/datetime-util';\nimport OverdueAlert from 'components/UI/OverdueAlert';\nimport { editMainTask } from 'firebase/actions';\nimport { useMappedWindowSize } from 'hooks/window-size-hook';\nimport { NONE_TAG } from 'common/lib/util/tag-util';\nimport SamwiseIcon from 'components/UI/SamwiseIcon';\nimport { removeTaskWithPotentialPrompt } from 'util/task-util';\nimport { Draggable } from 'react-beautiful-dnd';\nimport FutureViewSubTask from './FutureViewSubTask';\nimport styles from './FutureViewTask.module.css';\n\ntype CompoundTask = {\n  readonly original: Task;\n  readonly filteredSubTasks: SubTask[];\n  readonly color: string;\n};\n\ntype OwnProps = {\n  readonly taskId: string;\n  readonly index: number;\n  readonly containerDate: string;\n  readonly inNDaysView: boolean;\n  readonly taskEditorPosition: FloatingPosition;\n  readonly calendarPosition: CalendarPosition;\n  readonly doesShowCompletedTasks: boolean;\n  readonly isInMainList: boolean;\n};\n\ntype Props = OwnProps & {\n  readonly compoundTask: CompoundTask | null;\n  readonly settings: Settings;\n};\n\n/**\n * The component used to render one task in backlog day.\n */\nfunction FutureViewTask(\n  {\n    taskId,\n    index,\n    compoundTask,\n    containerDate,\n    inNDaysView,\n    taskEditorPosition,\n    isInMainList,\n    calendarPosition,\n    settings,\n  }: Props,\n): ReactElement | null {\n  const isSmallScreen = useMappedWindowSize(({ width }) => width <= 768);\n\n  if (compoundTask === null) {\n    return null;\n  }\n  const { original, filteredSubTasks, color } = compoundTask;\n\n  const { canvasCalendar } = settings;\n  const canvasLinked = canvasCalendar != null;\n\n  const icalUID = original.metadata.type === 'ONE_TIME' ? original.metadata.icalUID : '';\n  const isCanvasTask = canvasLinked && (typeof icalUID === 'string' ? icalUID !== '' : false);\n\n  /**\n   * Get an onClickHandler when the element is clicked.\n   * This methods ensure that only clicking on task text counts.\n   *\n   * @param opener the opener passed by the floating task editor.\n   * @return the onClick handler.\n   */\n  const getOnClickHandler = (opener: () => void) => (event?: SyntheticEvent<HTMLElement>): void => {\n    if (event == null) {\n      opener();\n      return;\n    }\n    if (event.target instanceof HTMLElement) {\n      const elem: HTMLElement = event.target;\n      // only accept click on text.\n      if (elem.className === styles.TaskText) {\n        opener();\n      }\n    }\n  };\n\n  const replaceDateForFork = getDateWithDateString(\n    original.metadata.type === 'ONE_TIME' ? original.metadata.date : null, containerDate,\n  );\n  const replaceDateForForkOpt = original.metadata.type === 'ONE_TIME' ? null : replaceDateForFork;\n  const TaskCheckBox = (): ReactElement => {\n    const { id, complete } = original;\n    const onChange = (): void => editMainTask(id, replaceDateForForkOpt, { complete: !complete });\n    return <CheckBox className={styles.TaskCheckBox} checked={complete} onChange={onChange} />;\n  };\n  const TaskName = (): ReactElement => {\n    const { name, complete } = original;\n    const tagStyle = complete ? { textDecoration: 'line-through' } : {};\n    return <span className={styles.TaskText} style={tagStyle}>{name}</span>;\n  };\n\n  const RemoveTaskIcon = (): ReactElement => {\n    const handler = (): void => removeTaskWithPotentialPrompt(original, replaceDateForFork);\n    return <SamwiseIcon iconName=\"x-light\" className={styles.TaskIcon} onClick={handler} />;\n  };\n\n  const Placeholder = (): ReactElement => <div className={styles.hide}><RemoveTaskIcon /></div>;\n\n  const PinIcon = (): ReactElement => {\n    const { id, inFocus } = original;\n    const handler = (): void => editMainTask(id, replaceDateForForkOpt, { inFocus: !inFocus });\n    return (\n      <SamwiseIcon\n        iconName={inFocus ? 'pin-light-filled' : 'pin-light-outline'}\n        className={styles.TaskIcon}\n        onClick={handler}\n      />\n    );\n  };\n  const DragIcon = (): ReactElement => <SamwiseIcon iconName=\"grabber\" className={styles.TaskIcon} />;\n  const RepeatingIcon = (): ReactElement => <SamwiseIcon iconName=\"repeat-light\" className={styles.TaskIconNoHover} />;\n  let Icon = (): ReactElement => <RepeatingIcon />;\n  if (compoundTask.original.metadata.type === 'ONE_TIME') {\n    Icon = isCanvasTask ? Placeholder : DragIcon;\n  }\n  const renderMainTaskInfo = (simplified = false): ReactElement => {\n    if (simplified && isInMainList) {\n      const style = { backgroundColor: color, height: '25px' };\n      return <div className={styles.TaskMainWrapper} style={style} />;\n    }\n    return (\n      <div className={styles.TaskMainWrapper} style={{ backgroundColor: color }}>\n        <Icon />\n        <TaskCheckBox />\n        <TaskName />\n        <PinIcon />\n        {isCanvasTask ? <Placeholder /> : <RemoveTaskIcon />}\n      </div>\n    );\n  };\n\n  const renderSubTasks = (): ReactNode => filteredSubTasks.map((s) => (\n    <FutureViewSubTask\n      key={s.id}\n      subTask={s}\n      mainTaskId={original.id}\n      replaceDateForFork={replaceDateForForkOpt}\n      mainTaskCompleted={original.complete}\n    />\n  ));\n\n  const { metadata: { date }, complete } = original;\n  const overdueComponentOpt = (date < getTodayAtZeroAM() && !complete) && (\n    <OverdueAlert target=\"future-view-task\" />\n  );\n  // Construct the trigger for the floating task editor.\n  const trigger = (opened: boolean, opener: () => void): ReactElement => {\n    const onClickHandler = getOnClickHandler(opener);\n    const onSpaceHandler = (e: KeyboardEvent<HTMLDivElement>): void => {\n      if (e.key === ' ') {\n        onClickHandler();\n      }\n    };\n    const style = opened ? { zIndex: 8 } : {};\n    const mainTasks = inNDaysView\n      ? renderMainTaskInfo()\n      : renderMainTaskInfo(isSmallScreen);\n    const subtasks = inNDaysView ? renderSubTasks() : null;\n    return (\n      <div\n        role=\"button\"\n        tabIndex={0}\n        className={styles.Task}\n        style={style}\n        onClick={onClickHandler}\n        onKeyUp={onSpaceHandler}\n      >\n        {overdueComponentOpt}\n        {mainTasks}\n        {subtasks}\n      </div>\n    );\n  };\n  return (\n    <Draggable\n      key={taskId}\n      draggableId={taskId}\n      index={index}\n      isDragDisabled={compoundTask.original.metadata.type === 'MASTER_TEMPLATE' || isCanvasTask}\n    >\n      {(provided) => (\n        // eslint-disable-next-line react/jsx-props-no-spreading\n        <div ref={provided.innerRef} {...provided.draggableProps} {...provided.dragHandleProps}>\n          <FloatingTaskEditor\n            position={taskEditorPosition}\n            calendarPosition={calendarPosition}\n            initialTask={original}\n            taskAppearedDate={containerDate}\n            trigger={trigger}\n          />\n        </div>\n      )}\n    </Draggable>\n  );\n}\n\nconst getCompoundTask = (\n  { tasks, tags }: State, { taskId, doesShowCompletedTasks }: OwnProps,\n): CompoundTask | null => {\n  const original = tasks.get(taskId);\n  if (original == null) {\n    return null;\n  }\n  const { color } = tags.get(original.tag) ?? NONE_TAG;\n  if (doesShowCompletedTasks) {\n    let filteredSubTasks = [...original.children];\n    filteredSubTasks = filteredSubTasks.sort((a, b) => a.order - b.order);\n    return { original, filteredSubTasks, color };\n  }\n  if (original.complete) {\n    return null;\n  }\n  let filteredSubTasks: SubTask[] = [...original.children];\n  filteredSubTasks = filteredSubTasks.sort((a, b) => a.order - b.order);\n  return { original, filteredSubTasks, color };\n};\n\nconst mapStateToProps = (\n  state: State, ownProps: OwnProps,\n): { readonly compoundTask: CompoundTask | null; readonly settings: Settings } => ({\n  compoundTask: getCompoundTask(state, ownProps),\n  settings: state.settings,\n});\n\nconst Connected = connect(mapStateToProps)(FutureViewTask);\nexport default Connected;\n","import React, { ReactElement } from 'react';\nimport { connect } from 'react-redux';\nimport { State, SubTask, Task } from 'common/lib/types/store-types';\nimport { CalendarPosition, FloatingPosition } from '../../Util/TaskEditors/editors-types';\nimport FutureViewTask from './FutureViewTask';\nimport styles from './FutureViewDayTaskContainer.module.css';\nimport { useWindowSizeCallback } from '../../../hooks/window-size-hook';\nimport { createGetIdOrderListByDate } from '../../../store/selectors';\n\ntype CompoundTask = {\n  readonly original: Task;\n  readonly filteredSubTasks: SubTask[];\n  readonly color: string;\n};\n\ntype OwnProps = {\n  readonly date: string;\n  readonly inNDaysView: boolean;\n  readonly taskEditorPosition: FloatingPosition;\n  readonly calendarPosition: CalendarPosition;\n  readonly doesShowCompletedTasks: boolean;\n  readonly isInMainList: boolean;\n  readonly onHeightChange: (doesOverflow: boolean, tasksHeight: number) => void;\n};\n\ntype IdOrder = {\n  readonly id: string;\n  readonly order: number;\n};\n\ntype Props = OwnProps & {\n  readonly idOrderList: IdOrder[];\n};\n\n/**\n * The component to render a list of tasks in backlog day or its floating expanding list.\n */\nfunction FutureViewDayTaskContainer(\n  {\n    date,\n    idOrderList,\n    inNDaysView,\n    taskEditorPosition,\n    doesShowCompletedTasks,\n    calendarPosition,\n    isInMainList,\n    onHeightChange,\n  }: Props,\n): ReactElement {\n  const containerRef = React.useRef<HTMLDivElement>(null);\n  const [prevHeights, setPrevHeights] = React.useState(() => [0, 0]);\n\n  // Subscribes to it, but don't use the value. Force rerender when window size changes.\n  useWindowSizeCallback(() => {\n    const containerNode = containerRef.current;\n    if (containerNode == null) {\n      return;\n    }\n    const tasksHeight = containerNode.scrollHeight;\n    const containerHeight = containerNode.clientHeight;\n    const [prevTasksHeight, prevContainerHeight] = prevHeights;\n    if (prevTasksHeight === tasksHeight && prevContainerHeight === containerHeight) {\n      return;\n    }\n    const vh = Math.max(document.documentElement.clientHeight || 0);\n    const overflowThreshold = vh;\n    setPrevHeights([tasksHeight, containerHeight]);\n    onHeightChange(tasksHeight > overflowThreshold && overflowThreshold > 0, tasksHeight);\n  });\n  const taskListComponent = idOrderList.map(({ id }, i) => (\n    <FutureViewTask\n      key={id}\n      taskId={id}\n      index={i}\n      containerDate={date}\n      inNDaysView={inNDaysView}\n      taskEditorPosition={taskEditorPosition}\n      calendarPosition={calendarPosition}\n      doesShowCompletedTasks={doesShowCompletedTasks}\n      isInMainList={isInMainList}\n    />\n  ));\n  if (isInMainList) {\n    return (\n      <div\n        className={styles.Container}\n        ref={containerRef}\n      >\n        {taskListComponent}\n      </div>\n    );\n  }\n  return <div className={styles.Container} ref={containerRef}>{taskListComponent}</div>;\n}\n\nconst Connected = connect(\n  (state: State, { date }: OwnProps) => createGetIdOrderListByDate(date)(state),\n)(FutureViewDayTaskContainer);\n\nexport default Connected;\n","import React, { ReactElement } from 'react';\nimport { day2String, getTodayAtZeroAM } from 'common/lib/util/datetime-util';\nimport { Theme } from 'common/lib/types/store-types';\nimport { Droppable } from 'react-beautiful-dnd';\nimport { SimpleDate } from './future-view-types';\nimport { CalendarPosition, FloatingPosition } from '../../Util/TaskEditors/editors-types';\nimport styles from './FutureViewDay.module.scss';\nimport FutureViewDayTaskContainer from './FutureViewDayTaskContainer';\n\ntype Props = {\n  readonly date: SimpleDate;\n  readonly inNDaysView: boolean;\n  readonly taskEditorPosition: FloatingPosition;\n  readonly calendarPosition: CalendarPosition;\n  readonly doesShowCompletedTasks: boolean;\n  readonly inMainList: boolean;\n  readonly onHeightChange: (doesOverflow: boolean, tasksHeight: number) => void;\n  readonly theme: Theme;\n};\n\n/**\n * The main content of future view day.\n */\nfunction FutureViewDayContent(\n  {\n    date,\n    inNDaysView,\n    taskEditorPosition,\n    calendarPosition,\n    doesShowCompletedTasks,\n    inMainList,\n    onHeightChange,\n    theme,\n  }: Props,\n): ReactElement {\n  const containerStyle = (() => {\n    const style = theme === 'dark' ? { color: 'white', opacity: 0.8 } : {};\n    return (inNDaysView && inMainList) ? { paddingTop: '1em', ...style } : style;\n  })();\n  const isToday: boolean = getTodayAtZeroAM().toDateString() === date.text;\n  return (\n    <>\n      <div className={styles.DateInfo} style={containerStyle}>\n        <div className={styles.DateInfoDay}>\n          {isToday ? 'TODAY' : day2String(date.day)}\n        </div>\n        <div className={styles.DateNum}>{date.date}</div>\n      </div>\n      <Droppable droppableId={date.text}>\n        {(provided) => (\n          // eslint-disable-next-line react/jsx-props-no-spreading\n          <div ref={provided.innerRef} {...provided.droppableProps}>\n            <FutureViewDayTaskContainer\n              date={date.text}\n              inNDaysView={inNDaysView}\n              taskEditorPosition={taskEditorPosition}\n              calendarPosition={calendarPosition}\n              doesShowCompletedTasks={doesShowCompletedTasks}\n              isInMainList={inMainList}\n              onHeightChange={onHeightChange}\n            />\n            {provided.placeholder}\n          </div>\n        )}\n      </Droppable>\n    </>\n  );\n}\n\nconst Memoized = React.memo(FutureViewDayContent);\nexport default Memoized;\n","import React, { ReactElement } from 'react';\nimport { connect } from 'react-redux';\nimport { getTodayAtZeroAM } from 'common/lib/util/datetime-util';\nimport { State, Theme } from 'common/lib/types/store-types';\nimport { SimpleDate } from './future-view-types';\nimport { CalendarPosition, FloatingPosition } from '../../Util/TaskEditors/editors-types';\nimport styles from './FutureViewDay.module.scss';\nimport FutureViewDayContent from './FutureViewDayContent';\n\ntype Props = {\n  readonly date: SimpleDate;\n  readonly inNDaysView: boolean;\n  readonly taskEditorPosition: FloatingPosition;\n  readonly calendarPosition: CalendarPosition;\n  readonly doesShowCompletedTasks: boolean;\n};\n\ntype HeightInfo = { readonly doesOverflow: boolean; readonly tasksHeight: number };\nconst dummyHeightInfo: HeightInfo = { doesOverflow: false, tasksHeight: 0 };\n\n/**\n * The component that renders all tasks on a certain day.\n */\nexport function FutureViewDay(props: Props & { readonly theme: Theme }): ReactElement {\n  const {\n    theme,\n    date,\n    inNDaysView,\n    taskEditorPosition,\n    calendarPosition,\n    doesShowCompletedTasks,\n  } = props;\n  const [heightInfo, setHeightInfo] = React.useState<HeightInfo>(dummyHeightInfo);\n  const componentDivRef = React.useRef<HTMLDivElement>(null);\n\n  const onHeightChange = (doesOverflow: boolean, tasksHeight: number): void => {\n    if (heightInfo.tasksHeight !== tasksHeight) {\n      setHeightInfo({ doesOverflow, tasksHeight });\n    }\n  };\n\n  const isToday: boolean = getTodayAtZeroAM().toDateString() === date.text;\n  const darkModeStyles = (() => {\n    if (theme !== 'dark') {\n      return undefined;\n    }\n    return isToday ? {\n      background: 'black',\n      color: 'white',\n    } : {\n      background: 'rgb(33,33,33)',\n      color: 'white',\n    };\n  })();\n  let wrapperCssClass: string;\n  if (inNDaysView) {\n    wrapperCssClass = isToday ? `${styles.NDaysView} ${styles.Today}` : styles.NDaysView;\n  } else {\n    wrapperCssClass = isToday ? `${styles.OtherViews} ${styles.Today}` : styles.OtherViews;\n  }\n  return (\n    <div className={wrapperCssClass} ref={componentDivRef} style={{ ...darkModeStyles, overflowY: 'scroll' }}>\n      <FutureViewDayContent\n        inMainList\n        onHeightChange={onHeightChange}\n        date={date}\n        inNDaysView={inNDaysView}\n        taskEditorPosition={taskEditorPosition}\n        calendarPosition={calendarPosition}\n        doesShowCompletedTasks={doesShowCompletedTasks}\n        theme={theme}\n      />\n    </div>\n  );\n}\n\nconst Connected = connect(\n  ({ settings: { theme } }: State): { readonly theme: Theme } => ({ theme }),\n)(FutureViewDay);\nexport default Connected;\n","import React, { ReactElement } from 'react';\nimport FutureViewDay from './FutureViewDay';\nimport styles from './FutureViewNDays.module.css';\nimport { SimpleDate } from './future-view-types';\n\ntype IdOrder = { readonly id: string; readonly order: number };\n\ntype Props = {\n  readonly days: readonly SimpleDate[];\n  readonly doesShowCompletedTasks: boolean;\n};\n\n/**\n * The component used to contain all the backlog days in n-days mode.\n */\nfunction FutureViewNDays(\n  { days, doesShowCompletedTasks }: Props,\n): ReactElement {\n  const nDays = days.length;\n  const containerStyle = { gridTemplateColumns: `repeat(${nDays}, minmax(0, 1fr))` };\n\n  return (\n    <div className={styles.FutureViewNDays} style={containerStyle}>\n      {days.map((date: SimpleDate, index: number) => {\n        const taskEditorPosition = index < (nDays / 2) ? 'right' : 'left';\n        return (\n          <div key={date.text} className={styles.Column}>\n            <FutureViewDay\n              inNDaysView\n              calendarPosition=\"bottom\"\n              taskEditorPosition={taskEditorPosition}\n              doesShowCompletedTasks={doesShowCompletedTasks}\n              date={date}\n            />\n          </div>\n        );\n      })}\n    </div>\n  );\n}\n\nexport default FutureViewNDays;\n","import React, { ReactElement } from 'react';\nimport FutureViewDay from './FutureViewDay';\nimport styles from './FutureViewSevenColumns.module.css';\nimport { SimpleDate } from './future-view-types';\n\ntype Props = { readonly days: readonly SimpleDate[]; readonly doesShowCompletedTasks: boolean };\n\n/**\n * The component used to contain all the backlog days in 7 columns.\n */\nexport default ({ days, doesShowCompletedTasks }: Props): ReactElement => {\n  const interval = (days.length === 14) ? '2W' : 'Monthly';\n  // Start building items\n  const items = days.map((date: SimpleDate, i: number) => (\n    <FutureViewDay\n      key={date.text}\n      inNDaysView={false}\n      taskEditorPosition={(i % 7) < 4 ? 'right' : 'left'}\n      calendarPosition={\n        ((interval === '2W' && i / 7 < 1) || (interval === 'Monthly' && i / 7 < 3))\n          ? 'bottom' : 'top'\n      }\n      doesShowCompletedTasks={doesShowCompletedTasks}\n      date={date}\n    />\n  ));\n  let styleString = '';\n  const numRows = Math.ceil(items.length / 7);\n  const templateStyleString = ` minmax(0, ${1 / numRows}fr)`;\n  for (let i = 0; i < numRows; i += 1) {\n    styleString += templateStyleString;\n  }\n  const gridStyle = { gridTemplateRows: styleString.trim() };\n  return (\n    <div className={styles.FutureViewSevenColumns} style={gridStyle}>\n      {items}\n    </div>\n  );\n};\n","import React, { ReactElement } from 'react';\nimport { useTodayLastSecondTime } from 'hooks/time-hook';\nimport { DragDropContext, DropResult } from 'react-beautiful-dnd';\nimport { computeReorderMap } from 'common/lib/util/order-util';\nimport { dateMatchRepeats } from 'common/lib/util/task-util';\nimport { Task, RepeatingTaskMetadata } from 'common/lib/types/store-types';\nimport FutureViewControl from './FutureViewControl';\nimport FutureViewNDays from './FutureViewNDays';\nimport FutureViewSevenColumns from './FutureViewSevenColumns';\n\nimport {\n  FutureViewContainerType,\n  FutureViewDisplayOption,\n  SimpleDate,\n} from './future-view-types';\nimport { useMappedWindowSize } from '../../../hooks/window-size-hook';\nimport { editMainTask, applyReorder } from '../../../firebase/actions';\nimport { store } from '../../../store/store';\n\n\nexport type FutureViewConfig = {\n  readonly displayOption: FutureViewDisplayOption;\n  readonly offset: number;\n};\n\nexport type FutureViewConfigProvider = {\n  readonly initialValue: FutureViewConfig;\n  readonly isInNDaysView: (config: FutureViewConfig) => boolean;\n};\nexport const futureViewConfigProvider: FutureViewConfigProvider = {\n  initialValue: {\n    displayOption: {\n      containerType: 'N_DAYS',\n      doesShowCompletedTasks: true,\n    },\n    offset: 0,\n  },\n  isInNDaysView: (config: FutureViewConfig) => config.displayOption.containerType === 'N_DAYS',\n};\n\n/**\n * Compute the start date and end date.\n *\n * @param {Date} today today object from React hooks.\n * @param {number} nDays number of days in n-days view.\n * @param {FutureViewContainerType} containerType the container type.\n * @param {number} offset offset of displaying days.\n * @return {{startDate: Date, endDate: Date}} the start date and end date.\n */\nfunction computeStartAndEndDay(\n  today: Date, nDays: number, containerType: FutureViewContainerType, offset: number,\n): { readonly startDate: Date; readonly endDate: Date } {\n  // Compute start date (the first date to display)\n  const startDate = new Date(today);\n  let hasAdditionalDays = false;\n  switch (containerType) {\n    case 'N_DAYS':\n      startDate.setDate(startDate.getDate() + offset * nDays);\n      break;\n    case 'BIWEEKLY':\n      startDate.setDate(startDate.getDate() - startDate.getDay() + offset * 14);\n      break;\n    case 'MONTHLY':\n      startDate.setMonth(startDate.getMonth() + offset, 1);\n      startDate.setDate(startDate.getDate() - startDate.getDay());\n      hasAdditionalDays = startDate.getDate() !== 1;\n      break;\n    default:\n  }\n  // Compute end date (the first date not to display)\n  let endDate = new Date(startDate); // the first day not to display.\n  switch (containerType) {\n    case 'N_DAYS':\n      endDate.setDate(endDate.getDate() + nDays);\n      break;\n    case 'BIWEEKLY':\n      endDate.setDate(endDate.getDate() + 14);\n      break;\n    case 'MONTHLY':\n      if (hasAdditionalDays) {\n        endDate = new Date(startDate.getFullYear(), startDate.getMonth() + 2, 1);\n      } else {\n        endDate = new Date(startDate.getFullYear(), startDate.getMonth() + 1, 1);\n      }\n      break;\n    default:\n      throw new Error('Impossible Case');\n  }\n  return { startDate, endDate };\n}\n\n/**\n * Returns an array of future view days given the current props and the display option.\n *\n * @param {Date} today today object from React hooks.\n * @param {number} nDays number of days in n-days view.\n * @param {FutureViewConfig} config the display config.\n * @return {Date[]} an array of backlog days information.\n */\nfunction buildDaysInFutureView(\n  today: Date, nDays: number, config: FutureViewConfig,\n): readonly SimpleDate[] {\n  const { displayOption: { containerType }, offset } = config;\n  const { startDate, endDate } = computeStartAndEndDay(today, nDays, containerType, offset);\n  // Adding the days to array\n  const days: SimpleDate[] = [];\n  for (let d = startDate; d < endDate; d.setDate(d.getDate() + 1)) {\n    const simpleDate: SimpleDate = {\n      year: d.getFullYear(),\n      month: d.getMonth(),\n      date: d.getDate(),\n      day: d.getDay(),\n      text: d.toDateString(),\n    };\n    days.push(simpleDate);\n  }\n  return days;\n}\n\ntype IdOrder = { readonly id: string; readonly order: number };\n\ntype Props = {\n  readonly config: FutureViewConfig;\n  readonly onConfigChange: (config: FutureViewConfig) => void;\n};\n\nexport default function FutureView(\n  { config, onConfigChange }: Props,\n): ReactElement {\n  const today = useTodayLastSecondTime();\n\n  // the number of days in n-days mode.\n  const nDays = useMappedWindowSize(({ width }) => {\n    if (width > 1280) { return 5; }\n    if (width > 960) { return 4; }\n    if (width > 840) { return 3; }\n    return 1;\n  });\n  const controlOnChange = (change: Partial<FutureViewConfig>): void => {\n    onConfigChange({ ...config, ...change });\n  };\n\n  const days = buildDaysInFutureView(today, nDays, config);\n  const { displayOption, offset } = config;\n  const { containerType, doesShowCompletedTasks } = displayOption;\n  const daysContainer = containerType === 'N_DAYS'\n    ? <FutureViewNDays days={days} doesShowCompletedTasks={doesShowCompletedTasks} />\n    : <FutureViewSevenColumns days={days} doesShowCompletedTasks={doesShowCompletedTasks} />;\n  const onDragEnd = (result: DropResult): void => {\n    const { source, destination, draggableId } = result;\n    if (destination == null) {\n      // invalid drop, skip\n      return;\n    }\n    // dragging to same day\n    if (source.droppableId === destination.droppableId) {\n      const { dateTaskMap, tasks, repeatedTaskSet } = store.getState();\n      const date = source.droppableId;\n      const dayTaskSet = dateTaskMap.get(date);\n      if (dayTaskSet != null) {\n        const idOrderList: IdOrder[] = [];\n\n        dayTaskSet.forEach((id) => {\n          const task = tasks.get(id);\n          if (task != null) {\n            const { order } = task;\n            idOrderList.push({ id, order });\n          }\n        });\n\n        const dateObj = new Date(source.droppableId);\n        repeatedTaskSet.forEach((id) => {\n          const task = tasks.get(id);\n          if (task == null) {\n            return;\n          }\n          const repeatedTask = task as Task<RepeatingTaskMetadata>;\n          if (dateMatchRepeats(dateObj, repeatedTask.metadata)) {\n            const { order } = repeatedTask;\n            idOrderList.push({ id, order });\n          }\n        });\n\n        idOrderList.sort((a, b) => a.order - b.order);\n        const sourceOrder: number = idOrderList[source.index].order;\n        const dest = idOrderList[destination.index];\n        const destinationOrder: number = dest == null ? sourceOrder : dest.order;\n        const reorderMap = computeReorderMap(idOrderList, sourceOrder, destinationOrder);\n        applyReorder('tasks', reorderMap);\n      }\n    } else {\n      // dragging to different day\n      editMainTask(\n        draggableId,\n        null,\n        { date: new Date(destination.droppableId) },\n      );\n    }\n  };\n  return (\n    <div>\n      <FutureViewControl\n        nDays={nDays}\n        displayOption={displayOption}\n        offset={offset}\n        onChange={controlOnChange}\n      />\n      <DragDropContext onDragEnd={onDragEnd}>\n        {daysContainer}\n      </DragDropContext>\n    </div>\n  );\n}\n","import React, { ReactElement, CSSProperties } from 'react';\nimport { TasksProgressProps } from 'common/lib/util/task-util';\nimport HappyBear from '../../../assets/bear/happy-bear.png';\nimport RegularBear from '../../../assets/bear/regular-bear.png';\nimport styles from './Bear.module.css';\n\ntype Props = TasksProgressProps & { readonly inMobileView: boolean };\n\n/**\n * The bear as a progress checker.\n */\nexport default ({ completedTasksCount, allTasksCount, inMobileView }: Props): ReactElement => {\n  const allCompleted = completedTasksCount === allTasksCount;\n  let style: CSSProperties = { backgroundImage: `url(${allCompleted ? HappyBear : RegularBear})` };\n  if (!inMobileView) {\n    style = { ...style, margin: '0' };\n  }\n  return <div className={styles.Bear} style={style} />;\n};\n","import React, { ReactNode, ReactElement, CSSProperties } from 'react';\nimport { TasksProgressProps } from 'common/lib/util/task-util';\nimport styles from './ProgressIndicator.module.scss';\n\ntype ProgressBarProps = TasksProgressProps & {\n  readonly inMobileView: boolean;\n  readonly children?: ReactNode;\n};\n\n/**\n * A simple progress bar with optional children.\n */\nfunction ProgressBar(\n  { completedTasksCount, allTasksCount, inMobileView, children }: ProgressBarProps,\n): ReactElement {\n  const percentage = allTasksCount === 0 ? 0 : completedTasksCount / allTasksCount * 100;\n  const containerStyle: CSSProperties = inMobileView\n    ? { height: '2em', marginLeft: '1em' }\n    : { width: '2em', marginBottom: '1em' };\n  const innerStyle: CSSProperties = inMobileView\n    ? { height: '2em', width: `${percentage}%` }\n    : { width: '2em', height: `${percentage}%` };\n  return (\n    <div className={styles.ProgressBarContainer} style={containerStyle}>\n      <div className={styles.ProgressBarIndicator} style={innerStyle} />\n      {children}\n    </div>\n  );\n}\n\nProgressBar.defaultProps = { children: null };\n\ntype Props = TasksProgressProps & { readonly inMobileView: boolean };\n\n/**\n * The progress indicator.\n */\nexport default function ProgressIndicator(\n  { completedTasksCount, allTasksCount, inMobileView }: Props,\n): ReactElement {\n  const containerStyle: CSSProperties = inMobileView\n    ? { height: '32px' }\n    : { flexDirection: 'column-reverse', margin: '0', width: '32px' };\n  const textStyle: CSSProperties = inMobileView ? {} : { width: '70px', marginBottom: '8px' };\n  const fractionString = `${completedTasksCount}/${allTasksCount}`;\n  return (\n    <div className={styles.ProgressIndicator} style={containerStyle}>\n      <div className={styles.ProgressText} style={textStyle}>\n        <div className={styles.ProgressCountText}>{fractionString}</div>\n        <div className={styles.ProgressOtherText}>tasks complete</div>\n      </div>\n      <ProgressBar\n        completedTasksCount={completedTasksCount}\n        allTasksCount={allTasksCount}\n        inMobileView={inMobileView}\n      />\n    </div>\n  );\n}\n","import React, { ReactElement } from 'react';\nimport { connect } from 'react-redux';\nimport { TasksProgressProps } from 'common/lib/util/task-util';\nimport Bear from './Bear';\nimport ProgressIndicator from './ProgressIndicator';\nimport styles from './index.module.css';\nimport { getProgress } from '../../../store/selectors';\n\nconst mobileViewStyle = `${styles.ProgressTracker} ${styles.MobileView}`;\nconst desktopViewStyle = `${styles.ProgressTracker} ${styles.DesktopView}`;\n\ntype Props = TasksProgressProps & { readonly inMobileView: boolean };\n\n/**\n * The progress tracker component.\n * It is a wrapper component designed to pass down the progress object.\n */\nexport function ProgressTracker(\n  { completedTasksCount, allTasksCount, inMobileView }: Props,\n): ReactElement {\n  const containerClass = inMobileView ? mobileViewStyle : desktopViewStyle;\n  return (\n    <div className={containerClass}>\n      <Bear\n        completedTasksCount={completedTasksCount}\n        allTasksCount={allTasksCount}\n        inMobileView={inMobileView}\n      />\n      <ProgressIndicator\n        completedTasksCount={completedTasksCount}\n        allTasksCount={allTasksCount}\n        inMobileView={inMobileView}\n      />\n    </div>\n  );\n}\n\nconst Connected = connect(getProgress)(ProgressTracker);\nexport default Connected;\n","import React, { ReactElement, ReactNode, useState } from 'react';\nimport { connect } from 'react-redux';\nimport { FontAwesomeIcon as Icon } from '@fortawesome/react-fontawesome';\nimport { faChevronRight, faChevronLeft } from '@fortawesome/free-solid-svg-icons';\nimport { State, Theme } from 'common/lib/types/store-types';\nimport { useMappedWindowSize } from '../../hooks/window-size-hook';\nimport FocusView from './FocusView';\nimport FutureView, { futureViewConfigProvider, FutureViewConfig } from './FutureView';\nimport ProgressTracker from './ProgressTracker';\nimport styles from './index.module.css';\nimport SamwiseIcon from '../UI/SamwiseIcon';\n\nconst FocusPanel = (): ReactElement => <div className={styles.FocusPanel}><FocusView /></div>;\n\nconst classNames = (...names: readonly string[]): string => names.join(' ');\n\ntype Props = { readonly className: string; readonly theme: Theme };\n\nexport function TaskView({ className, theme }: Props): ReactElement {\n  const [doesShowFocusViewInWideScreen, setDoesShowFocusViewInWideScreen] = useState(true);\n  const [doesShowFutureViewInSmallScreen, setDoesShowFutureViewInSmallScreen] = useState(false);\n  const [config, setConfig] = useState<FutureViewConfig>(futureViewConfigProvider.initialValue);\n\n  const screenIsSmall = useMappedWindowSize((size) => size.width < 840);\n  const toggleFocusViewInWideScreen = (): void => setDoesShowFocusViewInWideScreen((prev) => !prev);\n  const switchView = (): void => setDoesShowFutureViewInSmallScreen((prev) => !prev);\n\n  const FuturePanel = ({ children }: { readonly children?: ReactNode }): ReactElement => {\n    const onChange = (c: FutureViewConfig): void => { setConfig(c); };\n    return (\n      <div className={classNames(className, styles.FuturePanel)}>\n        <div className={styles.FuturePanelContainer}>\n          {children}\n          <FutureView config={config} onConfigChange={onChange} />\n        </div>\n      </div>\n    );\n  };\n  FuturePanel.defaultProps = { children: null };\n\n  const inNDaysView = futureViewConfigProvider.isInNDaysView(config);\n  const showFocusView = inNDaysView || doesShowFocusViewInWideScreen;\n\n  const darkModeStyle = theme === 'dark' ? { background: 'black', color: 'white' } : undefined;\n\n  if (screenIsSmall) {\n    const taskView = doesShowFutureViewInSmallScreen\n      ? (\n        <div className={classNames(className, styles.TaskView)} style={darkModeStyle}>\n          <FuturePanel />\n          <SamwiseIcon\n            iconName=\"pin-dark-filled\"\n            className={styles.ViewSwitcher}\n            onClick={switchView}\n          />\n        </div>\n      ) : (\n        <div className={classNames(className, styles.TaskView)} style={darkModeStyle}>\n          <FocusPanel />\n          <SamwiseIcon\n            iconName=\"calendar-dark\"\n            className={styles.ViewSwitcher}\n            onClick={switchView}\n          />\n        </div>\n      );\n    return (\n      <>\n        {taskView}\n        <ProgressTracker inMobileView />\n      </>\n    );\n  }\n\n  const WideScreenFocusViewToggle = (): ReactElement => {\n    const wrapperStyle = doesShowFocusViewInWideScreen ? { left: '-4em' } : { left: '0' };\n    const buttonStyle = doesShowFocusViewInWideScreen ? { left: '2em' } : {};\n    const iconName = doesShowFocusViewInWideScreen ? faChevronLeft : faChevronRight;\n    const iconClass = doesShowFocusViewInWideScreen\n      ? styles.FocusViewToggleIconFocusViewShow\n      : styles.FocusViewToggleIconFocusViewHide;\n    return (\n      <div className={styles.FocusViewToggleWrapper} style={wrapperStyle}>\n        <div\n          role=\"button\"\n          tabIndex={-1}\n          className={styles.FocusViewToggle}\n          style={buttonStyle}\n          onClick={toggleFocusViewInWideScreen}\n          onKeyDown={toggleFocusViewInWideScreen}\n        >\n          <Icon icon={iconName} className={iconClass} />\n        </div>\n      </div>\n    );\n  };\n\n  return (\n    <>\n      <div className={classNames(className, styles.TaskView)} style={darkModeStyle}>\n        <ProgressTracker inMobileView={false} />\n        {showFocusView && <FocusPanel />}\n        {showFocusView && <div style={{ width: '2em' }} />}\n        <FuturePanel>\n          {!inNDaysView && <WideScreenFocusViewToggle />}\n        </FuturePanel>\n      </div>\n    </>\n  );\n}\n\nconst Connected = connect(\n  ({ settings: { theme } }: State, ownProps: { className: string }): Props => (\n    { className: ownProps.className, theme }\n  ),\n)(TaskView);\nexport default Connected;\n","import React, { ReactElement } from 'react';\nimport { connect } from 'react-redux';\nimport { State } from 'common/lib/types/store-types';\nimport { getBannerMessage } from '../../../store/selectors';\nimport styles from './index.module.css';\nimport { readBannerMessage } from '../../../firebase/actions';\nimport { MessageWithId } from './messages';\n\ntype Props = {\n  readonly message: MessageWithId | null;\n};\n\nconst Banner = ({ message }: Props): ReactElement | null => {\n  if (message === null) {\n    return null;\n  }\n  const dismissHandler = (): void => {\n    readBannerMessage(message.id, true);\n  };\n  return (\n    <div className={styles.Banner}>\n      <span className={styles.Text}>{message.message}</span>\n      <button type=\"button\" className={styles.DismissButton} onClick={dismissHandler}>\n        Dismiss\n      </button>\n    </div>\n  );\n};\n\nconst Connected = connect((state: State) => getBannerMessage(state))(Banner);\nexport default Connected;\n","import React, { KeyboardEvent, SyntheticEvent, ReactElement } from 'react';\nimport styles from './TagItem.module.css';\nimport ColorEditor from './ColorEditor';\nimport { addTag } from '../../../firebase/actions';\n\ntype State = { readonly name: string; readonly color: string };\n\nconst defaultColor = '#289de9';\nconst initialState: State = { name: '', color: defaultColor };\n\nexport default class OtherTagAdder extends React.PureComponent<{}, State> {\n  public readonly state: State = initialState;\n\n  private editColor = (color: string): void => this.setState({ color });\n\n  private editName = (event: SyntheticEvent<HTMLInputElement>): void => this.setState({\n    name: event.currentTarget.value,\n  });\n\n  private onSubmit = (event: KeyboardEvent<HTMLInputElement>): void => {\n    if (event.key !== 'Enter') {\n      return;\n    }\n    const { name, color } = this.state;\n    addTag({\n      name, color, classId: null,\n    });\n    this.setState(initialState);\n  };\n\n  public render(): ReactElement {\n    const { name, color } = this.state;\n    return (\n      <li className={styles.ColorConfigItem}>\n        <input\n          type=\"text\"\n          className={`${styles.TagName} ${styles.AddTagName}`}\n          placeholder=\"New Tag\"\n          value={name}\n          onChange={this.editName}\n          onKeyDown={this.onSubmit}\n        />\n        <ColorEditor color={color} onChange={this.editColor} />\n      </li>\n    );\n  }\n}\n","import React, { ReactElement, useState } from 'react';\nimport { connect } from 'react-redux';\nimport { promptConfirm } from 'components/Util/Modals';\nimport { Settings, State } from 'common/lib/types/store-types';\nimport settingStyles from '../Settings/SettingsPage.module.css';\nimport styles from './CanvasCalendar.module.css';\nimport { setCanvasCalendar } from '../../../firebase/actions';\n\ntype Props = { readonly settings: Settings }\n\nfunction CanvasCalendar({ settings }: Props): ReactElement {\n  const { canvasCalendar } = settings;\n  const linked = canvasCalendar != null;\n  const [input, setInput] = useState('');\n\n  const handleSubmit = (e: React.FormEvent<HTMLFormElement>): void => {\n    e.preventDefault();\n    const iCalLink = input;\n\n    promptConfirm('This will sync all calendar items from your Canvas account. This may include assignments, as well as lectures, discussions, office hours, and more. These tasks can only be modified or deleted by your professor. If you wish to delete or edit these tasks, you will need to unlink your Canvas calendar. Would you like to continue?').then((confirmed) => {\n      if (confirmed) {\n        setCanvasCalendar(iCalLink);\n      }\n    });\n  };\n\n  const removeCanvasiCal = (): void => {\n    promptConfirm('This will stop syncing new calendar updates from Canvas, but will not delete previously imported tasks. After unlinking, you will be able to delete any tasks previously imported from Canvas. Would you like to continue?').then((confirmed) => {\n      if (confirmed) {\n        setCanvasCalendar(null);\n      }\n    });\n  };\n\n  return (\n    <div className={settingStyles.SettingsSection}>\n      <p className={settingStyles.SettingsSectionTitle}>Canvas Calendar</p>\n      <div className={settingStyles.SettingsSectionContent}>\n\n        <div style={{ display: !linked ? 'block' : 'none' }}>\n          <form\n            className={[styles.CalendarForm, settingStyles.SettingsButton].join(' ')}\n            onSubmit={handleSubmit}\n          >\n            <input\n              placeholder=\"Paste your Canvas iCal link here\"\n              type=\"text\"\n              className={styles.CalendarInput}\n              value={input}\n              onChange={(e) => setInput(e.target.value)}\n            />\n            <button type=\"submit\" title=\"Link Canvas iCal\"> Save </button>\n          </form>\n          <a\n            className={styles.HelpButton}\n            href=\"https://community.canvaslms.com/docs/DOC-10691-4212717348\"\n            title=\"Link to Canvas iCal guide\"\n          >\n            Having trouble finding the iCal link?\n          </a>\n        </div>\n\n        <div\n          className={settingStyles.SettingsButton}\n          style={{ display: linked ? 'block' : 'none' }}\n        >\n          <p style={{ wordBreak: 'break-all' }}>\n            Your Canvas calendar feed is linked.\n            <br />\n            {canvasCalendar}\n          </p>\n          <button\n            type=\"button\"\n            onClick={removeCanvasiCal}\n            title=\"Remove Canvas iCal Link\"\n          >\n            Unlink\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nconst Connected = connect(({ settings }: State) => ({ settings }))(CanvasCalendar);\nexport default Connected;\n","import React, { ReactElement, ReactNode } from 'react';\nimport { Map } from 'immutable';\nimport { connect } from 'react-redux';\nimport { Tag, State } from 'common/lib/types/store-types';\nimport TagItem from '../Tags/TagItem';\nimport ClassTagAdder from '../Tags/ClassTagAdder';\nimport OtherTagAdder from '../Tags/OtherTagAdder';\nimport styles from './SettingsPage.module.css';\nimport { completeOnboarding, importCourseExams } from '../../../firebase/actions';\nimport { firebaseSignOut } from '../../../firebase/auth-util';\nimport CanvasCalendar from '../Canvas/CanvasCalendar';\n\n/**\n * The class adder component.\n *\n * @return {Node} rendered component.\n * @constructor\n */\nexport const ClassAdder = (): ReactElement => (\n  <div className={styles.SettingsSection}>\n    <p className={styles.SettingsSectionTitle}>Add Classes</p>\n    <div className={styles.SettingsSectionContent}>\n      <ClassTagAdder />\n      <small>Add classes to get upcoming prelims automatically added to your planner.</small>\n    </div>\n  </div>\n);\n\nexport const ExamImporter = (): ReactElement => (\n  <div className={styles.SettingsSection}>\n    <p className={styles.SettingsSectionTitle}>Auto Import Exams</p>\n    <div className={`${styles.SettingsButton} ${styles.SettingsSectionContent}`}>\n      Click the following button to reimport the prelims and finals\n      from your classes into your planner. We will only import those that\n      appears on Cornell prelim/final schedule webpage.\n      <br />\n      <button type=\"button\" title=\"Reimport Exams\" onClick={importCourseExams} tabIndex={0}>Reimport Exams</button>\n    </div>\n  </div>\n);\n\ntype TagsContainerProps = { readonly title: string; readonly children: ReactNode };\n\n/**\n * The tags container component.\n *\n * @param {string} title the title of the tags.\n * @param {Node} children the tags as children.\n * @return {Node} rendered component.\n * @constructor\n */\nexport const TagsContainer = ({ title, children }: TagsContainerProps): ReactElement => (\n  <div className={styles.SettingsSection}>\n    <p className={styles.SettingsSectionTitle}>{title}</p>\n    <div className={styles.SettingsSectionContent}>\n      <ul className={styles.ColorConfigItemList}>\n        {children}\n      </ul>\n    </div>\n  </div>\n);\n\ntype Props = {\n  readonly tags: Map<string, Tag>;\n};\n\n/**\n * The settings page.\n */\nexport function SettingsPage({ tags }: Props): ReactElement {\n  const classTags: Tag[] = [];\n  const otherTags: Tag[] = [];\n  tags.forEach((tag) => {\n    if (tag.classId !== null) {\n      classTags.push(tag);\n    } else if (tag.name !== 'None') {\n      otherTags.push(tag);\n    }\n  });\n  const renderTags = (arr: Tag[]): ReactNode => arr.map((tag: Tag) => (\n    <TagItem key={tag.id} tag={tag} />\n  ));\n\n  return (\n    <div>\n      <ClassAdder />\n      <TagsContainer title=\"Class Tags\">\n        {renderTags(classTags)}\n      </TagsContainer>\n      <ExamImporter />\n      <TagsContainer title=\"Other Tags\">\n        {renderTags(otherTags)}\n        <OtherTagAdder />\n      </TagsContainer>\n      <CanvasCalendar />\n      <div className={styles.FinalRowButtonContainer}>\n        <div className={styles.SettingsButton}>\n          <button\n            type=\"button\"\n            className={[styles.FinalRowButton, styles.SignButton].join(' ')}\n            onClick={firebaseSignOut}\n            title=\"Sign out of Samwise\"\n            tabIndex={0}\n          >\n            Sign Out\n          </button>\n        </div>\n        <a\n          className={styles.FeedbackButton}\n          href=\"https://goo.gl/forms/PZUZ1Ze6kN82EmcD2\"\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n          title=\"Link to Feedback form\"\n          tabIndex={0}\n        >\n          Give Feedback\n        </a>\n        <span className={styles.Padding} />\n        <div className={styles.SettingsButton}>\n          <button\n            type=\"button\"\n            className={[styles.FinalRowButton, styles.ReplayTutorialButton].join(' ')}\n            onClick={() => completeOnboarding(false)}\n            title=\"Click to replay tutorial\"\n            tabIndex={0}\n          >\n            Replay Tutorial\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nconst Connected = connect(({ tags }: State) => ({ tags }))(SettingsPage);\nexport default Connected;\n","import React, { ReactElement } from 'react';\nimport SettingsPage from './SettingsPage';\nimport styles from './SettingsButton.module.css';\nimport SamwiseIcon from '../../UI/SamwiseIcon';\n\nexport default function SettingsButton(): ReactElement {\n  const [showSettings, setShowSettings] = React.useState(false);\n\n  const displayModal = (): void => setShowSettings(true);\n  const closeModal = (): void => setShowSettings(false);\n\n  return (\n    <div style={{ display: 'inline-block' }}>\n      <button type=\"submit\" onClick={displayModal}>\n        <p style={{ transform: 'scale(2)translateY(-5px)' }} title=\"Settings Button\"><SamwiseIcon iconName=\"settings\" /></p>\n      </button>\n      {showSettings && (\n        <div className={styles.SettingsModal}>\n          <button className={styles.CloseButton} type=\"submit\" title=\"Close Settings\" onClick={closeModal} tabIndex={-1}>\n            <SamwiseIcon iconName=\"x-light-settings\" />\n          </button>\n          <section className={styles.ContentWrap}>\n            <h2>Settings</h2>\n            <SettingsPage />\n          </section>\n        </div>\n      )}\n    </div>\n  );\n}\n","import React, { ReactElement } from 'react';\nimport { connect } from 'react-redux';\nimport { useTime } from 'hooks/time-hook';\nimport { date2FullDateString } from 'common/lib/util/datetime-util';\nimport { State, Theme } from 'common/lib/types/store-types';\nimport Banner from './Banner';\nimport styles from './index.module.css';\nimport SettingsButton from './Settings/SettingsButton';\n\n/**\n * The title bar.\n *\n * @type {function(): Node}\n */\nexport function TitleBar(props: { theme: Theme }): ReactElement {\n  const time = useTime();\n  const date = new Date(time);\n  const dateString = date2FullDateString(date);\n  const timeString = date.toLocaleTimeString('en-US', {\n    hour: 'numeric',\n    minute: 'numeric',\n  });\n  const { theme } = props;\n  const darkModeStyles = theme === 'dark' ? {\n    background: 'black',\n    color: 'white',\n  } : undefined;\n  return (\n    <header className={styles.Main} style={darkModeStyles}>\n      <Banner />\n      <span title=\"time\" className={styles.Time}>{timeString}</span>\n      <span title=\"date\" className={styles.Date}>{dateString}</span>\n      <span className={styles.Links}><SettingsButton /></span>\n    </header>\n  );\n}\n\n\nconst Connected = connect(\n  ({ settings: { theme } }: State): {theme: Theme} => ({ theme }),\n)(TitleBar);\nexport default Connected;\n","import firebase from 'firebase/app';\n\nlet firebaseConfig: object;\n\nif (process.env.NODE_ENV === 'production' && process.env.REACT_APP_IS_STAGING !== 'true') {\n  firebaseConfig = {\n    apiKey: 'AIzaSyBrnR-ai3ZQrr3aYnezDZTZdw9e2TWTRtc',\n    authDomain: 'dti-samwise.firebaseapp.com',\n    databaseURL: 'https://dti-samwise.firebaseio.com',\n    projectId: 'dti-samwise',\n    storageBucket: 'dti-samwise.appspot.com',\n    messagingSenderId: '114434220691',\n    appId: '1:114434220691:web:01579d764b20fb0aeb6366',\n    measurementId: 'G-DHQY39TSMH',\n  };\n} else {\n  firebaseConfig = {\n    apiKey: 'AIzaSyBJ0ElrYrw-fAQWWUEiRlf1wF38DswRduE',\n    authDomain: 'samwise-dev.firebaseapp.com',\n    databaseURL: 'https://samwise-dev.firebaseio.com',\n    projectId: 'samwise-dev',\n    storageBucket: 'samwise-dev.appspot.com',\n    messagingSenderId: '423488925083',\n    appId: '1:423488925083:web:6de3b7dd7df2c20c14453e',\n    measurementId: 'G-ETTT5Z748X',\n  };\n}\n\nfirebase.initializeApp(firebaseConfig);\n","const GK_GROUP_TASK = 'SAMWISE_GK-GROUP_TASK_ENABLED';\n\nexport const isGroupTaskEnabled = (): boolean => localStorage.getItem(GK_GROUP_TASK) === 'true';\n\nconst enableGroupTask = (): void => localStorage.setItem(GK_GROUP_TASK, 'true');\nconst disableGroupTask = (): void => localStorage.removeItem(GK_GROUP_TASK);\n\nconst GateKeeper = { enableGroupTask, disableGroupTask };\n\ndeclare global {\n  interface Window {\n    GateKeeper: typeof GateKeeper;\n  }\n}\n\nexport const registerGateKeeper = (): void => {\n  window.GateKeeper = GateKeeper;\n};\n","import React, { ReactElement, useState } from 'react';\nimport ModeIndicator from 'components/UI/ModeIndicator';\nimport SideBar from 'components/SideBar';\nimport GroupView from 'components/GroupView';\nimport styles from './App.module.css';\nimport AllComplete from './components/Popup/AllComplete';\nimport Onboard from './components/TitleBar/Onboarding/Onboard';\nimport TaskCreator from './components/TaskCreator';\nimport TaskView from './components/TaskView';\nimport TitleBar from './components/TitleBar';\nimport { ModalsContainer } from './components/Util/Modals';\nimport { isGroupTaskEnabled } from './util/gate-keeper';\n\ntype Views =\n  | 'personal'\n  | 'group';\n\n/**\n * The top level app component.\n */\nconst groups = ['CS 2110', 'CS 3110', 'INFO 3450'];\n\nconst GROUP_TASK_ENABLED: boolean = isGroupTaskEnabled();\n\nconst PersonalMainView = (): React.ReactElement => (\n  <div className={styles.MainView}>\n    <Onboard />\n    <TitleBar />\n    <TaskCreator />\n    <TaskView className={styles.TaskView} />\n    <AllComplete />\n  </div>\n);\n\ntype MainViewProps = {\n  readonly view: string;\n  readonly group: string;\n}\n\nconst MainView = ({ view, group }: MainViewProps): ReactElement => (\n  view === 'personal'\n    ? <PersonalMainView />\n    : <GroupView groupName={group} />\n);\n\nexport default function App(): ReactElement {\n  const [view, setView] = useState<Views>('personal');\n  const [group, setGroup] = useState('');\n\n  const changeView = (selectedView: Views, selectedGroup?: string | undefined): void => {\n    setView(selectedView);\n    if (selectedGroup !== undefined) {\n      setGroup(selectedGroup);\n    }\n  };\n\n  return (\n    <div className={styles.Container}>\n      <ModeIndicator />\n      <ModalsContainer />\n      {\n        GROUP_TASK_ENABLED\n          ? (\n            <div className={styles.GroupScreen}>\n              <SideBar groups={groups} changeView={changeView} />\n              <MainView view={view} group={group} />\n            </div>\n          )\n          : <PersonalMainView />\n      }\n    </div>\n  );\n}\n","import React, { ReactElement } from 'react';\nimport FrontendCrash from '../../../assets/error/frontendCrash.png';\n\ntype Props = { readonly children: ReactElement };\n\ntype State = { readonly hasError: boolean };\n\nexport default class ErrorBoundary extends React.PureComponent<Props, State> {\n  public readonly state: State = { hasError: false };\n\n  public static getDerivedStateFromError(): State {\n    return { hasError: true };\n  }\n\n  public componentDidCatch(error: Error | null, info: object): void {\n    // eslint-disable-next-line no-console\n    console.log({ error, info }); // necessary for error logging!\n  }\n\n  private ignoreError = (): void => this.setState({ hasError: false });\n\n  public render(): ReactElement {\n    const { children } = this.props;\n    const { hasError } = this.state;\n    if (hasError) {\n      return (\n        <div>\n          <img\n            src={FrontendCrash}\n            alt=\"Uh oh - we broke something\"\n            style={{\n              width: '100vw',\n              height: '100vh',\n              objectFit: 'cover',\n              objectPosition: 'center',\n              position: 'absolute',\n              zIndex: -1,\n              left: 0,\n              top: 0,\n            }}\n          />\n          <div style={{\n            position: 'fixed',\n            bottom: 0,\n            right: 0,\n            padding: '10px',\n            textAlign: 'right',\n            fontSize: '150%',\n          }}\n          >\n            <p>\n              Come yell at us:&nbsp;\n              <a\n                style={{ color: 'white', textDecoration: 'underline' }}\n                href=\"https://goo.gl/forms/PZUZ1Ze6kN82EmcD2\"\n              >\n                Send Feedback\n              </a>\n            </p>\n            <button type=\"button\" onClick={this.ignoreError}>\n              Click me to refresh the page. It may help.\n            </button>\n          </div>\n        </div>\n      );\n    }\n    return children;\n  }\n}\n","import { Map } from 'immutable';\nimport {\n  PatchCourses,\n  PatchSubTasks,\n  PatchTags,\n  PatchTasks,\n  PatchSettings,\n  PatchBannerMessageStatus,\n  TaskWithChildrenId,\n} from 'common/lib/types/action-types';\nimport {\n  Course,\n  Tag,\n  SubTask,\n  Settings,\n  BannerMessageStatus,\n} from 'common/lib/types/store-types';\n\nexport const patchTags = (created: Tag[], edited: Tag[], deleted: string[]): PatchTags => ({\n  type: 'PATCH_TAGS', created, edited, deleted,\n});\n\nexport const patchTasks = (\n  created: TaskWithChildrenId[],\n  edited: TaskWithChildrenId[],\n  deleted: string[],\n): PatchTasks => ({\n  type: 'PATCH_TASKS', created, edited, deleted,\n});\n\nexport const patchSubTasks = (\n  created: SubTask[], edited: SubTask[], deleted: string[],\n): PatchSubTasks => ({\n  type: 'PATCH_SUBTASKS', created, edited, deleted,\n});\n\nexport const patchSettings = (settings: Settings): PatchSettings => ({\n  type: 'PATCH_SETTINGS', settings,\n});\n\nexport const patchBannerMessageStatus = (\n  change: BannerMessageStatus,\n): PatchBannerMessageStatus => ({\n  type: 'PATCH_BANNER_MESSAGES', change,\n});\n\nexport const patchCourses = (courses: Map<string, Course[]>): PatchCourses => ({\n  type: 'PATCH_COURSES', courses,\n});\n","import { Set } from 'immutable';\nimport { TaskWithChildrenId } from 'common/lib/types/action-types';\nimport {\n  SubTask,\n  Tag,\n  Settings,\n  BannerMessageStatus,\n  RepeatingTaskMetadata,\n  Course,\n} from 'common/lib/types/store-types';\nimport buildCoursesMap from 'common/lib/util/courses-util';\nimport { ignore } from 'common/lib/util/general-util';\nimport { FirestoreSubTask, FirestoreTag, FirestoreTask } from 'common/lib/types/firestore-types';\nimport { QuerySnapshot, DocumentSnapshot } from 'common/lib/firebase/database';\nimport { database } from './db';\nimport { getAppUser } from './auth-util';\nimport {\n  patchCourses,\n  patchSettings,\n  patchSubTasks,\n  patchTags,\n  patchTasks,\n  patchBannerMessageStatus,\n} from '../store/actions';\nimport coursesJson from '../assets/json/sp20-courses-with-exams-min.json';\nimport { store } from '../store/store';\n\n// Some type alias\ntype Timestamp = firebase.firestore.Timestamp;\n\ntype UnmountCallback = () => void;\nconst listenTagsChange = (\n  email: string,\n  listener: (snapshot: QuerySnapshot) => void,\n): UnmountCallback => database.tagsCollection()\n  .where('owner', '==', email)\n  .onSnapshot(listener);\nconst listenTasksChange = (\n  email: string,\n  listener: (snapshot: QuerySnapshot) => void,\n): UnmountCallback => database.tasksCollection()\n  .where('owner', '==', email)\n  .onSnapshot(listener);\nconst listenSubTasksChange = (\n  email: string,\n  listener: (snapshot: QuerySnapshot) => void,\n): UnmountCallback => database.subTasksCollection()\n  .where('owner', '==', email)\n  .onSnapshot(listener);\nconst listenSettingsChange = (\n  email: string,\n  listener: (snapshot: DocumentSnapshot) => void,\n): UnmountCallback => database.settingsCollection()\n  .doc(email)\n  .onSnapshot(listener);\nconst listenBannerMessageChange = (\n  email: string,\n  listener: (snapshot: DocumentSnapshot) => void,\n): UnmountCallback => database.bannerMessageStatusCollection()\n  .doc(email)\n  .onSnapshot(listener);\n\nconst transformDate = (dateOrTimestamp: Date | Timestamp): Date => (\n  dateOrTimestamp instanceof Date ? dateOrTimestamp : dateOrTimestamp.toDate()\n);\n\n/**\n * Initialize listeners bind to firestore.\n */\nexport default (onFirstFetched: () => void): (() => void) => {\n  let firstTagsFetched = false;\n  let firstTasksFetched = false;\n  let firstSubTasksFetched = false;\n  let firstSettingsFetched = false;\n  let firstBannerStatusFetched = false;\n  const reportFirstFetchedIfAllFetched = (): void => {\n    if (\n      firstTagsFetched\n      && firstTasksFetched\n      && firstSubTasksFetched\n      && firstSettingsFetched\n      && firstBannerStatusFetched\n    ) {\n      onFirstFetched();\n    }\n  };\n  const ownerEmail = getAppUser().email;\n\n  const unmountTagsListener = listenTagsChange(ownerEmail, (snapshot) => {\n    const created: Tag[] = [];\n    const edited: Tag[] = [];\n    const deleted: string[] = [];\n    snapshot.docChanges().forEach((change) => {\n      const { doc } = change;\n      const { id } = doc;\n      if (change.type === 'removed') {\n        deleted.push(id);\n      } else {\n        const data = doc.data();\n        if (data === undefined) {\n          return;\n        }\n        const { owner, ...rest } = data as FirestoreTag;\n        const tag: Tag = { id, ...rest };\n        if (change.type === 'added') {\n          created.push(tag);\n        } else {\n          edited.push(tag);\n        }\n      }\n    });\n    store.dispatch(patchTags(created, edited, deleted));\n    firstTagsFetched = true;\n    reportFirstFetchedIfAllFetched();\n  });\n\n  const unmountTasksListener = listenTasksChange(ownerEmail, (snapshot) => {\n    const created: TaskWithChildrenId[] = [];\n    const edited: TaskWithChildrenId[] = [];\n    const deleted: string[] = [];\n    snapshot.docChanges().forEach((change) => {\n      const { doc } = change;\n      const { id } = doc;\n      if (change.type === 'removed') {\n        deleted.push(id);\n      } else {\n        const data = doc.data();\n        if (data === undefined) {\n          return;\n        }\n        const { owner, children: childrenArr, ...rest } = data as FirestoreTask;\n        const children = Set(childrenArr);\n        const taskCommon = { id, children: children.toArray() };\n        let task: TaskWithChildrenId;\n        if (rest.type === 'ONE_TIME') {\n          const { type, date: timestamp, icalUID, ...oneTimeTaskRest } = rest;\n          const date = transformDate(timestamp);\n          task = { ...taskCommon, ...oneTimeTaskRest, metadata: { type: 'ONE_TIME', date, icalUID } };\n        } else if (rest.type === 'GROUP') {\n          const { type, date: timestamp, group, ...groupTaskRest } = rest;\n          const date = transformDate(timestamp);\n          task = { ...taskCommon, ...groupTaskRest, metadata: { type: 'GROUP', date, group } };\n        } else {\n          const { type, forks: firestoreForks, date: firestoreRepeats, ...otherTaskProps } = rest;\n          const forks = firestoreForks.map((firestoreFork) => ({\n            forkId: firestoreFork.forkId,\n            replaceDate: transformDate(firestoreFork.replaceDate),\n          }));\n          const startDate = transformDate(firestoreRepeats.startDate);\n          let endDate: Date | number;\n          if (typeof firestoreRepeats.endDate === 'number') {\n            // eslint-disable-next-line prefer-destructuring\n            endDate = firestoreRepeats.endDate;\n          } else {\n            endDate = transformDate(firestoreRepeats.endDate);\n          }\n          const metadata: RepeatingTaskMetadata = {\n            type: 'MASTER_TEMPLATE',\n            date: { startDate, endDate, pattern: firestoreRepeats.pattern },\n            forks,\n          };\n          task = { ...taskCommon, ...otherTaskProps, metadata };\n        }\n        if (change.type === 'added') {\n          created.push(task);\n        } else {\n          edited.push(task);\n        }\n      }\n    });\n    store.dispatch(patchTasks(created, edited, deleted));\n    firstTasksFetched = true;\n    reportFirstFetchedIfAllFetched();\n  });\n\n  const unmountSubTasksListener = listenSubTasksChange(ownerEmail, (snapshot) => {\n    const created: SubTask[] = [];\n    const edited: SubTask[] = [];\n    const deleted: string[] = [];\n    snapshot.docChanges().forEach((change) => {\n      const { doc } = change;\n      const { id } = doc;\n      if (change.type === 'removed') {\n        deleted.push(id);\n      } else {\n        const data = doc.data();\n        if (data === undefined) {\n          return;\n        }\n        const { owner, ...rest } = data as FirestoreSubTask;\n        const subTask: SubTask = { id, ...rest };\n        if (change.type === 'added') {\n          created.push(subTask);\n        } else {\n          edited.push(subTask);\n        }\n      }\n    });\n    store.dispatch(patchSubTasks(created, edited, deleted));\n    firstSubTasksFetched = true;\n    reportFirstFetchedIfAllFetched();\n  });\n\n  const unmountSettingsListener = listenSettingsChange(ownerEmail, (snapshot) => {\n    if (!snapshot.exists) {\n      const newSettings: Settings = {\n        canvasCalendar: null,\n        completedOnboarding: false,\n        theme: 'light',\n      };\n      database.settingsCollection()\n        .doc(ownerEmail)\n        .set(newSettings)\n        .then(ignore);\n      return;\n    }\n    const data = snapshot.data();\n    if (data === undefined) {\n      return;\n    }\n    const { canvasCalendar, completedOnboarding, theme } = data as Settings;\n    store.dispatch(patchSettings({ canvasCalendar, completedOnboarding, theme }));\n    firstSettingsFetched = true;\n    reportFirstFetchedIfAllFetched();\n  });\n\n  const unmountBannerStatusListener = listenBannerMessageChange(ownerEmail, (snapshot) => {\n    const data = snapshot.exists ? snapshot.data() : undefined;\n    const bannerMessageStatus = (data as BannerMessageStatus) ?? {};\n    store.dispatch(patchBannerMessageStatus(bannerMessageStatus));\n    firstBannerStatusFetched = true;\n    reportFirstFetchedIfAllFetched();\n  });\n\n  store.dispatch(patchCourses(buildCoursesMap(coursesJson as Course[])));\n\n  return () => {\n    // Suppressed because it's likely that this block of code will never be run.\n    // eslint-disable-next-line no-console\n    console.log('Unmounting Listeners... This should only happen when app dies!');\n    unmountTagsListener();\n    unmountTasksListener();\n    unmountSubTasksListener();\n    unmountSettingsListener();\n    unmountBannerStatusListener();\n  };\n};\n","import { Map } from 'immutable';\n/**\n * Build a map from course id to courses.\n *\n * @param {Course[]} courses an array of courses.\n * @return {Map<number, Course[]>} the map from course id to courses.\n */\nexport default function buildCoursesMap(courses) {\n    const map = Map();\n    return map.withMutations((m) => {\n        for (let i = 0; i < courses.length; i += 1) {\n            const course = courses[i];\n            const id = `${course.courseId} ${course.subject} ${course.courseNumber}`;\n            const existingCourses = m.get(id);\n            if (existingCourses == null) {\n                m.set(id, [course]);\n            }\n            else {\n                existingCourses.push(course);\n            }\n        }\n    });\n}\n","import React, { ReactElement } from 'react';\nimport firebase from 'firebase/app';\nimport { FirebaseAuth } from 'react-firebaseui';\nimport { setGAUser } from '../../../util/ga-util';\nimport styles from './Login.module.css';\nimport { cacheAppUser, toAppUser } from '../../../firebase/auth-util';\nimport initListeners from '../../../firebase/listeners';\n\nimport dtiLogo from '../../../assets/splash/wordmark.png';\nimport screenshot from '../../../assets/splash/header_final.png';\nimport samwiseLogo from '../../../assets/splash/samwise_logo.svg';\nimport splashTopImage from '../../../assets/splash/splash_top_image.svg';\nimport splashPeakBear from '../../../assets/splash/splash_peak_bear.svg';\nimport blueCurve from '../../../assets/splash/blue.svg';\nimport splashScreenshot from '../../../assets/splash/screenshot.png';\nimport splashMidImage from '../../../assets/splash/splash_mid_image.svg';\nimport feature1 from '../../../assets/splash/feature1.svg';\nimport feature2 from '../../../assets/splash/feature2.svg';\nimport feature3 from '../../../assets/splash/feature3.svg';\nimport logoHeart from '../../../assets/splash/heart_logo.svg';\nimport logoLink from '../../../assets/splash/link_logo.svg';\n\nconst uiConfig = {\n  signInFlow: 'popup',\n  signInOptions: [\n    {\n      provider: firebase.auth.GoogleAuthProvider.PROVIDER_ID,\n      customParameters: { hd: 'cornell.edu' },\n    }],\n  signInSuccessUrl: '/',\n  callbacks: {\n    // Avoid redirects after sign-in.\n    signInSuccessWithAuthResult: () => false,\n  },\n};\n\ntype Props = { readonly appRenderer: () => ReactElement };\ntype LoginStatus = boolean | 'UNDECIDED';\n\n/**\n * The login barrier component.\n * This component will stop non-logged-in user from accessing other parts of the application.\n * It will only render the app given in a function is the user is signed in.\n *\n * @param appRenderer the function to call when the login flow finishes.\n */\nexport default function LoginBarrier({ appRenderer }: Props): ReactElement {\n  const [loginStatus, setLoginStatus] = React.useState<LoginStatus>('UNDECIDED');\n  const [loaded, setLoaded] = React.useState(false);\n\n  // Listen for auth state changes in effect hooks.\n  React.useEffect(() => {\n    firebase.auth().onAuthStateChanged((user) => {\n      toAppUser(user).then((currentUserFromFirebase) => {\n        if (currentUserFromFirebase === null) {\n          setLoginStatus(false);\n          setLoaded(false);\n          return;\n        }\n        const { email } = currentUserFromFirebase;\n        if (email.endsWith('@cornell.edu')) {\n          setGAUser(currentUserFromFirebase);\n          cacheAppUser(currentUserFromFirebase);\n          setLoginStatus(true);\n        } else {\n          const alertMessage = 'Sorry, but Samwise registration is currently restricted to Cornell students. Please login with an @cornell.edu email address';\n          firebase.auth().signOut().then(() => {\n            // eslint-disable-next-line no-alert\n            alert(alertMessage);\n            // eslint-disable-next-line no-restricted-globals\n            location.reload(false);\n          });\n        }\n      });\n    });\n  }, [loginStatus]);\n\n  // The effect of loading data when login finishes\n  React.useEffect(() => {\n    if (loginStatus !== true) {\n      return () => {};\n    }\n    if (!loaded) {\n      initListeners(() => setLoaded(true));\n    }\n    return () => {};\n  }, [loginStatus, loaded]);\n\n  if (loaded) {\n    // It will be loaded only if the user is signed in, so we can render!\n    return appRenderer();\n  }\n\n  const loginScreen = (\n    <div className={styles.Landing}>\n      <header>\n        <img src={samwiseLogo} alt=\"Samwise\" />\n      </header>\n      <div className={styles.LandingHeroWrap}>\n        <h1>\n          Stop Worrying.\n          <br />\n          Start Doing.\n        </h1>\n        <img src={splashTopImage} alt=\"\" />\n        <div className={styles.LandingHeroLogin}>\n          <img src={splashPeakBear} alt=\"\" />\n          <FirebaseAuth uiConfig={uiConfig} firebaseAuth={firebase.auth()} />\n        </div>\n      </div>\n      <div className={styles.LandingLower}>\n        <img src={blueCurve} className={styles.LandingBlue} alt=\"\" />\n        <img src={splashScreenshot} className={styles.LandingScreenshot} alt=\"Screenshot of the Samwise app interface\" />\n        <h2>\n          Samwise is a task manager for Cornell students who\n          {' '}\n          <span>put in work.</span>\n        </h2>\n        <img src={splashMidImage} alt=\"\" className={styles.LandingMidImg} />\n        <div>\n          <img src={feature1} className={styles.LandingFeatures} alt=\"Take control of your schedule\" />\n          <img src={feature2} className={styles.LandingFeatures} alt=\"Your workload, visualized\" />\n          <img src={feature3} className={styles.LandingFeatures} alt=\"Create actionable (sub)tasks\" />\n        </div>\n        <footer>\n          <p>\n            Made by DTI\n            {' '}\n            <img src={logoHeart} alt=\"with love\" />\n          </p>\n          <p>\n            <a href=\"https://cornelldti.org\">\n              Cornell Design &amp; Tech Initiative\n              {' '}\n              <img src={logoLink} alt=\"external link\" />\n            </a>\n          </p>\n        </footer>\n      </div>\n    </div>\n  );\n\n  const loadingScreen = (\n    <div className={styles.Login}>\n      <section className={styles.LoginSection}>\n        <div>\n          <h1>Samwise</h1>\n          <p>A Student Planner for Everyone</p>\n          <h3>Loading...</h3>\n        </div>\n      </section>\n      <div className={styles.LoginWrapper}>\n        <img src={screenshot} alt=\"Samwise screenshot\" />\n      </div>\n      <footer className={styles.LoginFooter}>\n        <a href=\"https://cornelldti.org\">\n          <img\n            src={dtiLogo}\n            alt=\"Cornell DTI\"\n          />\n        </a>\n      </footer>\n    </div>\n  );\n\n  return loginStatus === false ? loginScreen : loadingScreen;\n}\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost'\n    // [::1] is the IPv6 localhost address.\n    || window.location.hostname === '[::1]'\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    || window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/,\n    ),\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config): void {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\n      window.location.href,\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        // eslint-disable-next-line no-use-before-define, @typescript-eslint/no-use-before-define\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          // eslint-disable-next-line no-console\n          console.log(\n            'This web app is being served cache-first by a service '\n              + 'worker. To learn more, visit https://bit.ly/CRA-PWA',\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        // eslint-disable-next-line no-use-before-define, @typescript-eslint/no-use-before-define\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config): void {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      // eslint-disable-next-line no-param-reassign\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              // eslint-disable-next-line no-console\n              console.log(\n                'New content is available and will be used when all '\n                  + 'tabs for this page are closed. See https://bit.ly/CRA-PWA.',\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              // eslint-disable-next-line no-console\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      // eslint-disable-next-line no-console\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config): void {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404\n        || (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      // eslint-disable-next-line no-console\n      console.log(\n        'No internet connection found. App is running in offline mode.',\n      );\n    });\n}\n\nexport function unregister(): void {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then((registration) => {\n      registration.unregister();\n    });\n  }\n}\n","import React, { ReactElement } from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport { error } from 'common/lib/util/general-util';\nimport { Provider as ReactReduxProvider } from './store';\nimport App from './App';\nimport './firebase'; // import and init firebase\nimport ErrorBoundary from './components/Util/ErrorBoundary';\nimport LoginBarrier from './components/Util/AppInit/LoginBarrier';\nimport { initialize as initializeGA } from './util/ga-util';\nimport { registerGateKeeper } from './util/gate-keeper';\nimport { initModal } from './components/Util/Modals';\nimport * as serviceWorker from './serviceWorker';\n\ninitializeGA();\nregisterGateKeeper();\n\nconst appRenderer = (): ReactElement => (\n  <ReactReduxProvider><App /></ReactReduxProvider>\n);\n\nconst root = document.getElementById('root') ?? error('The root is null. This is bad!');\nReactDOM.render(<ErrorBoundary><LoginBarrier appRenderer={appRenderer} /></ErrorBoundary>, root);\ninitModal();\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"FocusView\":\"FocusView_FocusView__3FKaF\",\"FocusTaskContainer\":\"FocusView_FocusTaskContainer__3IGhJ\",\"ControlBlock\":\"FocusView_ControlBlock__32HHr\",\"Title\":\"FocusView_Title__tBDV0\",\"Padding\":\"FocusView_Padding__24zgT\",\"Droppable\":\"FocusView_Droppable__3rRrd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Separator\":\"CompletedSeparator_Separator__VC0G-\",\"Text\":\"CompletedSeparator_Text__2UpC4\",\"Icon\":\"CompletedSeparator_Icon__3oe_3\",\"Inverted\":\"CompletedSeparator_Inverted__ofIDb\",\"Line\":\"CompletedSeparator_Line__1-SNS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ProgressIndicator\":\"ProgressIndicator_ProgressIndicator__1rzLx\",\"ProgressText\":\"ProgressIndicator_ProgressText__Lnp4X\",\"ProgressCountText\":\"ProgressIndicator_ProgressCountText__9Z09G\",\"ProgressOtherText\":\"ProgressIndicator_ProgressOtherText__1eTEn\",\"ProgressBarContainer\":\"ProgressIndicator_ProgressBarContainer__2OS2A\",\"ProgressBarIndicator\":\"ProgressIndicator_ProgressBarIndicator__CDu8-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"SelectTypeWrap\":\"DatePicker_SelectTypeWrap__3pQiv\",\"SelectType\":\"DatePicker_SelectType__1yXS0\",\"SubtleBtn\":\"DatePicker_SubtleBtn__2ADv5\",\"RepeatIcon\":\"DatePicker_RepeatIcon__1qB80\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ChoiceModal\":\"ChoiceModal_ChoiceModal__1ggWm\",\"TextContainer\":\"ChoiceModal_TextContainer__cuVkC\",\"ButtonContainer\":\"ChoiceModal_ButtonContainer__1D2nH\",\"Filler\":\"ChoiceModal_Filler__2DdYE\",\"ChoiceButton\":\"ChoiceModal_ChoiceButton__2rk2w\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Member\":\"Member_Member__d9ZOv\",\"Initials\":\"Member_Initials__xKeSo\",\"MemberIcon\":\"Member_MemberIcon__3W29Q\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"TaskView\":\"App_TaskView__1fMwU\",\"Container\":\"App_Container__10KOh\",\"MainView\":\"App_MainView__1tHu3\",\"GroupScreen\":\"App_GroupScreen__3SWn8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Main\":\"Celebrate_Main__fqfoz\",\"Hidden\":\"Celebrate_Hidden__LrZzK\",\"ConfWrap\":\"Celebrate_ConfWrap__3xTSx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ColorEdit\":\"ColorEditor_ColorEdit__3BjCT\",\"ColorPicker\":\"ColorEditor_ColorPicker__3w2D7\",\"ColorDisplay\":\"ColorEditor_ColorDisplay__1p3SU\",\"Arrow\":\"ColorEditor_Arrow__1iJ8b\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"TagColorConfigItemAdder\":\"TagAdder_TagColorConfigItemAdder__1pGsu\",\"SearchClasses\":\"TagAdder_SearchClasses__1JbN9\",\"SearchInput\":\"TagAdder_SearchInput__3EZnt\",\"DropdownItem\":\"TagAdder_DropdownItem__3IHqN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"CheckBox\":\"CheckBox_CheckBox__1GrIM\",\"InvertedCheckBox\":\"CheckBox_InvertedCheckBox__jZFin\",\"CheckBoxCheckMark\":\"CheckBox_CheckBoxCheckMark__14SZG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ProgressTracker\":\"ProgressTracker_ProgressTracker__1Ma80\",\"MobileView\":\"ProgressTracker_MobileView__1bYJT\",\"DesktopView\":\"ProgressTracker_DesktopView__1nKLF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Main\":\"TitleBar_Main__3xkfz\",\"Time\":\"TitleBar_Time__L3LqS\",\"Date\":\"TitleBar_Date__2oPjx\",\"Links\":\"TitleBar_Links__o3HYj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"SideBar\":\"SideBar_SideBar__3R8Gm\",\"PersonalViewButton\":\"SideBar_PersonalViewButton__2n59U\",\"PlusIcon\":\"SideBar_PlusIcon__1CRss\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Banner\":\"Banner_Banner__-ZFiI\",\"Text\":\"Banner_Text__QX2CG\",\"DismissButton\":\"Banner_DismissButton__2Wjx7\"};"],"sourceRoot":""}