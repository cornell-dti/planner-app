{"version":3,"sources":["components/Util/TaskEditors/TaskEditor/index.module.css","App.module.css","components/TitleBar/Canvas/CanvasCalendar.module.css","components/SideBar/AddGroupTags.module.css","components/TitleBar/Banner/index.module.css","components/TaskCreator/Picker.module.css","components/SideBar/GroupIcon.module.scss","components/UI/OverdueAlert.module.css","components/Util/TaskEditors/TaskEditor/RepeatFrequencyHeader.module.css","components/Util/TaskEditors/FloatingTaskEditor.module.css","components/TitleBar/Settings/SettingsPage.module.css","components/TaskView/FutureView/FutureViewDayTaskContainer.module.css","components/TaskView/FutureView/FutureViewNDays.module.css","components/GroupView/MiddleBar/TaskQueue/index.module.css","components/TaskView/FutureView/FutureViewTask.module.css","components/TaskCreator/index.module.css","components/TaskView/FutureView/FutureViewControl.module.scss","components/TitleBar/Onboarding/Onboard.module.scss","components/TaskCreator/GroupTaskCreator.module.css","components/UI/ModeIndicator.module.css","components/Util/Modals/ChoiceModal.module.css","assets/tutorial/t1.png","assets/tutorial/t2.png","assets/tutorial/t3.png","assets/tutorial/t4.png","assets/tutorial/t5.png","assets/tutorial/t6.png","components/Util/TagListPicker/TagListPicker.module.css","components/TaskView/FocusView/FocusTask.module.css","components/TaskView/FutureView/FutureViewSevenColumns.module.css","assets/bear/happy-bear.png","assets/bear/regular-bear.png","components/TaskView/ProgressTracker/Bear.module.css","components/GroupView/MiddleBar/index.module.scss","components/GroupView/RightView/GroupTaskRow/GroupTasksContainer.module.css","components/GroupView/RightView/GroupTaskRow/GroupTask.module.css","components/GroupView/index.module.css","assets/error/frontendCrash.png","components/Util/AppInit/Login.module.css","assets/splash/wordmark.png","assets/splash/header_final.png","assets/splash/samwise_logo.svg","assets/splash/splash_top_image.svg","assets/splash/splash_peak_bear.svg","assets/splash/blue.svg","assets/splash/screenshot.png","assets/splash/splash_mid_image.svg","assets/splash/feature1.svg","assets/splash/feature2.svg","assets/splash/feature3.svg","assets/splash/heart_logo.svg","assets/splash/link_logo.svg","components/TaskView/index.module.css","components/TitleBar/Tags/TagItem.module.css","components/UI/SquareButtons.module.scss","components/TaskView/FutureView/FutureViewDay.module.scss","../../common/lib/util/general-util.js","../../common/lib/util/tag-util.js","store/state.ts","store/reducers.ts","store/store.ts","store/index.tsx","components/UI/ModeIndicator.tsx","util/mode-util.ts","assets/svgs/alert.svg","assets/svgs/bell.svg","assets/svgs/calendar-dark.svg","assets/svgs/calendar-light.svg","assets/svgs/checked-dark.svg","assets/svgs/checked.svg","assets/svgs/clock.svg","assets/svgs/exit.svg","assets/svgs/grabbers.svg","assets/svgs/hide.svg","assets/svgs/hug.svg","assets/svgs/pencil.svg","assets/svgs/personal-view.svg","assets/svgs/pin-2-dark-filled.svg","assets/svgs/pin-2-dark-outline.svg","assets/svgs/pin-2-light-filled.svg","assets/svgs/pin-2-light-outline.svg","assets/svgs/poke.svg","assets/svgs/repeat.svg","assets/svgs/repeat-light.svg","assets/svgs/settings.svg","assets/svgs/show.svg","assets/svgs/tag.svg","assets/svgs/tag-light.svg","assets/svgs/unchecked.svg","assets/svgs/v.svg","assets/svgs/XDark.svg","assets/svgs/XLight.svg","assets/svgs/repeat-frequency.svg","assets/svgs/user-plus.svg","assets/svgs/add-task.svg","assets/svgs/edit.svg","components/UI/SamwiseIcon.tsx","components/TitleBar/Tags/ListColors.ts","components/TitleBar/Tags/ColorEditor.tsx","../../common/lib/firebase/order-manager.js","../../common/lib/firebase/common-actions.js","util/ga-util.ts","firebase/auth-util.ts","firebase/db.ts","../../common/lib/firebase/database.js","firebase/id-provider.ts","firebase/actions.ts","components/TitleBar/Tags/TagItem.tsx","components/Util/SearchBox/DropdownItem.tsx","components/Util/SearchBox/index.tsx","components/TitleBar/Tags/rotation-color-picker.ts","components/TitleBar/Tags/ClassTagAdder.tsx","components/TitleBar/Tags/OtherTagAdder.tsx","components/Util/Modals/ChoiceModal.tsx","components/Util/Modals/TextInputModal.tsx","components/Util/Modals/index.tsx","components/TitleBar/Canvas/CanvasCalendar.tsx","components/TitleBar/Settings/SettingsPage.tsx","components/TitleBar/Settings/SettingsButton.tsx","components/SideBar/GroupIcon.tsx","components/SideBar/AddGroupTags.tsx","components/SideBar/index.tsx","../../common/lib/util/bitwise-util.js","../../common/lib/util/task-util.js","components/TitleBar/Banner/messages.ts","store/selectors.ts","components/Popup/AllComplete/index.tsx","components/TitleBar/Onboarding/Onboard.tsx","../../common/lib/util/datetime-util.js","components/Util/TagListPicker/TagPickerItem.tsx","components/Util/TagListPicker/TagListPicker.tsx","components/TaskCreator/TagPicker.tsx","hooks/time-hook.ts","../../common/lib/util/const-util.js","components/TaskCreator/DatePicker.tsx","components/TaskCreator/FocusPicker.tsx","components/TaskCreator/index.tsx","hooks/window-size-hook.ts","../../common/lib/util/order-util.js","components/UI/SquareTextButton.tsx","components/TaskView/FocusView/ClearFocus.tsx","components/TaskView/FocusView/CompletedSeparator.tsx","util/task-util.ts","components/UI/OverdueAlert.tsx","components/Util/TaskEditors/TaskEditor/RepeatFrequencyHeader.tsx","components/Util/TaskEditors/TaskEditor/EditorHeader.tsx","components/UI/CheckBox.tsx","components/Util/TaskEditors/TaskEditor/MainTaskEditor.tsx","components/Util/TaskEditors/TaskEditor/NewSubTaskEditor.tsx","components/Util/TaskEditors/TaskEditor/OneSubTaskEditor.tsx","components/Util/TaskEditors/TaskEditor/task-diff-reducer.ts","components/Util/TaskEditors/TaskEditor/index.tsx","components/Util/TaskEditors/InlineTaskEditor.tsx","components/TaskView/FocusView/FocusTask.tsx","components/TaskView/FocusView/index.tsx","components/UI/SquareIconToggle.tsx","components/TaskView/FutureView/FutureViewControl.tsx","components/Util/TaskEditors/FloatingTaskEditor.tsx","components/TaskView/FutureView/FutureViewSubTask.tsx","components/TaskView/FutureView/FutureViewTask.tsx","components/TaskView/FutureView/FutureViewDayTaskContainer.tsx","components/TaskView/FutureView/FutureViewDayContent.tsx","components/TaskView/FutureView/FutureViewDay.tsx","components/TaskView/FutureView/FutureViewNDays.tsx","components/TaskView/FutureView/FutureViewSevenColumns.tsx","components/TaskView/FutureView/index.tsx","components/TaskView/ProgressTracker/Bear.tsx","components/TaskView/ProgressTracker/ProgressIndicator.tsx","components/TaskView/ProgressTracker/index.tsx","components/TaskView/index.tsx","components/TitleBar/Banner/index.tsx","components/TitleBar/index.tsx","PersonalView.tsx","components/GroupView/MiddleBar/People/Member.tsx","components/GroupView/MiddleBar/People/index.tsx","components/GroupView/MiddleBar/TaskQueue/index.tsx","components/GroupView/MiddleBar/index.tsx","components/GroupView/RightView/GroupTaskRow/GroupTask.tsx","components/GroupView/RightView/GroupTaskRow/GroupTasksContainer.tsx","components/GroupView/RightView/GroupTaskRow/index.tsx","components/TaskCreator/GroupMemberPicker.tsx","firebase/index.ts","components/TaskCreator/GroupTaskCreator.tsx","components/GroupView/RightView/index.tsx","components/GroupView/index.tsx","ViewSwitcher.tsx","util/gate-keeper.ts","App.tsx","components/Util/ErrorBoundary/index.tsx","store/actions.ts","firebase/listeners.ts","../../common/lib/util/courses-util.js","components/Util/AppInit/LoginBarrier.tsx","serviceWorker.ts","index.tsx","components/Util/Modals/TextInputModal.module.css","components/Util/Modals/Modal.module.css","components/SideBar/index.module.css","components/TaskView/FocusView/index.module.css","components/TaskView/FocusView/CompletedSeparator.module.scss","components/TaskView/ProgressTracker/ProgressIndicator.module.scss","components/TaskCreator/DatePicker.module.css","components/GroupView/MiddleBar/People/Member.module.css","components/GroupView/RightView/index.module.css","components/TitleBar/Tags/ColorEditor.module.css","components/TitleBar/Tags/TagAdder.module.css","components/TitleBar/Settings/SettingsButton.module.css","components/Popup/AllComplete/Celebrate.module.css","components/UI/CheckBox.module.css","components/TaskView/ProgressTracker/index.module.css","components/TitleBar/index.module.css","components/GroupView/MiddleBar/People/index.module.css","components/GroupView/RightView/GroupTaskRow/index.module.css"],"names":["module","exports","randomId","String","Date","getTime","ignore","error","message","Error","shallowEqual","a","b","aKeys","Object","keys","bKeys","l","length","i","aKey","bKey","NONE_TAG_ID","NONE_TAG","id","order","name","color","classId","initialState","tags","Map","tasks","missingSubTasks","orphanSubTasks","dateTaskMap","repeatedTaskSet","Set","settings","canvasCalendar","completedOnboarding","theme","bannerMessageStatus","courses","initialStateForTesting","foo","tag","complete","inFocus","children","metadata","type","date","bar","baz","toDateString","CS2112","courseId","subject","courseNumber","title","examTimes","time","patchTags","state","created","edited","deleted","newTags","withMutations","forEach","t","set","delete","normalizeTaskChildrenOrder","task","sort","patchTasks","newDateTaskMap","m","key","get","of","add","oldTask","oldKey","oldBucket","remove","newRepeatedTaskSet","s","missingSubTasksMap","orphanSubTasksToClear","newTasks","unfoldSubTasks","taskId","subTaskIds","existingSubTasks","newIdSet","unfolded","subTask","has","push","orphanSubTask","dirtyMainTaskIds","createdMainTask","mainTaskRest","updatedChildren","mainTask","editedMainTask","mainTaskId","update","updatedMissingSubTasks","map","subTaskId","updatedOrphanSubTasks","deleteAll","patchSubTasks","existingSubTaskToTaskMap","Array","from","entries","missingSubTaskToClear","newOrphanSubTasks","updatedTasks","mutableTaskMap","createdSubTask","editedSubTask","deletedSubTaskId","filter","mutableOrphanSubTasks","patchSettings","patchBannerMessageStatus","change","patchCourses","rootReducer","action","store","createStore","Provider","ConfigurableModeIndicator","mode","className","styles","Indicator","_extends","assign","target","arguments","source","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","createElement","fill","fillRule","cx","cy","r","stroke","strokeWidth","strokeLinejoin","d","_ref","svgRef","props","viewBox","ref","ForwardRef","forwardRef","fillOpacity","strokeLinecap","width","height","x","y","rx","opacity","clipPath","mask","vectorEffect","style","isolation","transform","xlinkHref","SamwiseIcon","SvgComponent","altText","iconName","otherProps","Alert","Bell","CalendarDark","CalendarLight","CheckedDark","CheckedLight","Clock","Exit","Grabber","Hide","Hug","Pencil","PersonalView","PinDarkFilled","PinDarkOutline","PinLightFilled","PinLightOutline","Poke","Repeat","RepeatLight","Settings","Show","Tag","TagLight","Unchecked","DropDown","XDark","XLight","RepeatFrequency","UserPlus","AddTask","Edit","allPropsToSvg","alt","tabIndex","onKeyUp","e","stopPropagation","onClick","defaultProps","undefined","colMap","colArray","ColorEditor","onChange","React","useState","doesShowEditor","setDoesShowEditor","ColorEdit","toLowerCase","ColorDisplay","backgroundColor","Arrow","ColorPicker","onChangeComplete","hex","triangle","colors","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","rejected","result","done","then","OrderManager","database","getUserEmail","allocateNewOrder","orderFor","count","orderManagerCollection","doc","forTags","db","runTransaction","transaction","docInTransaction","exists","newManager","tagsMaxOrder","tasksMaxOrder","manager","data","newOrder","__rest","p","reportEvent","eventType","firebase","analytics","logEvent","reportAddTagEvent","reportEditTagEvent","reportDeleteTagEvent","reportAddSubTaskEvent","reportEditSubTaskEvent","reportDeleteSubTaskEvent","firebaseUser","uid","displayName","email","getIdToken","token","appUser","getAppUser","firebaseSignOut","auth","signOut","firestore","collection","settingsCollection","bannerMessageStatusCollection","tagsCollection","tasksCollection","subTasksCollection","getNewTaskId","actions","createFirestoreObject","orderManager","owner","addTag","firebaseTag","editTag","rest","removeTag","where","batch","docs","commit","mergeWithOwner","obj","getState","values","some","asyncAddTask","newTaskId","subTasks","baseTask","createdSubTasks","subtask","firebaseSubTask","subtaskDoc","subtaskIds","firestoreTask","addTask","removeAllForks","forkIds","forks","fork","forkId","forkedTask","handleTaskDiffs","subTaskCreations","subTaskEdits","subTaskDeletions","mainTaskEdits","size","newSubTaskDoc","FieldValue","arrayUnion","partialSubTask","arrayRemove","editTaskWithDiff","editType","forkTaskWithDiff","replaceDate","repeatingTaskMaster","originalTaskWithoutId","newMainTask","newSubTasks","subTaskContent","subTaskEdit","removeTask","repeatedTaskId","repeatedTask","oldForks","needUpdateFork","newForks","editMainTask","diff","dateEdit","newDiff","editSubTask","subtaskId","applyReorder","reorderMap","completeOnboarding","setCanvasCalendar","importCourseExams","allCoursesWithId","course","courseType","examName","getFullYear","getMonth","getDate","getHours","newTask","startOrder","newOrderedTasks","transformedTask","alert","TagItem","isClass","nameSplit","split","nameNode","display","TagName","ClassExpandedTitle","trim","currentTarget","TagEdit","ColorConfigItem","DeleteTag","confirm","item","onSelect","placeholder","fuse","inputClassname","dropdownItemClassName","searchInput","searchResults","setState","onResultSelected","event","input","newResults","search","DropdownItem","allAvailableColors","colorMap","getUnusedColor","usedColorSet","find","c","getUnusedColorForTesting","fuseConfigs","location","threshold","distance","Memoized","memo","TagColorConfigItemAdder","SearchClasses","SearchBox","SearchInput","option","Connected","connect","Fuse","courseMap","courseOptions","noSpaceName","replace","getCourseOptions","OtherTagAdder","editColor","editName","onSubmit","AddTagName","onKeyDown","PureComponent","ChoiceModal","open","choices","onChoicePick","isOpen","modalStyles","Modal","contentLabel","TextContainer","ButtonContainer","Filler","choiceStyles","ChoiceButton","subText","label","submitButtonText","inputType","onInputSubmit","onCancel","setInput","textInputModalStyles","TextInputModal","Title","SubText","TextInput","CancelButton","SubmitButton","dummyChoiceModalProps","dummyTextInputModalProps","currentChoiceModalSetter","currentTextInputModalSetter","promptChoice","choiceModalProps","pickedChoice","confirmCancelChoices","CANCEL","CONFIRM","promptConfirm","ChoiceModalWrapper","setChoiceModalProps","useEffect","promptTextInput","textInputModalProps","TextInputModalWrapper","setTextInputModalProps","ModalsContainer","linked","settingStyles","SettingsSection","SettingsSectionTitle","SettingsSectionContent","CalendarForm","SettingsButton","join","preventDefault","iCalLink","confirmed","CalendarInput","HelpButton","href","wordBreak","ClassAdder","ExamImporter","TagsContainer","ColorConfigItemList","classTags","otherTags","renderTags","arr","FinalRowButtonContainer","FinalRowButton","SignButton","FeedbackButton","rel","Padding","ReplayTutorialButton","showSettings","setShowSettings","SettingsModal","CloseButton","ContentWrap","classCode","handleClick","selected","GroupIcon","Active","charAt","AddGroupTags","show","setShow","classes","onMouseEnter","onMouseLeave","ClassItem","Color","groups","changeView","showDropdown","setShowDropdown","setSelected","handleIconClick","view","group","SideBar","PersonalViewButton","GroupIcons","g","AddGroup","PlusIcon","icon","faPlus","Links","isBitSet","bit","totalLen","unsetDayOfWeek","index","unsetBit","isDayOfWeekSet","getFilteredNotCompletedInFocusTask","getFilteredCompletedInFocusTask","dateMatchRepeatPattern","pattern","bitSet","getDay","dateMatchRepeats","startDate","endDate","dateString","repeatCount","passedRepeats","currentDate","setDate","messages","messageIdCollection","findMessageToDisplay","status","messageId","createSetEqualSelector","createSelectorCreator","defaultMemoize","equals","getTasks","getDateTaskMap","getRepeatedTaskSet","getOrderedTags","createSelector","getTasksInFocus","createGetIdOrderListByDateSelectors","ids","toArray","getProgress","inFocusTasks","completedTasksCount","allTasksCount","reduce","acc","getFocusViewProps","progress","taskMetaDataList","filteredUncompletedTask","filteredCompletedTask","inFocusView","inCompleteFocusView","getBannerMessage","setProgress","percent","shouldShow","showClass","Main","Hidden","ConfWrap","active","config","angle","spread","startVelocity","elementCount","dragFriction","duration","delay","taggedImages","src","Tutorial1","Tutorial2","Tutorial3","Tutorial4","Tutorial5","Tutorial6","AddClassOnBoarding","showNext","addExam","setAddExam","padding","HeroIntroText","ImportExamContainer","htmlFor","checked","SignButtonContainer","SlidesOnBoarding","goBack","skipTutorial","nextButtonRef","useRef","buttonDOM","current","focus","ModalWrap","TutorialModal","TutorialImg","ModalOptions","marginRight","prev","onboardingContainerStyle","overflowY","background","Hero","shouldImport","date2String","toLocaleDateString","month","day","getTodayAtZeroAM","setHours","isToday","today","getDateWithDateString","newDate","dateInfo","setFullYear","setMonth","TagPickerItem","onTagChange","items","slice","localeCompare","NewTaskClass","getTag","opened","onPickerOpened","clickPicker","pressedPicker","reset","isDefault","internal","TagDisplay","CenterIcon","ResetButton","role","onKeyPress","Label","displayedNode","NewTaskClassPick","currentTime","testTime","handlers","setInterval","handler","useDate","currentDateString","setCurrentDateString","newTime","newTimeDateString","useTodayLastSecondTime","LAST_DAY_OF_CLASS","LAST_DAY_OF_EXAMS","weekDays","DatePicker","datePicked","inGroupView","onDateChange","onClearPicker","todayFirstSecond","useTodayFirstSecondTime","todayLastSecond","checkedWeeks","calOpened","repeatEnd","weeks","internalDate","setInternalDate","handleClickWeekday","val","parseInt","setBit","weekdayPickers","isDaySet","handleClickEnd","newType","testSetEndSem","endPicker","dateStyles","SubtleBtn","minDate","calendarType","RepeatSpecialEndDate","min","max","openedRepeat","RepeatOpened","RepeatPickDayWrap","RepeatPickEndWrap","EndPicker","DateDisplay","RepeatIcon","bitset","currDay","genNextValidDay","NewTaskDatePickGroup","NewTaskDatePick","SelectTypeWrap","SelectType","toString","isArray","NewTaskDateSave","oneDay","getDateAfterXWeeks","FocusPicker","pinned","onPinChange","pinIconName","tagPickerOpened","datePickerOpened","needToSwitchFocus","TaskCreator","darkModeStyle","openNewTask","closeNewTask","openTagPicker","openDatePicker","focusTaskName","handleSave","commonTask","setMinutes","setSeconds","blur","editTaskName","editDate","Boolean","clearDate","togglePin","addNewSubTask","newSubTaskName","newSubTaskKeyPress","submitSubTask","deleteSubTask","resetTask","TitleText","NewTaskActive","TagPickWrap","SubmitNewTask","SubtitleText","DescText","NewTaskModal","SubtasksContainer","SubtasksList","inputElementRef","EditIcon","SubtaskInput","toggleDisplayStyle","CloseNewTask","NewTaskWrap","onFocus","required","NewTaskComponent","renderOtherInfoEditor","getWindowSize","window","innerWidth","innerHeight","cachedWindowSize","hasUnreportedChange","listeners","listenerSize","bindListener","listener","useWindowSizeCallback","setSize","useMappedWindowSize","f","mappedValue","setMappedValue","windowSize","newMappedValue","addEventListener","newSize","computeReorderMap","originalList","sourceOrder","destinationOrder","list","testSorted","orders","testOrderUnique","element","getReorderedList","sortedList","SquareButton","SquareButtonTextButton","SquareTextButton","text","SquareButtonText","taskIds","clearFocus","notInverted","doesShowCompletedTasks","onDoesShowCompletedTasksChange","Separator","Text","Icon","Inverted","Line","repeatedTaskEditChoices","CANCEL_CHANGES","CHANGE_MASTER_TEMPLATE","FORK","repeatedTaskEditMasterConfirm","removeTaskFullChoices","CANCEL_REMOVE","REMOVE_ALL","REMOVE_ONE","removeTaskPartialChoices","removeRepeatingTask","prompt","removeOneRepeatedTask","removeTaskWithPotentialPrompt","removeOneTimeTask","OverdueAlert","OverdueAlertInTaskCard","OverdueAlertInFutureView","absolutePosition","arrOfWeeks","getRepeatedDays","frequency","binary","DAYS_IN_WEEK","bitsetToBinaryCount","patternType","patternTypeToString","repeatedDays","binaryFrequency","Math","round","reverse","getRepeatingPattern","repeatedTaskIds","repeatingTask","j","Header","calendarIconClass","TaskEditorIconButton","TaskEditorIcon","EditorHeader","displayGrabber","calendarPosition","icalUID","doesShowTagEditor","doesShowDateEditor","editorDisplayStatus","setEditorDisplayStatus","headerClassName","TaskEditorFlexibleContainer","TaskEditorHeader","tagDisplay","TaskEditorTag","tagEditor","TaskEditorTagEditor","dateDisplay","dateEditor","TaskEditorCalendarTop","TaskEditorCalendarBottom","isCanvasTask","TaskEditorGrabberIcon","TaskEditorFlexiblePadding","CheckBox","disabled","inverted","allClassNames","InvertedCheckBox","defaultChecked","CheckBoxCheckMark","deleteIconClass","TaskEditorIconLeftPad","taskDate","dateAppeared","onRemove","onPressEnter","replaceDateForFork","TaskEditorCheckBox","data-lpignore","TaskEditorStrikethrough","TaskEditorFlexibleInput","newValue","NewSubTaskEditor","onFirstType","needToBeFocused","editorRef","currentElement","newSubTaskValue","TaskEditorSubtaskCheckBox","mainTaskComplete","editThisSubTask","removeSubTask","onBlur","curr","emptyDiff","diffIsEmpty","initializer","prevFullTask","reducer","restState","newSubTask","prevChange","useTaskDiffReducer","initMainTask","initSubTasks","useReducer","dispatch","shallowArrayEqual","dispatchEditMainTask","dispatchAddSubTask","dispatchEditSubTask","dispatchDeleteSubTask","taskAppearedDate","newSubTaskAutoFocused","onSaveClicked","subTaskToFocus","setSubTaskToFocus","canvasLinked","onSave","useCallback","saveChoice","correctDate","diffForFork","onSaveButtonClicked","pressEnterHandler","caller","focused","subtaskOrder","isOverdue","formStyle","border","actualClassName","TaskEditor","intervalID","clearInterval","TaskEditorSubTasksIndentedContainer","SubtaskHide","maxHeight","firstTypedValue","SaveButtonRow","SaveButton","SaveButtonText","InlineTaskEditor","original","filtered","setDisabled","filterCompleted","draggableId","provided","innerRef","draggableProps","dragHandleProps","FocusTask","renderTaskList","localTasks","setLocalTasks","setDoesShowCompletedTasks","localCompletedList","localUncompletedList","idOrder","FocusView","ControlBlock","FocusTaskContainer","onDragEnd","destination","droppableId","dest","completedTaskIdOrder","taskReplacer","prevTasks","completedList","newCompletedList","completeTaskInFocus","droppableProps","Droppable","CompletedSeparator","SquareIconToggle","iconNames","onToggle","activeIconName","inactiveIconName","SquareButtonIconButton","ControlPadding","getMonthlyViewHeaderTitle","monthOffset","year","getBiWeeklyViewHeaderTitle","biweeklyOffset","startString","endString","NavControl","containerType","futureViewOffset","changeOffset","isSmallScreen","prevHandler","nextHandler","prevStyle","left","nextStyle","right","NavButtonPrev","NavButtonNDays","NavButtonNext","DisplayOptionControl","nDays","displayOption","offset","renderContainerTypeSwitcherButton","ContainerTypeSwitcherButton","ContainerTypeSwitcherActiveButton","newContainerType","dayOffset","newOffset","floor","switchContainerType","ContainerTypeSwitcherButtonText","faEyeSlash","faEye","ContainerTypeSwitcher","FutureViewControl","todayTime","instruction","updateFloatingEditorPosition","editorPosDiv","position","taskElement","previousElementSibling","HTMLDivElement","taskElementBoundingRect","getBoundingClientRect","DOMRect","posTop","posLeft","posRight","myHeight","offsetHeight","windowWidth","windowHeight","top","FloatingTaskEditor","initialTask","trigger","setOpen","closePopup","Editor","BackgroundBlocker","mainTaskCompleted","SubTask","SubTaskCheckBox","TaskText","textDecoration","TaskIcon","getCompoundTask","filteredSubTasks","ownProps","compoundTask","containerDate","inNDaysView","taskEditorPosition","isInMainList","replaceDateForForkOpt","TaskCheckBox","TaskName","tagStyle","RemoveTaskIcon","Placeholder","hide","PinIcon","RepeatingIcon","TaskIconNoHover","renderMainTaskInfo","simplified","TaskMainWrapper","overdueComponentOpt","opener","onClickHandler","HTMLElement","getOnClickHandler","zIndex","mainTasks","subtasks","Task","isDragDisabled","existingSelector","selector","dateObj","idOrderList","createGetIdOrderListByDate","onHeightChange","containerRef","prevHeights","setPrevHeights","containerNode","tasksHeight","scrollHeight","containerHeight","clientHeight","prevTasksHeight","prevContainerHeight","overflowThreshold","document","documentElement","taskListComponent","Container","inMainList","containerStyle","paddingTop","DateInfo","DateInfoDay","day2String","DateNum","dummyHeightInfo","doesOverflow","wrapperCssClass","heightInfo","setHeightInfo","componentDivRef","darkModeStyles","NDaysView","Today","OtherViews","FutureViewNDays","days","gridTemplateColumns","Column","interval","styleString","numRows","ceil","templateStyleString","gridStyle","gridTemplateRows","FutureViewSevenColumns","futureViewConfigProvider","buildDaysInFutureView","hasAdditionalDays","computeStartAndEndDay","simpleDate","FutureView","onConfigChange","daysContainer","dayTaskSet","inMobileView","backgroundImage","HappyBear","RegularBear","margin","Bear","ProgressBar","percentage","marginLeft","marginBottom","innerStyle","ProgressBarContainer","ProgressBarIndicator","ProgressIndicator","flexDirection","textStyle","fractionString","ProgressText","ProgressCountText","ProgressOtherText","mobileViewStyle","ProgressTracker","MobileView","desktopViewStyle","DesktopView","containerClass","FocusPanel","classNames","names","doesShowFocusViewInWideScreen","setDoesShowFocusViewInWideScreen","doesShowFutureViewInSmallScreen","setDoesShowFutureViewInSmallScreen","setConfig","screenIsSmall","toggleFocusViewInWideScreen","switchView","FuturePanel","FuturePanelContainer","showFocusView","taskView","TaskView","ViewSwitcher","wrapperStyle","buttonStyle","faChevronLeft","faChevronRight","iconClass","FocusViewToggleIconFocusViewShow","FocusViewToggleIconFocusViewHide","FocusViewToggleWrapper","FocusViewToggle","Banner","DismissButton","bannerMessageId","isRead","docRef","readBannerMessage","setTime","useTime","date2FullDateString","timeString","toLocaleTimeString","hour","minute","Time","memberName","initials","Member","Initials","Plus","MemberIcon","confirmLeaveGroup","console","log","promptAddMember","groupMemberNames","People","MemberList","AddMember","LeaveGroup","EmptyTaskQueue","TaskQueue","MiddleBar","GroupTask","GroupTasksContainer","clickAddGroupTask","pressedAddGroupTask","GroupTaskRow","AddTaskContainer","firebaseConfig","GroupTaskCreator","EditGroupNameIcon","groupName","RightView","GroupTaskRowContainer","members","GroupView","setView","setGroup","GroupScreen","selectedView","selectedGroup","GK_GROUP_TASK","GateKeeper","enableGroupTask","localStorage","setItem","reload","disableGroupTask","removeItem","GROUP_TASK_ENABLED","getItem","App","ModeIndicator","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","initializeApp","ErrorBoundary","hasError","ignoreError","info","FrontendCrash","objectFit","objectPosition","bottom","textAlign","fontSize","transformDate","dateOrTimestamp","toDate","onFirstFetched","firstTagsFetched","firstTasksFetched","firstSubTasksFetched","firstSettingsFetched","firstBannerStatusFetched","reportFirstFetchedIfAllFetched","ownerEmail","unmountTagsListener","snapshot","docChanges","onSnapshot","unmountTasksListener","listenTasksChange","childrenArr","taskCommon","timestamp","oneTimeTaskRest","groupTaskRest","firestoreForks","firestoreRepeats","otherTaskProps","firestoreFork","unmountSubTasksListener","listenSubTasksChange","unmountSettingsListener","listenSettingsChange","unmountBannerStatusListener","listenBannerMessageChange","coursesJson","existingCourses","uiConfig","signInFlow","signInOptions","provider","GoogleAuthProvider","PROVIDER_ID","customParameters","hd","signInSuccessUrl","callbacks","signInSuccessWithAuthResult","hostname","match","screenName","root","getElementById","ReactDOM","render","appRenderer","loginStatus","setLoginStatus","loaded","setLoaded","onAuthStateChanged","user","toAppUser","currentUserFromFirebase","endsWith","setUserId","setGAUser","cacheAppUser","initListeners","loginScreen","Landing","samwiseLogo","LandingHeroWrap","splashTopImage","LandingHeroLogin","splashPeakBear","firebaseAuth","LandingLower","blueCurve","LandingBlue","splashScreenshot","LandingScreenshot","splashMidImage","LandingMidImg","feature1","LandingFeatures","feature2","feature3","logoHeart","logoLink","loadingScreen","Login","LoginSection","LoginWrapper","screenshot","LoginFooter","dtiLogo","setAppElement","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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CAK/E,OAAQD,GACN,IAAK,QACHF,EAAeI,EACfH,EAAU,QACV,MACF,IAAK,OACHD,EAAeK,EACfJ,EAAU,SACV,MACF,IAAK,gBACHD,EAAeM,GACfL,EAAU,WACV,MACF,IAAK,iBACHD,EAAeO,GACfN,EAAU,WACV,MACF,IAAK,eACHD,EAAeQ,GACfP,EAAU,UACV,MACF,IAAK,gBACHD,EAAeS,GACfR,EAAU,UACV,MACF,IAAK,QACHD,EAAeU,GACfT,EAAU,QACV,MACF,IAAK,OACHD,EAAeW,GACfV,EAAU,cACV,MACF,IAAK,UACHD,EAAeY,GACfX,EAAU,UACV,MACF,IAAK,OACHD,EAAea,GACfZ,EAAU,OACV,MACF,IAAK,MACHD,EAAec,GACfb,EAAU,aACV,MACF,IAAK,SACHD,EAAee,GACfd,EAAU,OACV,MACF,IAAK,gBACHD,EAAegB,GACff,EAAU,6BACV,MACF,IAAK,kBACHD,EAAeiB,GACfhB,EAAU,mBACV,MACF,IAAK,mBACHD,EAAekB,GACfjB,EAAU,eACV,MACF,IAAK,mBACHD,EAAemB,GACflB,EAAU,mBACV,MACF,IAAK,oBACHD,EAAeoB,GACfnB,EAAU,eACV,MACF,IAAK,OACHD,EAAeqB,GACfpB,EAAU,QACV,MACF,IAAK,SACHD,EAAesB,GACfrB,EAAU,YACV,MACF,IAAK,eACHD,EAAeuB,GACftB,EAAU,iBACV,MACF,IAAK,WACHD,EAAewB,GACfvB,EAAU,WACV,MACF,IAAK,OACHD,EAAeyB,GACfxB,EAAU,OACV,MACF,IAAK,MACHD,EAAe0B,GACfzB,EAAU,MACV,MACF,IAAK,YACHD,EAAe2B,GACf1B,EAAU,MACV,MACF,IAAK,YACHD,EAAe4B,GACf3B,EAAU,YACV,MACF,IAAK,WACHD,EAAe6B,GACf5B,EAAU,OACV,MACF,IAAK,SACHD,EAAe8B,GACf7B,EAAU,SACV,MACF,IAAK,UACHD,EAAe+B,GACf9B,EAAU,SACV,MACF,IAAK,mBACHD,EAAe+B,GACf9B,EAAU,iBACV,MACF,IAAK,mBACHD,EAAegC,GACf/B,EAAU,mBA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","file":"static/js/main.4fb5c06c.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"TaskEditor\":\"TaskEditor_TaskEditor__3MQkI\",\"TaskEditorHeader\":\"TaskEditor_TaskEditorHeader__3bBkt\",\"TaskEditorFlexibleContainer\":\"TaskEditor_TaskEditorFlexibleContainer__2jamS\",\"TaskEditorFlexiblePadding\":\"TaskEditor_TaskEditorFlexiblePadding__wYTu2\",\"TaskEditorGrabberIcon\":\"TaskEditor_TaskEditorGrabberIcon__28r3q\",\"TaskEditorFlexibleInput\":\"TaskEditor_TaskEditorFlexibleInput__2lGl_\",\"TaskEditorStrikethrough\":\"TaskEditor_TaskEditorStrikethrough__-jCEK\",\"TaskEditorCheckBox\":\"TaskEditor_TaskEditorCheckBox__2ZlsN\",\"TaskEditorSubtaskCheckBox\":\"TaskEditor_TaskEditorSubtaskCheckBox__tiM5l\",\"TaskEditorIcon\":\"TaskEditor_TaskEditorIcon__2TEW0\",\"TaskEditorIconLeftPad\":\"TaskEditor_TaskEditorIconLeftPad__1xaf4\",\"TaskEditorIconButton\":\"TaskEditor_TaskEditorIconButton__m79CR\",\"TaskEditorTag\":\"TaskEditor_TaskEditorTag__1jfam\",\"TaskEditorTagEditor\":\"TaskEditor_TaskEditorTagEditor__KLS2b\",\"TaskEditorCalendarTop\":\"TaskEditor_TaskEditorCalendarTop__TUPIU\",\"TaskEditorCalendarBottom\":\"TaskEditor_TaskEditorCalendarBottom__1NkPP\",\"TaskEditorCalendar\":\"TaskEditor_TaskEditorCalendar__2bGsp\",\"TaskEditorSubTasksIndentedContainer\":\"TaskEditor_TaskEditorSubTasksIndentedContainer__3Fg0y\",\"SubtaskHide\":\"TaskEditor_SubtaskHide__3KmGC\",\"SaveButtonRow\":\"TaskEditor_SaveButtonRow__3rxJs\",\"SaveButton\":\"TaskEditor_SaveButton__2BcZy\",\"SaveButtonText\":\"TaskEditor_SaveButtonText__2DR9G\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"TaskView\":\"App_TaskView__1fMwU\",\"Container\":\"App_Container__10KOh\",\"GroupScreen\":\"App_GroupScreen__3SWn8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"CalendarInput\":\"CanvasCalendar_CalendarInput__32RMx\",\"CalendarForm\":\"CanvasCalendar_CalendarForm__3tlZ9\",\"HelpButton\":\"CanvasCalendar_HelpButton__1nJcU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"AddGroupTags\":\"AddGroupTags_AddGroupTags__FPzD_\",\"ClassItem\":\"AddGroupTags_ClassItem__1a7li\",\"Color\":\"AddGroupTags_Color__VDOmv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Banner\":\"Banner_Banner__-ZFiI\",\"Text\":\"Banner_Text__QX2CG\",\"DismissButton\":\"Banner_DismissButton__2Wjx7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Main\":\"Picker_Main__2riCc\",\"Label\":\"Picker_Label__3Ga-P\",\"HideInput\":\"Picker_HideInput__HLhe3\",\"DateDisplay\":\"Picker_DateDisplay__30ee-\",\"TagDisplay\":\"Picker_TagDisplay__2GMzv\",\"CenterIcon\":\"Picker_CenterIcon__1lmUz\",\"ResetButton\":\"Picker_ResetButton__3vfDt\",\"NewTaskClassPick\":\"Picker_NewTaskClassPick__3P5Pq\",\"NewTaskDatePick\":\"Picker_NewTaskDatePick__1OCwy\",\"NewTaskDatePickGroup\":\"Picker_NewTaskDatePickGroup__3tmi2\",\"NewTaskDateSave\":\"Picker_NewTaskDateSave__17VpU\",\"RepeatOpened\":\"Picker_RepeatOpened__14MsF\",\"RepeatPickDayWrap\":\"Picker_RepeatPickDayWrap__3wQMP\",\"RepeatPickEndWrap\":\"Picker_RepeatPickEndWrap__3kfrv\",\"RepeatSpecialEndDate\":\"Picker_RepeatSpecialEndDate__3uL97\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"GroupIcon\":\"GroupIcon_GroupIcon__3z7Q_\",\"Active\":\"GroupIcon_Active__xIR3h\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"OverdueAlertInTaskCard\":\"OverdueAlert_OverdueAlertInTaskCard__3hl-F\",\"OverdueAlertInFutureView\":\"OverdueAlert_OverdueAlertInFutureView__3Mo9H\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Header\":\"RepeatFrequencyHeader_Header__16fdJ\",\"Icon\":\"RepeatFrequencyHeader_Icon__3rVXz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Editor\":\"FloatingTaskEditor_Editor__1-3Ij\",\"BackgroundBlocker\":\"FloatingTaskEditor_BackgroundBlocker__3sXsX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"SettingsSection\":\"SettingsPage_SettingsSection__1IAfx\",\"SettingsSectionTitle\":\"SettingsPage_SettingsSectionTitle__P6uEM\",\"SettingsSectionContent\":\"SettingsPage_SettingsSectionContent__1E2oA\",\"SettingsButton\":\"SettingsPage_SettingsButton__QGusG\",\"FinalRowButtonContainer\":\"SettingsPage_FinalRowButtonContainer__1lsjk\",\"Padding\":\"SettingsPage_Padding__3APmc\",\"FinalRowButton\":\"SettingsPage_FinalRowButton__13X-C\",\"SignButton\":\"SettingsPage_SignButton__2swQW\",\"FeedbackButton\":\"SettingsPage_FeedbackButton__2Xb9M\",\"ReplayTutorialButton\":\"SettingsPage_ReplayTutorialButton__1Db9Q\",\"ColorConfigItemList\":\"SettingsPage_ColorConfigItemList__2FPIm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Container\":\"FutureViewDayTaskContainer_Container__1dk4b\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"FutureViewNDays\":\"FutureViewNDays_FutureViewNDays__dWrP9\",\"Column\":\"FutureViewNDays_Column__28dTA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"TaskQueue\":\"TaskQueue_TaskQueue__1ky_S\",\"EmptyTaskQueue\":\"TaskQueue_EmptyTaskQueue__YLlOg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Task\":\"FutureViewTask_Task__10c3S\",\"TaskMainWrapper\":\"FutureViewTask_TaskMainWrapper__YTquU\",\"SubTask\":\"FutureViewTask_SubTask__RvTiu\",\"TaskCheckBox\":\"FutureViewTask_TaskCheckBox__hQKPT\",\"SubTaskCheckBox\":\"FutureViewTask_SubTaskCheckBox__kbnIW\",\"TaskCheckBoxPlaceHolder\":\"FutureViewTask_TaskCheckBoxPlaceHolder__3Y7Zt\",\"TaskIcon\":\"FutureViewTask_TaskIcon__2jekm\",\"TaskIconNoHover\":\"FutureViewTask_TaskIconNoHover__22Gbg\",\"hide\":\"FutureViewTask_hide__2e8-D\",\"TaskIconPlaceholder\":\"FutureViewTask_TaskIconPlaceholder__1YiFe\",\"TaskText\":\"FutureViewTask_TaskText__4MXNg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"NewTaskComponent\":\"TaskCreator_NewTaskComponent__2G-Hx\",\"NewTaskWrap\":\"TaskCreator_NewTaskWrap__TejAN\",\"SubmitNewTask\":\"TaskCreator_SubmitNewTask__2XC8o\",\"TaskCreator\":\"TaskCreator_TaskCreator__oDaYk\",\"CloseNewTask\":\"TaskCreator_CloseNewTask__F2HFD\",\"NewTaskActive\":\"TaskCreator_NewTaskActive__fkVwx\",\"TitleText\":\"TaskCreator_TitleText__3VBmz\",\"SubtitleText\":\"TaskCreator_SubtitleText__24noP\",\"DescText\":\"TaskCreator_DescText__1Hlxu\",\"OpenNewTask\":\"TaskCreator_OpenNewTask__3wg6z\",\"NewTaskModal\":\"TaskCreator_NewTaskModal__14tn8\",\"AddSubTask\":\"TaskCreator_AddSubTask__3HZNi\",\"ResetButton\":\"TaskCreator_ResetButton__U23us\",\"SubtaskInput\":\"TaskCreator_SubtaskInput__2WHxl\",\"SubtasksList\":\"TaskCreator_SubtasksList__3L4_K\",\"TagPickWrap\":\"TaskCreator_TagPickWrap__3_vuC\",\"EditIcon\":\"TaskCreator_EditIcon__wBJ8Y\",\"SubtasksContainer\":\"TaskCreator_SubtasksContainer__75r_F\",\"PlusIcon\":\"TaskCreator_PlusIcon__2vQGP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"FutureViewControl\":\"FutureViewControl_FutureViewControl__1GmhB\",\"Title\":\"FutureViewControl_Title__3_Kc_\",\"NavButtonPrev\":\"FutureViewControl_NavButtonPrev__2dH_i\",\"NavButtonNext\":\"FutureViewControl_NavButtonNext__1nVQm\",\"NavButtonNDays\":\"FutureViewControl_NavButtonNDays__3vYYD\",\"ControlPadding\":\"FutureViewControl_ControlPadding__3B6ai\",\"ContainerTypeSwitcher\":\"FutureViewControl_ContainerTypeSwitcher__1ST6Z\",\"ContainerTypeSwitcherButton\":\"FutureViewControl_ContainerTypeSwitcherButton__arGAY\",\"ContainerTypeSwitcherButtonText\":\"FutureViewControl_ContainerTypeSwitcherButtonText__3vQhi\",\"ContainerTypeSwitcherActiveButton\":\"FutureViewControl_ContainerTypeSwitcherActiveButton__1TRuZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Hero\":\"Onboard_Hero__qCS60\",\"HeroIntroText\":\"Onboard_HeroIntroText__35hyl\",\"SettingsSection\":\"Onboard_SettingsSection__3xhF9\",\"SettingsSectionTitle\":\"Onboard_SettingsSectionTitle__2R09C\",\"SettingsSectionContent\":\"Onboard_SettingsSectionContent__WCkJ9\",\"SignButtonContainer\":\"Onboard_SignButtonContainer__JWuOw\",\"Padding\":\"Onboard_Padding__1kk25\",\"SignButton\":\"Onboard_SignButton__1-ImC\",\"ColorConfigItemList\":\"Onboard_ColorConfigItemList__21DTr\",\"TutorialImg\":\"Onboard_TutorialImg__2umVB\",\"TutorialModal\":\"Onboard_TutorialModal__3HNlW\",\"ModalOptions\":\"Onboard_ModalOptions__1hLcu\",\"ModalWrap\":\"Onboard_ModalWrap__3rKti\",\"ImportExamContainer\":\"Onboard_ImportExamContainer__2VqRy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"NewTaskComponent\":\"GroupTaskCreator_NewTaskComponent__124VK\",\"NewTaskWrap\":\"GroupTaskCreator_NewTaskWrap__3UtBo\",\"CloseNewTask\":\"GroupTaskCreator_CloseNewTask__2Yh7F\",\"NewTaskActive\":\"GroupTaskCreator_NewTaskActive__3KE5q\",\"TitleText\":\"GroupTaskCreator_TitleText__2pLUY\",\"SubtitleText\":\"GroupTaskCreator_SubtitleText__20cZo\",\"DescText\":\"GroupTaskCreator_DescText__3IUb4\",\"OpenNewTask\":\"GroupTaskCreator_OpenNewTask__1vVrA\",\"SubmitNewTask\":\"GroupTaskCreator_SubmitNewTask__3bqeH\",\"NewTaskModal\":\"GroupTaskCreator_NewTaskModal__1_jfy\",\"AddSubTask\":\"GroupTaskCreator_AddSubTask__3Z78m\",\"ResetButton\":\"GroupTaskCreator_ResetButton__pNPBA\",\"SubtaskInput\":\"GroupTaskCreator_SubtaskInput__27CKH\",\"SubtasksList\":\"GroupTaskCreator_SubtasksList__ssdeP\",\"TagPickWrap\":\"GroupTaskCreator_TagPickWrap__2do1v\",\"EditIcon\":\"GroupTaskCreator_EditIcon__2Jbqq\",\"SubtasksContainer\":\"GroupTaskCreator_SubtasksContainer__2zv3V\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Indicator\":\"ModeIndicator_Indicator__1MmMn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ChoiceButton\":\"ChoiceModal_ChoiceButton__2rk2w\"};","module.exports = __webpack_public_path__ + \"static/media/t1.5dee8131.png\";","module.exports = __webpack_public_path__ + \"static/media/t2.6c07441c.png\";","module.exports = __webpack_public_path__ + \"static/media/t3.20632959.png\";","module.exports = __webpack_public_path__ + \"static/media/t4.8336f9b3.png\";","module.exports = __webpack_public_path__ + \"static/media/t5.67167ba9.png\";","module.exports = __webpack_public_path__ + \"static/media/t6.0de6651b.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"NewTaskClass\":\"TagListPicker_NewTaskClass__2YcUi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"FocusTask\":\"FocusTask_FocusTask__2p1Wn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"FutureViewSevenColumns\":\"FutureViewSevenColumns_FutureViewSevenColumns__1ItFf\",\"HeaderWeekday\":\"FutureViewSevenColumns_HeaderWeekday__jRgI1\"};","module.exports = __webpack_public_path__ + \"static/media/happy-bear.812db056.png\";","module.exports = __webpack_public_path__ + \"static/media/regular-bear.8b74c98e.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Bear\":\"Bear_Bear__2qcFm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"MiddleBar\":\"MiddleBar_MiddleBar__3Sknu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"GroupTasksContainer\":\"GroupTasksContainer_GroupTasksContainer__1YsHv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"GroupTask\":\"GroupTask_GroupTask__1Ihxg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"GroupView\":\"GroupView_GroupView__22Tc-\"};","module.exports = __webpack_public_path__ + \"static/media/frontendCrash.c17c880a.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Login\":\"Login_Login__ns9RP\",\"LoginSection\":\"Login_LoginSection__29Ue5\",\"LoginWrapper\":\"Login_LoginWrapper__35PdB\",\"LoginFooter\":\"Login_LoginFooter__64CYO\",\"Landing\":\"Login_Landing__1hoOa\",\"LandingHeroWrap\":\"Login_LandingHeroWrap__rTqNh\",\"LandingHeroLogin\":\"Login_LandingHeroLogin__R_yKP\",\"LandingBlue\":\"Login_LandingBlue__1NNmq\",\"LandingLower\":\"Login_LandingLower__3YAvJ\",\"LandingScreenshot\":\"Login_LandingScreenshot__mNHGq\",\"LandingMidImg\":\"Login_LandingMidImg__1YUVz\",\"LandingFeatures\":\"Login_LandingFeatures__20adi\"};","module.exports = __webpack_public_path__ + \"static/media/wordmark.ee95f67e.png\";","module.exports = __webpack_public_path__ + \"static/media/header_final.092401e8.png\";","module.exports = __webpack_public_path__ + \"static/media/samwise_logo.2949e5b4.svg\";","module.exports = __webpack_public_path__ + \"static/media/splash_top_image.7a952bb8.svg\";","module.exports = __webpack_public_path__ + \"static/media/splash_peak_bear.0e9d9b44.svg\";","module.exports = __webpack_public_path__ + \"static/media/blue.d3f91232.svg\";","module.exports = __webpack_public_path__ + \"static/media/screenshot.87e529fc.png\";","module.exports = __webpack_public_path__ + \"static/media/splash_mid_image.7a0d17e4.svg\";","module.exports = __webpack_public_path__ + \"static/media/feature1.4664a1c9.svg\";","module.exports = __webpack_public_path__ + \"static/media/feature2.bfd20554.svg\";","module.exports = __webpack_public_path__ + \"static/media/feature3.935a98e7.svg\";","module.exports = __webpack_public_path__ + \"static/media/heart_logo.cdb74f8a.svg\";","module.exports = __webpack_public_path__ + \"static/media/link_logo.a64e6577.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"TaskView\":\"TaskView_TaskView__1QxfL\",\"FocusPanel\":\"TaskView_FocusPanel__11N5A\",\"FuturePanel\":\"TaskView_FuturePanel__1mWO_\",\"FuturePanelContainer\":\"TaskView_FuturePanelContainer__hP1zq\",\"FocusViewToggleWrapper\":\"TaskView_FocusViewToggleWrapper__38Puu\",\"FocusViewToggle\":\"TaskView_FocusViewToggle__2H9an\",\"FocusViewToggleIconFocusViewShow\":\"TaskView_FocusViewToggleIconFocusViewShow__2_8OA\",\"FocusViewToggleIconFocusViewHide\":\"TaskView_FocusViewToggleIconFocusViewHide__1pga_\",\"ControlButton\":\"TaskView_ControlButton__2jqUS\",\"ViewSwitcher\":\"TaskView_ViewSwitcher__17ZRi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"DeleteTag\":\"TagItem_DeleteTag__Nycj3\",\"ColorConfigItem\":\"TagItem_ColorConfigItem__Qq_-L\",\"TagName\":\"TagItem_TagName__nsa_2\",\"ClassExpandedTitle\":\"TagItem_ClassExpandedTitle__3d5xl\",\"AddTagName\":\"TagItem_AddTagName__cdHSs\",\"TagEdit\":\"TagItem_TagEdit__jUQsL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"SquareButton\":\"SquareButtons_SquareButton__12gps\",\"SquareButtonIconButton\":\"SquareButtons_SquareButtonIconButton__2brh3\",\"SquareButtonTextButton\":\"SquareButtons_SquareButtonTextButton__1OOuF\",\"Icon\":\"SquareButtons_Icon__xtsHH\",\"active\":\"SquareButtons_active__2mTpy\",\"SquareButtonText\":\"SquareButtons_SquareButtonText__3lE9y\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"NDaysView\":\"FutureViewDay_NDaysView__3JZNX\",\"OtherViews\":\"FutureViewDay_OtherViews__1uQK0\",\"Today\":\"FutureViewDay_Today__27Qiw\",\"DateInfo\":\"FutureViewDay_DateInfo__3ktg4\",\"DateInfoDay\":\"FutureViewDay_DateInfoDay__2Amcm\",\"DateNum\":\"FutureViewDay_DateNum__347Z4\",\"MoreTasksBar\":\"FutureViewDay_MoreTasksBar__2I7tC\",\"FloatingViewPrevPadding\":\"FutureViewDay_FloatingViewPrevPadding__1FNMk\",\"FloatingView\":\"FutureViewDay_FloatingView__10kGR\",\"FloatingBackgroundBlocker\":\"FutureViewDay_FloatingBackgroundBlocker__2tI0G\"};","/**\n * Generate a random id to make React happy.\n *\n * @return {number} a random id.\n */\nexport const randomId = () => String(new Date().getTime());\n/**\n * The identity function.\n */\nexport function identity(t) { return t; }\n/**\n * An empty function used to ignore promise.\n */\nexport const ignore = () => { };\n/**\n * Throw an error. Useful when want to use this as an expression.\n *\n * @param {?string} message an optional message.\n */\nexport const error = (message) => { throw new Error(message); };\n/**\n * Shallowly check equality of two objects.\n *\n * @param a object a.\n * @param b object b.\n */\nexport const shallowEqual = (a, b) => {\n    const aKeys = Object.keys(a);\n    const bKeys = Object.keys(b);\n    const l = aKeys.length;\n    if (l !== bKeys.length) {\n        return false;\n    }\n    for (let i = 0; i < l; i += 1) {\n        const aKey = aKeys[i];\n        if (a[aKey] !== b[aKey]) {\n            return false;\n        }\n        const bKey = bKeys[i];\n        if (a[bKey] !== b[bKey]) {\n            return false;\n        }\n    }\n    return true;\n};\n/**\n * Shallowly check equality of two arrays.\n *\n * @param a array a.\n * @param b array b.\n */\nexport const shallowArrayEqual = (a, b) => {\n    const l = a.length;\n    if (l !== b.length) {\n        return false;\n    }\n    for (let i = 0; i < l; i += 1) {\n        if (!shallowEqual(a[i], b[i])) {\n            return false;\n        }\n    }\n    return true;\n};\n","/**\n * ID of the none tag.\n */\nexport const NONE_TAG_ID = 'THE_GLORIOUS_NONE_TAG';\n/**\n * The none tag.\n */\nexport const NONE_TAG = {\n    id: NONE_TAG_ID,\n    order: 0,\n    name: 'None',\n    color: '#969696',\n    classId: null,\n};\n","import { Map, Set } from 'immutable';\nimport { State } from 'common/lib/types/store-types';\nimport { NONE_TAG_ID, NONE_TAG } from 'common/lib/util/tag-util';\n\n/**\n * The initial state of the app.\n * This state is dummy. It needs to be patched by the data from the backend ASAP.\n * @type {State}\n */\nexport const initialState: State = {\n  tags: Map({ [NONE_TAG_ID]: NONE_TAG }),\n  tasks: Map(),\n  missingSubTasks: Map(),\n  orphanSubTasks: Map(),\n  dateTaskMap: Map(),\n  repeatedTaskSet: Set(),\n  settings: { canvasCalendar: null, completedOnboarding: true, theme: 'light' },\n  bannerMessageStatus: {},\n  courses: Map(),\n};\n\n/**\n * The initial state setup for testing.\n * It contains some random values so that snapshot tests can be more meaningful.\n * @type {State}\n */\nexport const initialStateForTesting: State = {\n  tags: Map({\n    [NONE_TAG_ID]: NONE_TAG,\n    foo: { id: 'foo', order: 1, name: 'Foo', color: 'red', classId: null },\n    bar: { id: 'bar', order: 2, name: 'Bar', color: 'blue', classId: null },\n    baz: { id: 'baz', order: 3, name: 'Baz: Baz', color: 'green', classId: '2112' },\n  }),\n  tasks: Map({\n    foo: {\n      id: 'foo',\n      order: 1,\n      name: 'Foo',\n      tag: 'foo',\n      complete: true,\n      inFocus: false,\n      children: [{ id: 'foo', order: 1, name: 'Foo', complete: true, inFocus: false }],\n      metadata: {\n        type: 'ONE_TIME',\n        date: new Date('2030-01-01'),\n      },\n    },\n    bar: {\n      id: 'bar',\n      order: 2,\n      name: 'Bar',\n      tag: 'bar',\n      complete: false,\n      inFocus: true,\n      children: [{ id: 'bar', order: 2, name: 'Bar', complete: false, inFocus: true }],\n      metadata: {\n        type: 'ONE_TIME',\n        date: new Date('2030-01-01'),\n      },\n    },\n    baz: {\n      id: 'baz',\n      order: 3,\n      name: 'Baz',\n      tag: 'baz',\n      complete: true,\n      inFocus: true,\n      children: [{ id: 'baz', order: 3, name: 'Baz', complete: true, inFocus: true }],\n      metadata: {\n        type: 'ONE_TIME',\n        date: new Date('2030-01-01'),\n      },\n    },\n  }),\n  dateTaskMap: Map({\n    [new Date('2030-01-01').toDateString()]: Set(['foo']),\n    [new Date('2031-01-01').toDateString()]: Set(['bar', 'baz']),\n    [new Date('2032-01-01').toDateString()]: Set(),\n  }),\n  missingSubTasks: Map(),\n  orphanSubTasks: Map(),\n  repeatedTaskSet: Set(),\n  settings: { canvasCalendar: null, completedOnboarding: true, theme: 'light' },\n  bannerMessageStatus: {},\n  courses: Map({\n    CS2112: [\n      {\n        courseId: 42,\n        subject: 'CS',\n        courseNumber: '2112',\n        title: 'OO Design Data Structs Honors',\n        examTimes: [\n          { type: 'final', time: 1576332000000 },\n          { type: 'prelim', time: 1570145400000 },\n        ],\n      },\n    ],\n  }),\n};\n","import { Set } from 'immutable';\nimport {\n  Action,\n  PatchCourses,\n  PatchTags,\n  PatchTasks,\n  PatchSubTasks,\n  PatchSettings,\n  PatchBannerMessageStatus,\n} from 'common/lib/types/action-types';\nimport { State, SubTask, Task } from 'common/lib/types/store-types';\nimport { error } from 'common/lib/util/general-util';\nimport { initialState } from './state';\n\nfunction patchTags(state: State, { created, edited, deleted }: PatchTags): State {\n  const newTags = state.tags.withMutations((tags) => {\n    created.forEach((t) => tags.set(t.id, t));\n    edited.forEach((t) => tags.set(t.id, t));\n    deleted.forEach((id) => tags.delete(id));\n  });\n  return { ...state, tags: newTags };\n}\n\nfunction normalizeTaskChildrenOrder(task: Task): Task {\n  const children = [...task.children].sort((a, b) => a.order - b.order);\n  return { ...task, children };\n}\n\nfunction patchTasks(state: State, { created, edited, deleted }: PatchTasks): State {\n  const newDateTaskMap = state.dateTaskMap.withMutations((m) => {\n    created.forEach((t) => {\n      if (t.metadata.type === 'MASTER_TEMPLATE') {\n        return;\n      }\n      const key = t.metadata.date.toDateString();\n      const set = m.get(key);\n      if (set == null) {\n        m.set(key, Set.of(t.id));\n      } else {\n        m.set(key, set.add(t.id));\n      }\n    });\n    edited.forEach((t) => {\n      if (t.metadata.type === 'MASTER_TEMPLATE') {\n        return;\n      }\n      const key = t.metadata.date.toDateString();\n      const oldTask = state.tasks.get(t.id) ?? error();\n      if (oldTask.metadata.type === 'ONE_TIME') {\n        const oldKey = oldTask.metadata.date.toDateString();\n        if (oldKey !== key) {\n          // remove first\n          const oldBucket = m.get(oldKey) ?? error('impossible!');\n          m.set(oldKey, oldBucket.remove(t.id));\n        }\n      }\n      const set = m.get(key);\n      if (set == null) {\n        m.set(key, Set.of(t.id));\n      } else {\n        m.set(key, set.add(t.id));\n      }\n    });\n    deleted.forEach((id) => {\n      const oldTask = state.tasks.get(id);\n      if (oldTask == null) {\n        return;\n      }\n      if (oldTask.metadata.type === 'ONE_TIME') {\n        const key = oldTask.metadata.date.toDateString();\n        const set = m.get(key);\n        if (set != null) {\n          m.set(key, set.remove(id));\n        }\n      }\n    });\n  });\n  const newRepeatedTaskSet = state.repeatedTaskSet.withMutations((s) => {\n    created.forEach((t) => {\n      if (t.metadata.type === 'MASTER_TEMPLATE') {\n        s.add(t.id);\n      }\n    });\n    deleted.forEach((id) => s.remove(id));\n  });\n\n  const missingSubTasksMap = new Map<string, string>();\n  const orphanSubTasksToClear: string[] = [];\n  const newTasks = state.tasks.withMutations((tasks) => {\n    const unfoldSubTasks = (\n      taskId: string,\n      subTaskIds: readonly string[],\n      existingSubTasks: readonly SubTask[],\n    ): readonly SubTask[] => {\n      let newIdSet = Set(subTaskIds);\n      const unfolded: SubTask[] = [];\n      existingSubTasks.forEach((subTask) => {\n        if (newIdSet.has(subTask.id)) {\n          newIdSet = newIdSet.remove(subTask.id);\n          unfolded.push(subTask);\n        }\n      });\n      // Remaining ids represent subtask that has not appeared yet.\n      newIdSet.forEach((id) => {\n        const orphanSubTask = state.orphanSubTasks.get(id);\n        if (orphanSubTask != null) {\n          orphanSubTasksToClear.push(id);\n          newIdSet = newIdSet.remove(id);\n          unfolded.push(orphanSubTask);\n          return;\n        }\n        missingSubTasksMap.set(id, taskId);\n      });\n      return unfolded;\n    };\n\n    let dirtyMainTaskIds = Set<string>();\n\n    created.forEach((createdMainTask) => {\n      const { children, ...mainTaskRest } = createdMainTask;\n      const updatedChildren = unfoldSubTasks(createdMainTask.id, children, []);\n      const mainTask: Task = { ...mainTaskRest, children: updatedChildren };\n      dirtyMainTaskIds = dirtyMainTaskIds.add(createdMainTask.id);\n      tasks.set(createdMainTask.id, mainTask);\n    });\n\n    edited.forEach((editedMainTask) => {\n      const { children, ...mainTaskRest } = editedMainTask;\n      const existingSubTasks = tasks.get(mainTaskRest.id)?.children ?? [];\n      const updatedChildren = unfoldSubTasks(\n        editedMainTask.id,\n        children,\n        existingSubTasks,\n      );\n      const mainTask: Task = { ...mainTaskRest, children: updatedChildren };\n      dirtyMainTaskIds = dirtyMainTaskIds.add(editedMainTask.id);\n      tasks.set(editedMainTask.id, mainTask);\n    });\n\n    deleted.forEach((id) => tasks.delete(id));\n\n    dirtyMainTaskIds.forEach((mainTaskId) => {\n      tasks.update(mainTaskId, (task) => normalizeTaskChildrenOrder(task));\n    });\n  });\n\n  // Final updates\n  const updatedMissingSubTasks = state.missingSubTasks.withMutations((map) => {\n    missingSubTasksMap.forEach((mainTaskId, subTaskId) => map.set(subTaskId, mainTaskId));\n  });\n  const updatedOrphanSubTasks = state.orphanSubTasks.deleteAll(orphanSubTasksToClear);\n\n  return {\n    ...state,\n    tasks: newTasks,\n    missingSubTasks: updatedMissingSubTasks,\n    orphanSubTasks: updatedOrphanSubTasks,\n    dateTaskMap: newDateTaskMap,\n    repeatedTaskSet: newRepeatedTaskSet,\n  };\n}\n\nfunction patchSubTasks(state: State, { created, edited, deleted }: PatchSubTasks): State {\n  const existingSubTaskToTaskMap = new Map<string, string>();\n  Array.from(state.tasks.entries()).forEach(([id, task]) => {\n    task.children.forEach((subTask) => existingSubTaskToTaskMap.set(subTask.id, id));\n  });\n\n  const missingSubTaskToClear: string[] = [];\n  const newOrphanSubTasks: SubTask[] = [];\n  const updatedTasks = state.tasks.withMutations((mutableTaskMap) => {\n    let dirtyMainTaskIds = Set<string>();\n\n    created.forEach((createdSubTask) => {\n      // By the time a subtask is created, a main task may or may not exist.\n      const mainTaskId = state.missingSubTasks.get(createdSubTask.id);\n      if (mainTaskId == null) {\n        // For those that does not exist, we must put them into orphan sub-tasks for now.\n        // The hope is that they will be stick to correct place in a later task patch.\n        newOrphanSubTasks.push(createdSubTask);\n      } else {\n        // For those that do exist, they must have some missing subtasks.\n        // We must stick them into correct places,\n        mutableTaskMap.update(\n          mainTaskId,\n          (mainTask) => ({ ...mainTask, children: [...mainTask.children, createdSubTask] }),\n        );\n        missingSubTaskToClear.push(createdSubTask.id);\n        dirtyMainTaskIds = dirtyMainTaskIds.add(mainTaskId);\n      }\n    });\n\n    edited.forEach((editedSubTask) => {\n      // By the time a subtask is edited, the subtask, along with its parent, must exist!\n      const mainTaskId = existingSubTaskToTaskMap.get(editedSubTask.id) ?? error('Must exist!');\n      mutableTaskMap.update(\n        mainTaskId,\n        (mainTask) => {\n          const children = mainTask.children.map(\n            (subTask) => (subTask.id === editedSubTask.id ? editedSubTask : subTask),\n          );\n          return { ...mainTask, children };\n        },\n      );\n      dirtyMainTaskIds = dirtyMainTaskIds.add(mainTaskId);\n    });\n\n    deleted.forEach((deletedSubTaskId) => {\n      const mainTaskId = existingSubTaskToTaskMap.get(deletedSubTaskId);\n      if (mainTaskId == null) {\n        // We might delete main task and subtask together, and main task is deleted before subtask.\n        return;\n      }\n      mutableTaskMap.update(\n        mainTaskId,\n        (mainTask) => ({\n          ...mainTask,\n          children: mainTask.children.filter((subTask) => subTask.id !== deletedSubTaskId),\n        }),\n      );\n      dirtyMainTaskIds = dirtyMainTaskIds.add(mainTaskId);\n    });\n\n    dirtyMainTaskIds.forEach((mainTaskId) => {\n      mutableTaskMap.update(mainTaskId, (task) => normalizeTaskChildrenOrder(task));\n    });\n  });\n\n  // Final batch updates for helper store tables.\n  const updatedMissingSubTasks = state.missingSubTasks.deleteAll(missingSubTaskToClear);\n  const updatedOrphanSubTasks = state.orphanSubTasks.withMutations((mutableOrphanSubTasks) => {\n    newOrphanSubTasks.forEach((subTask) => mutableOrphanSubTasks.set(subTask.id, subTask));\n  });\n\n  return {\n    ...state,\n    tasks: updatedTasks,\n    missingSubTasks: updatedMissingSubTasks,\n    orphanSubTasks: updatedOrphanSubTasks,\n  };\n}\n\nfunction patchSettings(state: State, { settings }: PatchSettings): State {\n  return { ...state, settings };\n}\n\nfunction patchBannerMessageStatus(state: State, { change }: PatchBannerMessageStatus): State {\n  return { ...state, bannerMessageStatus: { ...state.bannerMessageStatus, ...change } };\n}\n\nfunction patchCourses(state: State, { courses }: PatchCourses): State {\n  return { ...state, courses };\n}\n\nexport default function rootReducer(state: State = initialState, action: Action): State {\n  switch (action.type) {\n    case 'PATCH_TAGS':\n      return patchTags(state, action);\n    case 'PATCH_TASKS':\n      return patchTasks(state, action);\n    case 'PATCH_SUBTASKS':\n      return patchSubTasks(state, action);\n    case 'PATCH_SETTINGS':\n      return patchSettings(state, action);\n    case 'PATCH_BANNER_MESSAGES':\n      return patchBannerMessageStatus(state, action);\n    case 'PATCH_COURSES':\n      return patchCourses(state, action);\n    default:\n      return state;\n  }\n}\n","import { createStore, Store } from 'redux';\nimport { State } from 'common/lib/types/store-types';\nimport { Action } from 'common/lib/types/action-types';\nimport rootReducer from './reducers';\nimport { initialStateForTesting } from './state';\n\nexport type GlobalStore = Store<State, Action>;\n\n/**\n * The redux store. It should only be given to the react-redux provider.\n */\nexport const store: GlobalStore = createStore(rootReducer);\n\n/**\n * The redux store for testing.\n */\nexport const storeForTesting: GlobalStore = createStore(\n  (initialState: State = initialStateForTesting, action: Action): State => rootReducer(\n    initialState, action,\n  ),\n);\n\n/**\n * Dispatch an action and returns the same dispatched action.\n */\nexport const dispatchAction = (action: Action): Action => store.dispatch(action);\n","import React, { ReactElement } from 'react';\nimport { Provider as ReactReduxProvider } from 'react-redux';\nimport { store, storeForTesting } from './store';\n\ntype Props = { readonly children: ReactElement };\n\nexport const Provider = ({ children }: Props): ReactElement => (\n  <ReactReduxProvider store={store}>{children}</ReactReduxProvider>\n);\n\nexport const ProviderForTesting = ({ children }: Props): ReactElement => (\n  <ReactReduxProvider store={storeForTesting}>{children}</ReactReduxProvider>\n);\n","import React, { ReactElement } from 'react';\nimport systemMode, { Mode } from 'util/mode-util';\nimport styles from './ModeIndicator.module.css';\n\ntype Props = { readonly mode: Mode };\n\n/**\n * A mode indicator on the top-left corner to indicate whether a page is for DEV, STAGING or PROD.\n */\nexport const ConfigurableModeIndicator = ({ mode }: Props): ReactElement | null => {\n  if (mode === 'PROD') {\n    return null;\n  }\n  return <div className={styles.Indicator}>{mode}</div>;\n};\n\nexport default (): ReactElement | null => <ConfigurableModeIndicator mode={systemMode} />;\n","/**\n * The utility file to manage all modes.\n */\n\nexport type Mode = 'DEV' | 'STAGING' | 'PROD';\n\nconst mode: Mode = (() => {\n  if (process.env.NODE_ENV === 'production') {\n    return process.env.REACT_APP_IS_STAGING !== 'true' ? 'PROD' : 'STAGING';\n  }\n  return 'DEV';\n})();\n\nexport default mode;\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"g\", {\n  fill: \"none\",\n  fillRule: \"nonzero\"\n}, React.createElement(\"circle\", {\n  fill: \"#D0021B\",\n  cx: 15,\n  cy: 15,\n  r: 15\n}), React.createElement(\"circle\", {\n  stroke: \"#FFF\",\n  strokeWidth: 2,\n  fill: \"#FFF\",\n  cx: 15,\n  cy: 23,\n  r: 2\n}), React.createElement(\"path\", {\n  stroke: \"#FFF\",\n  strokeWidth: 2,\n  fill: \"#FFF\",\n  strokeLinejoin: \"round\",\n  d: \"M13.667 18h2.666L17 5h-4z\"\n}));\n\nvar SvgAlert = function SvgAlert(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 30 30\",\n    ref: svgRef\n  }, props), title ? React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgAlert, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/alert.77db80ba.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M13.0018 8.00071C13.0018 6.93966 12.5803 5.92206 11.83 5.17178C11.0797 4.4215 10.0621 4 9.00106 4C7.94001 4 6.92241 4.4215 6.17214 5.17178C5.42186 5.92206 5.00035 6.93966 5.00035 8.00071C5.00035 12.6682 3 14.0018 3 14.0018H15.0021C15.0021 14.0018 13.0018 12.6682 13.0018 8.00071Z\",\n  fill: \"white\",\n  fillOpacity: 0.4,\n  stroke: \"#BEBEBE\",\n  strokeWidth: 1.5,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n});\n\nvar _ref3 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M10.1543 17.0018C10.037 17.2039 9.86878 17.3716 9.66634 17.4882C9.46389 17.6048 9.23436 17.6662 9.00074 17.6662C8.76711 17.6662 8.53758 17.6048 8.33513 17.4882C8.13269 17.3716 7.96443 17.2039 7.8472 17.0018\",\n  fill: \"white\",\n  fillOpacity: 0.4\n});\n\nvar _ref4 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M10.1543 17.0018C10.037 17.2039 9.86878 17.3716 9.66634 17.4882C9.46389 17.6048 9.23436 17.6662 9.00074 17.6662C8.76711 17.6662 8.53758 17.6048 8.33513 17.4882C8.13269 17.3716 7.96443 17.2039 7.8472 17.0018\",\n  stroke: \"#BEBEBE\",\n  strokeWidth: 1.5,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n});\n\nvar SvgBell = function SvgBell(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    width: 20,\n    height: 20,\n    viewBox: \"0 0 20 20\",\n    fill: \"none\",\n    ref: svgRef\n  }, props), title ? React.createElement(\"title\", null, title) : null, _ref2, _ref3, _ref4);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgBell, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/bell.86a9af7d.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"g\", {\n  fill: \"none\",\n  fillRule: \"evenodd\",\n  stroke: \"#5A5A5A\",\n  strokeWidth: 2\n}, React.createElement(\"rect\", {\n  x: 1,\n  y: 3,\n  width: 18,\n  height: 16,\n  rx: 3\n}), React.createElement(\"path\", {\n  d: \"M1 8h18\"\n}), React.createElement(\"path\", {\n  d: \"M4 1v4M16 1v4\",\n  strokeLinecap: \"round\"\n}));\n\nvar SvgCalendarDark = function SvgCalendarDark(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 20 20\",\n    ref: svgRef\n  }, props), title ? React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgCalendarDark, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/calendar-dark.9ca89c7e.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"g\", {\n  fill: \"none\",\n  fillRule: \"evenodd\",\n  stroke: \"#FFF\",\n  strokeWidth: 2\n}, React.createElement(\"rect\", {\n  x: 1,\n  y: 3,\n  width: 18,\n  height: 16,\n  rx: 3\n}), React.createElement(\"path\", {\n  d: \"M1 8h18\"\n}), React.createElement(\"path\", {\n  d: \"M4 1v4M16 1v4\",\n  strokeLinecap: \"round\"\n}));\n\nvar SvgCalendarLight = function SvgCalendarLight(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 20 20\",\n    ref: svgRef\n  }, props), title ? React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgCalendarLight, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/calendar-light.19eee0a5.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"g\", {\n  fill: \"none\",\n  fillRule: \"nonzero\"\n}, React.createElement(\"path\", {\n  d: \"M0 0h20v20H0z\",\n  fill: \"#5A5A5A\"\n}), React.createElement(\"path\", {\n  fill: \"#FFF\",\n  d: \"M7.848 11.85L4.134 8.977l-1.857 2.406 4.771 3.687 1.058.813.942-.942 8.675-8.676-2.142-2.148z\"\n}));\n\nvar SvgCheckedDark = function SvgCheckedDark(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 20 20\",\n    ref: svgRef\n  }, props), title ? React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgCheckedDark, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/checked-dark.06e1fb10.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"g\", {\n  fill: \"none\",\n  fillRule: \"nonzero\"\n}, React.createElement(\"path\", {\n  d: \"M0 0h20v20H0z\",\n  fill: \"#FFF\"\n}), React.createElement(\"path\", {\n  fill: \"#5A5A5A\",\n  d: \"M7.848 11.85L4.134 8.977l-1.857 2.406 4.771 3.687 1.058.813.942-.942 8.675-8.676-2.142-2.148z\"\n}));\n\nvar SvgChecked = function SvgChecked(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 20 20\",\n    ref: svgRef\n  }, props), title ? React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgChecked, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/checked.864b53ab.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"g\", {\n  fill: \"none\",\n  fillRule: \"evenodd\",\n  stroke: \"#5A5A5A\",\n  strokeWidth: 2\n}, React.createElement(\"circle\", {\n  cx: 10,\n  cy: 10,\n  r: 7\n}), React.createElement(\"path\", {\n  d: \"M10 11l2 1M10 11V6\",\n  strokeLinecap: \"round\"\n}));\n\nvar SvgClock = function SvgClock(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 20 20\",\n    ref: svgRef\n  }, props), title ? React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgClock, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/clock.ec4d6fb0.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M3.93889 6.99444L4.72222 7.77778L7.5 5L4.72222 2.22222L3.93889 3.00556L5.37222 4.44444H0V5.55556H5.37222L3.93889 6.99444ZM8.88889 0H1.11111C0.494444 0 0 0.5 0 1.11111V3.33333H1.11111V1.11111H8.88889V8.88889H1.11111V6.66667H0V8.88889C0 9.5 0.494444 10 1.11111 10H8.88889C9.5 10 10 9.5 10 8.88889V1.11111C10 0.5 9.5 0 8.88889 0Z\",\n  fill: \"#FF7A7A\"\n});\n\nvar SvgExit = function SvgExit(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    width: 10,\n    height: 10,\n    viewBox: \"0 0 10 10\",\n    fill: \"none\",\n    ref: svgRef\n  }, props), title ? React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgExit, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/exit.2b78aaea.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"g\", {\n  fill: \"#FFF\",\n  fillRule: \"nonzero\",\n  opacity: 0.504\n}, React.createElement(\"circle\", {\n  cx: 10,\n  cy: 4,\n  r: 2\n}), React.createElement(\"circle\", {\n  cx: 10,\n  cy: 10,\n  r: 2\n}), React.createElement(\"circle\", {\n  cx: 10,\n  cy: 16,\n  r: 2\n}), React.createElement(\"circle\", {\n  cx: 16,\n  cy: 4,\n  r: 2\n}), React.createElement(\"circle\", {\n  cx: 16,\n  cy: 10,\n  r: 2\n}), React.createElement(\"circle\", {\n  cx: 16,\n  cy: 16,\n  r: 2\n}));\n\nvar SvgGrabbers = function SvgGrabbers(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 26 20\",\n    ref: svgRef\n  }, props), title ? React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgGrabbers, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/grabbers.40271341.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"defs\", null, React.createElement(\"clipPath\", {\n  id: \"hide_svg__a\"\n}, React.createElement(\"path\", {\n  d: \"M0 0h49v49H0z\"\n})));\n\nvar _ref3 =\n/*#__PURE__*/\nReact.createElement(\"g\", {\n  clipPath: \"url(#hide_svg__a)\"\n}, React.createElement(\"mask\", {\n  id: \"hide_svg__b\",\n  x: \"-200%\",\n  y: \"-200%\",\n  width: \"400%\",\n  height: \"400%\"\n}, React.createElement(\"rect\", {\n  x: \"-200%\",\n  y: \"-200%\",\n  width: \"400%\",\n  height: \"400%\",\n  fill: \"#fff\"\n}), React.createElement(\"path\", {\n  d: \"M10 8a2 2 0 0 0-2 2v29a2 2 0 0 0 2 2h29a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2H10z\"\n})), React.createElement(\"path\", {\n  d: \"M10 8a2 2 0 0 0-2 2v29a2 2 0 0 0 2 2h29a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2H10z\",\n  fill: \"none\",\n  mask: \"url(#hide_svg__b)\",\n  vectorEffect: \"non-scaling-stroke\",\n  strokeWidth: 4,\n  stroke: \"#5A5A5A\"\n}), React.createElement(\"mask\", {\n  id: \"hide_svg__c\",\n  x: \"-200%\",\n  y: \"-200%\",\n  width: \"400%\",\n  height: \"400%\"\n}, React.createElement(\"rect\", {\n  x: \"-200%\",\n  y: \"-200%\",\n  width: \"400%\",\n  height: \"400%\",\n  fill: \"#fff\"\n}), React.createElement(\"path\", {\n  d: \"M24.572 31.666c4.308 0 8.208-2.167 11.701-6.5-3.493-4.334-7.393-6.501-11.701-6.501-4.309 0-8.209 2.167-11.702 6.501 3.493 4.333 7.393 6.5 11.702 6.5z\"\n})), React.createElement(\"path\", {\n  d: \"M24.572 31.666c4.308 0 8.208-2.167 11.701-6.5-3.493-4.334-7.393-6.501-11.701-6.501-4.309 0-8.209 2.167-11.702 6.501 3.493 4.333 7.393 6.5 11.702 6.5z\",\n  fill: \"none\",\n  mask: \"url(#hide_svg__c)\",\n  vectorEffect: \"non-scaling-stroke\",\n  strokeWidth: 6,\n  stroke: \"#5A5A5A\"\n}), React.createElement(\"circle\", {\n  vectorEffect: \"non-scaling-stroke\",\n  cx: 24.572,\n  cy: 25.166,\n  r: 5.2,\n  fill: \"none\",\n  strokeWidth: 3,\n  stroke: \"#5A5A5A\"\n}), React.createElement(\"mask\", {\n  id: \"hide_svg__d\",\n  x: \"-200%\",\n  y: \"-200%\",\n  width: \"400%\",\n  height: \"400%\"\n}, React.createElement(\"rect\", {\n  x: \"-200%\",\n  y: \"-200%\",\n  width: \"400%\",\n  height: \"400%\",\n  fill: \"#fff\"\n}), React.createElement(\"path\", {\n  d: \"M12.421 12.421l24.158 24.158\"\n})), React.createElement(\"path\", {\n  mask: \"url(#hide_svg__d)\",\n  vectorEffect: \"non-scaling-stroke\",\n  strokeWidth: 4,\n  stroke: \"#5A5A5A\",\n  strokeLinejoin: \"round\",\n  d: \"M12.421 12.421l24.158 24.158\"\n}));\n\nvar SvgHide = function SvgHide(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    style: {\n      isolation: \"isolate\"\n    },\n    viewBox: \"0 0 49 49\",\n    ref: svgRef\n  }, props), title ? React.createElement(\"title\", null, title) : null, _ref2, _ref3);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgHide, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/hide.366410c3.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M15.6891 1.2377C15.2738 0.845314 14.7806 0.534045 14.2377 0.321676C13.6949 0.109307 13.1131 0 12.5255 0C11.9379 0 11.3561 0.109307 10.8133 0.321676C10.2704 0.534045 9.77724 0.845314 9.36186 1.2377L8.49978 2.05166L7.63771 1.2377C6.79866 0.445478 5.66066 0.000410637 4.47407 0.000410646C3.28747 0.000410654 2.14947 0.445478 1.31042 1.2377C0.471374 2.02993 8.84083e-09 3.10441 0 4.22479C-8.84083e-09 5.34516 0.471374 6.41965 1.31042 7.21187L2.1725 8.02583L8.49978 14L14.8271 8.02583L15.6891 7.21187C16.1047 6.81967 16.4344 6.354 16.6593 5.84146C16.8842 5.32893 17 4.77958 17 4.22479C17 3.67 16.8842 3.12064 16.6593 2.60811C16.4344 2.09558 16.1047 1.6299 15.6891 1.2377Z\",\n  fill: \"#FF8989\"\n});\n\nvar SvgHug = function SvgHug(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    width: 17,\n    height: 14,\n    viewBox: \"0 0 17 14\",\n    fill: \"none\",\n    ref: svgRef\n  }, props), title ? React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgHug, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/hug.22c3c5c0.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M8.8849 1.36289C9.11725 1.13054 9.4324 1 9.761 1C9.9237 1 10.0848 1.03205 10.2351 1.09431C10.3855 1.15658 10.522 1.24784 10.6371 1.36289C10.7521 1.47794 10.8434 1.61453 10.9057 1.76485C10.9679 1.91517 11 2.07629 11 2.23899C11 2.4017 10.9679 2.56281 10.9057 2.71313C10.8434 2.86346 10.7521 3.00004 10.6371 3.11509L3.33627 10.4159L1 11L1.58407 8.66372L8.8849 1.36289Z\",\n  stroke: \"#BEBEBE\",\n  strokeWidth: 1.5,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n});\n\nvar SvgPencil = function SvgPencil(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    width: 12,\n    height: 12,\n    viewBox: \"0 0 12 12\",\n    fill: \"none\",\n    ref: svgRef\n  }, props), title ? React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgPencil, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/pencil.ff01befb.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"circle\", {\n  cx: 25,\n  cy: 25,\n  r: 25,\n  fill: \"#7FBDFF\"\n});\n\nvar _ref3 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M13.0938 33.9531C13.0938 34.5312 12.8958 34.9766 12.5 35.2891C12.1068 35.599 11.543 35.7539 10.8086 35.7539H10.1367V38H9.47266V32.2891H10.9531C12.3802 32.2891 13.0938 32.8438 13.0938 33.9531ZM10.1367 35.1836H10.7344C11.3229 35.1836 11.7487 35.0885 12.0117 34.8984C12.2747 34.7083 12.4062 34.4036 12.4062 33.9844C12.4062 33.6068 12.2826 33.3255 12.0352 33.1406C11.7878 32.9557 11.4023 32.8633 10.8789 32.8633H10.1367V35.1836ZM16.0039 38.0781C15.3711 38.0781 14.8711 37.8854 14.5039 37.5C14.1393 37.1146 13.957 36.5794 13.957 35.8945C13.957 35.2044 14.1263 34.6562 14.4648 34.25C14.806 33.8438 15.263 33.6406 15.8359 33.6406C16.3724 33.6406 16.7969 33.8177 17.1094 34.1719C17.4219 34.5234 17.5781 34.9883 17.5781 35.5664V35.9766H14.6289C14.6419 36.4792 14.7682 36.8607 15.0078 37.1211C15.25 37.3815 15.5898 37.5117 16.0273 37.5117C16.4883 37.5117 16.944 37.4154 17.3945 37.2227V37.8008C17.1654 37.8997 16.9479 37.9701 16.7422 38.0117C16.5391 38.056 16.293 38.0781 16.0039 38.0781ZM15.8281 34.1836C15.4844 34.1836 15.2096 34.2956 15.0039 34.5195C14.8008 34.7435 14.681 35.0534 14.6445 35.4492H16.8828C16.8828 35.0404 16.7917 34.7279 16.6094 34.5117C16.4271 34.293 16.1667 34.1836 15.8281 34.1836ZM20.6406 33.6406C20.8307 33.6406 21.0013 33.6562 21.1523 33.6875L21.0625 34.2891C20.8854 34.25 20.7292 34.2305 20.5938 34.2305C20.2474 34.2305 19.9505 34.3711 19.7031 34.6523C19.4583 34.9336 19.3359 35.2839 19.3359 35.7031V38H18.6875V33.7188H19.2227L19.2969 34.5117H19.3281C19.487 34.2331 19.6784 34.0182 19.9023 33.8672C20.1263 33.7161 20.3724 33.6406 20.6406 33.6406ZM24.7148 36.832C24.7148 37.2305 24.5664 37.5378 24.2695 37.7539C23.9727 37.9701 23.556 38.0781 23.0195 38.0781C22.4518 38.0781 22.0091 37.9883 21.6914 37.8086V37.207C21.8971 37.3112 22.1172 37.3932 22.3516 37.4531C22.5885 37.513 22.8164 37.543 23.0352 37.543C23.3737 37.543 23.6341 37.4896 23.8164 37.3828C23.9987 37.2734 24.0898 37.1081 24.0898 36.8867C24.0898 36.7201 24.0169 36.5781 23.8711 36.4609C23.7279 36.3411 23.4466 36.2005 23.0273 36.0391C22.6289 35.8906 22.3451 35.7617 22.1758 35.6523C22.0091 35.5404 21.8841 35.4141 21.8008 35.2734C21.7201 35.1328 21.6797 34.9648 21.6797 34.7695C21.6797 34.4206 21.8216 34.1458 22.1055 33.9453C22.3893 33.7422 22.7786 33.6406 23.2734 33.6406C23.7344 33.6406 24.1849 33.7344 24.625 33.9219L24.3945 34.4492C23.9648 34.2721 23.5755 34.1836 23.2266 34.1836C22.9193 34.1836 22.6875 34.2318 22.5312 34.3281C22.375 34.4245 22.2969 34.5573 22.2969 34.7266C22.2969 34.8411 22.3255 34.9388 22.3828 35.0195C22.4427 35.1003 22.5378 35.1771 22.668 35.25C22.7982 35.3229 23.0482 35.4284 23.418 35.5664C23.9258 35.7513 24.2682 35.9375 24.4453 36.125C24.625 36.3125 24.7148 36.5482 24.7148 36.832ZM29.4688 35.8555C29.4688 36.5534 29.293 37.099 28.9414 37.4922C28.5898 37.8828 28.1042 38.0781 27.4844 38.0781C27.1016 38.0781 26.7617 37.9883 26.4648 37.8086C26.168 37.6289 25.9388 37.3711 25.7773 37.0352C25.6159 36.6992 25.5352 36.306 25.5352 35.8555C25.5352 35.1576 25.7096 34.6146 26.0586 34.2266C26.4076 33.8359 26.8919 33.6406 27.5117 33.6406C28.1107 33.6406 28.5859 33.8398 28.9375 34.2383C29.2917 34.6367 29.4688 35.1758 29.4688 35.8555ZM26.207 35.8555C26.207 36.4023 26.3164 36.819 26.5352 37.1055C26.7539 37.3919 27.0755 37.5352 27.5 37.5352C27.9245 37.5352 28.2461 37.3932 28.4648 37.1094C28.6862 36.8229 28.7969 36.4049 28.7969 35.8555C28.7969 35.3112 28.6862 34.8984 28.4648 34.6172C28.2461 34.3333 27.9219 34.1914 27.4922 34.1914C27.0677 34.1914 26.7474 34.3307 26.5312 34.6094C26.3151 34.888 26.207 35.3034 26.207 35.8555ZM33.5391 38V35.2305C33.5391 34.8815 33.4596 34.6211 33.3008 34.4492C33.1419 34.2773 32.8932 34.1914 32.5547 34.1914C32.1068 34.1914 31.7786 34.3125 31.5703 34.5547C31.362 34.7969 31.2578 35.1966 31.2578 35.7539V38H30.6094V33.7188H31.1367L31.2422 34.3047H31.2734C31.4062 34.0938 31.5924 33.931 31.832 33.8164C32.0716 33.6992 32.3385 33.6406 32.6328 33.6406C33.1484 33.6406 33.5365 33.7656 33.7969 34.0156C34.0573 34.263 34.1875 34.6602 34.1875 35.207V38H33.5391ZM38.1562 38L38.0273 37.3906H37.9961C37.7826 37.6589 37.569 37.8411 37.3555 37.9375C37.1445 38.0312 36.8802 38.0781 36.5625 38.0781C36.138 38.0781 35.8047 37.9688 35.5625 37.75C35.3229 37.5312 35.2031 37.2201 35.2031 36.8164C35.2031 35.9518 35.8945 35.4987 37.2773 35.457L38.0039 35.4336V35.168C38.0039 34.832 37.931 34.5846 37.7852 34.4258C37.6419 34.2643 37.4115 34.1836 37.0938 34.1836C36.737 34.1836 36.3333 34.293 35.8828 34.5117L35.6836 34.0156C35.8945 33.901 36.125 33.8112 36.375 33.7461C36.6276 33.681 36.8802 33.6484 37.1328 33.6484C37.6432 33.6484 38.0208 33.7617 38.2656 33.9883C38.513 34.2148 38.6367 34.5781 38.6367 35.0781V38H38.1562ZM36.6914 37.543C37.0951 37.543 37.4115 37.4323 37.6406 37.2109C37.8724 36.9896 37.9883 36.6797 37.9883 36.2812V35.8945L37.3398 35.9219C36.8242 35.9401 36.4518 36.0208 36.2227 36.1641C35.9961 36.3047 35.8828 36.5247 35.8828 36.8242C35.8828 37.0586 35.9531 37.237 36.0938 37.3594C36.237 37.4818 36.4362 37.543 36.6914 37.543ZM40.625 38H39.9766V31.9219H40.625V38Z\",\n  fill: \"white\"\n});\n\nvar _ref4 =\n/*#__PURE__*/\nReact.createElement(\"rect\", {\n  x: 30,\n  y: 12,\n  width: 5,\n  height: 17,\n  rx: 1,\n  stroke: \"white\",\n  strokeWidth: 2\n});\n\nvar _ref5 =\n/*#__PURE__*/\nReact.createElement(\"rect\", {\n  x: 16,\n  y: 11,\n  width: 10,\n  height: 18,\n  rx: 1,\n  stroke: \"white\",\n  strokeWidth: 2\n});\n\nvar SvgPersonalView = function SvgPersonalView(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    width: 50,\n    height: 50,\n    viewBox: \"0 0 50 50\",\n    fill: \"none\",\n    ref: svgRef\n  }, props), title ? React.createElement(\"title\", null, title) : null, _ref2, _ref3, _ref4, _ref5);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgPersonalView, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/personal-view.924ba21f.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"defs\", null, React.createElement(\"path\", {\n  d: \"M14.546 5.693v4.235c.757.677 1.257 1.383 1.5 2.118.243.735.41 1.302.5 1.702h-10c.067-.238.234-.806.5-1.702.266-.896.766-1.602 1.5-2.118V5.693l-2-2.647h10l-2 2.647zm-4 8.47h2l-1 6.883-1-6.882z\",\n  id: \"pin-2-dark-filled_svg__a\"\n}));\n\nvar _ref3 =\n/*#__PURE__*/\nReact.createElement(\"use\", {\n  stroke: \"#000\",\n  fill: \"#000\",\n  strokeWidth: 2,\n  strokeLinejoin: \"round\",\n  fillRule: \"nonzero\",\n  transform: \"rotate(-45 11.546 12.046)\",\n  xlinkHref: \"#pin-2-dark-filled_svg__a\"\n});\n\nvar SvgPin2DarkFilled = function SvgPin2DarkFilled(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 20 20\",\n    ref: svgRef\n  }, props), title ? React.createElement(\"title\", null, title) : null, _ref2, _ref3);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgPin2DarkFilled, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/pin-2-dark-filled.74619d5f.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"defs\", null, React.createElement(\"path\", {\n  d: \"M14.546 5.693v4.235c.757.677 1.257 1.383 1.5 2.118.243.735.41 1.302.5 1.702h-10c.067-.238.234-.806.5-1.702.266-.896.766-1.602 1.5-2.118V5.693l-2-2.647h10l-2 2.647zm-4 8.47h2l-1 6.883-1-6.882z\",\n  id: \"pin-2-dark-outline_svg__a\"\n}));\n\nvar _ref3 =\n/*#__PURE__*/\nReact.createElement(\"use\", {\n  stroke: \"#5A5A5A\",\n  strokeWidth: 2,\n  strokeLinejoin: \"round\",\n  fillRule: \"nonzero\",\n  transform: \"rotate(-45 11.546 12.046)\",\n  xlinkHref: \"#pin-2-dark-outline_svg__a\",\n  fill: \"none\"\n});\n\nvar SvgPin2DarkOutline = function SvgPin2DarkOutline(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 20 20\",\n    ref: svgRef\n  }, props), title ? React.createElement(\"title\", null, title) : null, _ref2, _ref3);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgPin2DarkOutline, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/pin-2-dark-outline.edb5e072.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"defs\", null, React.createElement(\"path\", {\n  d: \"M14.546 5.693v4.235c.757.677 1.257 1.383 1.5 2.118.243.735.41 1.302.5 1.702h-10c.067-.238.234-.806.5-1.702.266-.896.766-1.602 1.5-2.118V5.693l-2-2.647h10l-2 2.647zm-4 8.47h2l-1 6.883-1-6.882z\",\n  id: \"pin-2-light-filled_svg__a\"\n}));\n\nvar _ref3 =\n/*#__PURE__*/\nReact.createElement(\"use\", {\n  stroke: \"#F9F9F9\",\n  fill: \"#F9F9F9\",\n  strokeWidth: 2,\n  strokeLinejoin: \"round\",\n  fillRule: \"nonzero\",\n  transform: \"rotate(-45 11.546 12.046)\",\n  xlinkHref: \"#pin-2-light-filled_svg__a\"\n});\n\nvar SvgPin2LightFilled = function SvgPin2LightFilled(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 20 20\",\n    ref: svgRef\n  }, props), title ? React.createElement(\"title\", null, title) : null, _ref2, _ref3);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgPin2LightFilled, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/pin-2-light-filled.805897bb.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"defs\", null, React.createElement(\"path\", {\n  d: \"M14.546 5.693v4.235c.757.677 1.257 1.383 1.5 2.118.243.735.41 1.302.5 1.702h-10c.067-.238.234-.806.5-1.702.266-.896.766-1.602 1.5-2.118V5.693l-2-2.647h10l-2 2.647zm-4 8.47h2l-1 6.883-1-6.882z\",\n  id: \"pin-2-light-outline_svg__a\"\n}));\n\nvar _ref3 =\n/*#__PURE__*/\nReact.createElement(\"use\", {\n  stroke: \"#F9F9F9\",\n  strokeWidth: 2,\n  strokeLinejoin: \"round\",\n  fillRule: \"nonzero\",\n  transform: \"rotate(-45 11.546 12.046)\",\n  xlinkHref: \"#pin-2-light-outline_svg__a\",\n  fill: \"none\"\n});\n\nvar SvgPin2LightOutline = function SvgPin2LightOutline(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 20 20\",\n    ref: svgRef\n  }, props), title ? React.createElement(\"title\", null, title) : null, _ref2, _ref3);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgPin2LightOutline, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/pin-2-light-outline.dedf8149.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M13.5417 16.0014H7.15C3.20729 16.0014 0 12.8198 0 8.90863C0 7.01453 0.74375 5.23306 2.09479 3.89283L4.38438 1.62053C6.56146 -0.540175 10.1052 -0.540175 12.2823 1.62053L13.2365 2.56706H19.7917C20.9406 2.56706 21.875 3.49396 21.875 4.63373C21.875 5.77349 20.9406 6.70039 19.7917 6.70039H17.4281C17.6063 7.00419 17.7083 7.35759 17.7083 7.73373C17.7083 8.63376 17.125 9.40153 16.3135 9.68466C16.5365 10.0133 16.6667 10.409 16.6667 10.8337C16.6667 11.7338 16.0833 12.5015 15.2719 12.7847C15.4948 13.1133 15.625 13.509 15.625 13.9337C15.625 15.0745 14.6906 16.0014 13.5417 16.0014ZM8.33333 1.03463C7.16979 1.03463 6.00729 1.47379 5.12083 2.35213L2.83125 4.62443C1.67708 5.76936 1.04167 7.29043 1.04167 8.90863C1.04167 12.2494 3.78229 14.9681 7.15 14.9681H13.5417C14.1167 14.9681 14.5833 14.5041 14.5833 13.9348C14.5833 13.3654 14.1167 12.9014 13.5417 12.9014C13.2542 12.9014 13.0208 12.67 13.0208 12.3848C13.0208 12.0996 13.2542 11.8681 13.5417 11.8681H14.5833C15.1583 11.8681 15.625 11.4041 15.625 10.8348C15.625 10.2654 15.1583 9.80142 14.5833 9.80142H14.0625C13.775 9.80142 13.5417 9.56996 13.5417 9.28476C13.5417 8.99956 13.775 8.76809 14.0625 8.76809H15.625C16.2 8.76809 16.6667 8.30413 16.6667 7.73476C16.6667 7.16539 16.2 6.70143 15.625 6.70143H13.0208C12.7333 6.70143 12.5 6.46996 12.5 6.18476C12.5 5.89956 12.7333 5.66809 13.0208 5.66809H19.7917C20.3667 5.66809 20.8333 5.20413 20.8333 4.63476C20.8333 4.06539 20.3667 3.60143 19.7917 3.60143H8.85417C8.56667 3.60143 8.33333 3.36996 8.33333 3.08476C8.33333 2.79956 8.56667 2.56809 8.85417 2.56809H11.7635L11.5458 2.35213C10.6594 1.47379 9.49687 1.03463 8.33333 1.03463Z\",\n  fill: \"#7BA9EF\"\n});\n\nvar SvgPoke = function SvgPoke(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    width: 22,\n    height: 17,\n    viewBox: \"0 0 22 17\",\n    fill: \"none\",\n    ref: svgRef\n  }, props), title ? React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgPoke, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/poke.cfd73a56.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"g\", {\n  fillRule: \"nonzero\",\n  stroke: \"#5A5A5A\",\n  strokeWidth: 2,\n  fill: \"none\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n}, React.createElement(\"path\", {\n  d: \"M3 10.5a7 7 0 1 0 2.047-4.946M7.897 7.297L4 6.397 4.9 2.5\"\n}));\n\nvar SvgRepeat = function SvgRepeat(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 20 20\",\n    ref: svgRef\n  }, props), title ? React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgRepeat, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/repeat.b33bced0.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"g\", {\n  fillRule: \"nonzero\",\n  stroke: \"#FFF\",\n  opacity: 0.504,\n  strokeWidth: 2,\n  fill: \"none\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n}, React.createElement(\"path\", {\n  d: \"M3 10.5a7 7 0 1 0 2.047-4.946M7.897 7.297L4 6.397 4.9 2.5\"\n}));\n\nvar SvgRepeatLight = function SvgRepeatLight(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 20 20\",\n    ref: svgRef\n  }, props), title ? React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgRepeatLight, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/repeat-light.2e136434.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"g\", {\n  fill: \"none\",\n  fillRule: \"evenodd\",\n  stroke: \"#5A5A5A\",\n  strokeWidth: 3\n}, React.createElement(\"circle\", {\n  cx: 18,\n  cy: 18,\n  r: 4.5\n}), React.createElement(\"path\", {\n  d: \"M34.5 20.5v-6h-4.974l-.376-.945c-.098-.247-.204-.49-.319-.73l-.457-.956 3.415-3.415-4.243-4.243-3.415 3.415-.957-.457c-.24-.115-.482-.22-.729-.319l-.945-.376V1.5h-6v4.71l-1.057.326c-.546.17-1.08.377-1.597.623l-.973.463L8.5 4.129 4.184 8.297l3.446 3.568-.452.941c-.118.246-.227.496-.328.749l-.376.945H1.5v6h4.71l.326 1.057c.172.553.383 1.094.633 1.617l.457.957-3.415 3.415 4.243 4.243 3.415-3.415.957.457c.523.25 1.064.461 1.617.633l1.057.326v4.71h6v-4.974l.945-.376c.273-.109.542-.227.807-.356l.979-.476 3.351 3.47 4.316-4.168-3.467-3.59.438-.936c.234-.498.432-1.012.595-1.537l.326-1.057h4.71z\"\n}));\n\nvar SvgSettings = function SvgSettings(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 36 36\",\n    ref: svgRef\n  }, props), title ? React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgSettings, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/settings.5569dcdb.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"g\", {\n  fill: \"none\",\n  fillRule: \"nonzero\"\n}, React.createElement(\"path\", {\n  d: \"M3 1a2 2 0 0 0-2 2v29a2 2 0 0 0 2 2h29a2 2 0 0 0 2-2V3a2 2 0 0 0-2-2H3z\",\n  stroke: \"#5A5A5A\",\n  strokeWidth: 2,\n  fill: \"#5A5A5A\"\n}), React.createElement(\"g\", {\n  transform: \"translate(6 11)\",\n  stroke: \"#FFF\",\n  strokeWidth: 3\n}, React.createElement(\"path\", {\n  d: \"M11.701 13.666c4.308 0 8.209-2.167 11.701-6.5C19.91 2.832 16.01.665 11.702.665c-4.31 0-8.21 2.167-11.702 6.5 3.493 4.334 7.393 6.501 11.701 6.501z\"\n}), React.createElement(\"circle\", {\n  cx: 11.701,\n  cy: 7.166,\n  r: 5.2\n})));\n\nvar SvgShow = function SvgShow(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 35 35\",\n    ref: svgRef\n  }, props), title ? React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgShow, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/show.64af1272.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"g\", {\n  transform: \"rotate(-45 6.578 6.26)\",\n  fillRule: \"nonzero\",\n  stroke: \"#5A5A5A\",\n  fill: \"none\"\n}, React.createElement(\"path\", {\n  strokeWidth: 2,\n  strokeLinejoin: \"round\",\n  d: \"M6.356.164L.99 4.457v13.951l10.732.035V4.457z\"\n}), React.createElement(\"circle\", {\n  cx: 6.359,\n  cy: 6.064,\n  r: 1.61\n}));\n\nvar SvgTag = function SvgTag(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 20 20\",\n    ref: svgRef\n  }, props), title ? React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgTag, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/tag.70e131ed.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"g\", {\n  transform: \"rotate(-45 6.578 6.26)\",\n  fillRule: \"nonzero\",\n  stroke: \"#FFF\",\n  fill: \"none\"\n}, React.createElement(\"path\", {\n  strokeWidth: 2,\n  strokeLinejoin: \"round\",\n  d: \"M6.356.164L.99 4.457v13.951l10.732.035V4.457z\"\n}), React.createElement(\"circle\", {\n  cx: 6.359,\n  cy: 6.064,\n  r: 1.61\n}));\n\nvar SvgTagLight = function SvgTagLight(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 20 20\",\n    ref: svgRef\n  }, props), title ? React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgTagLight, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/tag-light.1108dc58.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"defs\", null, React.createElement(\"path\", {\n  d: \"M2.5 20H0V0h20v20H2.5zm0-2.5h15v-15h-15v15z\",\n  id: \"unchecked_svg__a\"\n}));\n\nvar _ref3 =\n/*#__PURE__*/\nReact.createElement(\"g\", {\n  fill: \"none\",\n  fillRule: \"evenodd\"\n}, React.createElement(\"mask\", {\n  id: \"unchecked_svg__b\",\n  fill: \"#fff\"\n}, React.createElement(\"use\", {\n  xlinkHref: \"#unchecked_svg__a\"\n})), React.createElement(\"use\", {\n  fill: \"#FFF\",\n  fillRule: \"nonzero\",\n  xlinkHref: \"#unchecked_svg__a\"\n}), React.createElement(\"g\", {\n  mask: \"url(#unchecked_svg__b)\",\n  fill: \"#FFF\",\n  fillRule: \"nonzero\"\n}, React.createElement(\"path\", {\n  d: \"M0 0h20v20H0z\"\n})));\n\nvar SvgUnchecked = function SvgUnchecked(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 20 20\",\n    ref: svgRef\n  }, props), title ? React.createElement(\"title\", null, title) : null, _ref2, _ref3);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgUnchecked, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/unchecked.391264cd.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"defs\", null, React.createElement(\"path\", {\n  d: \"M10.14 13.143l6.606-6.607a.535.535 0 0 1 .756.756l-6.969 6.969a.533.533 0 0 1-.393.156.533.533 0 0 1-.394-.156L2.777 7.292a.535.535 0 1 1 .756-.756l6.607 6.607z\",\n  id: \"v_svg__a\"\n}));\n\nvar _ref3 =\n/*#__PURE__*/\nReact.createElement(\"g\", {\n  fill: \"none\",\n  fillRule: \"evenodd\"\n}, React.createElement(\"mask\", {\n  id: \"v_svg__b\",\n  fill: \"#fff\"\n}, React.createElement(\"use\", {\n  xlinkHref: \"#v_svg__a\"\n})), React.createElement(\"use\", {\n  stroke: \"#9B9B9B\",\n  fill: \"#9B9B9B\",\n  fillRule: \"nonzero\",\n  strokeLinecap: \"round\",\n  xlinkHref: \"#v_svg__a\"\n}), React.createElement(\"g\", {\n  mask: \"url(#v_svg__b)\",\n  fill: \"transparent\",\n  fillRule: \"nonzero\"\n}, React.createElement(\"path\", {\n  d: \"M0 0h20v20H0z\"\n})));\n\nvar SvgV = function SvgV(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 20 20\",\n    ref: svgRef\n  }, props), title ? React.createElement(\"title\", null, title) : null, _ref2, _ref3);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgV, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/v.8ef60f3c.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"defs\", null, React.createElement(\"path\", {\n  d: \"M10.14 8.484l5.811-5.811a1 1 0 1 1 1.415 1.414l-5.812 5.812 5.812 5.811a1 1 0 0 1-1.415 1.415l-5.811-5.812-5.812 5.812a1 1 0 1 1-1.414-1.415L8.726 9.9 2.914 4.087a1 1 0 0 1 1.414-1.414l5.812 5.811z\",\n  id: \"XDark_svg__a\"\n}));\n\nvar _ref3 =\n/*#__PURE__*/\nReact.createElement(\"g\", {\n  fill: \"none\",\n  fillRule: \"evenodd\"\n}, React.createElement(\"mask\", {\n  id: \"XDark_svg__b\",\n  fill: \"#fff\"\n}, React.createElement(\"use\", {\n  xlinkHref: \"#XDark_svg__a\"\n})), React.createElement(\"use\", {\n  stroke: \"#000\",\n  fill: \"#000\",\n  fillRule: \"nonzero\",\n  strokeLinecap: \"round\",\n  xlinkHref: \"#XDark_svg__a\"\n}), React.createElement(\"g\", {\n  mask: \"url(#XDark_svg__b)\",\n  fill: \"transparent\",\n  fillRule: \"nonzero\"\n}, React.createElement(\"path\", {\n  d: \"M0 0h20v20H0z\"\n})));\n\nvar SvgXDark = function SvgXDark(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 20 20\",\n    ref: svgRef\n  }, props), title ? React.createElement(\"title\", null, title) : null, _ref2, _ref3);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgXDark, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/XDark.c73c1341.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"defs\", null, React.createElement(\"path\", {\n  d: \"M10.14 8.484l5.811-5.811a1 1 0 1 1 1.415 1.414l-5.812 5.812 5.812 5.811a1 1 0 0 1-1.415 1.415l-5.811-5.812-5.812 5.812a1 1 0 1 1-1.414-1.415L8.726 9.9 2.914 4.087a1 1 0 0 1 1.414-1.414l5.812 5.811z\",\n  id: \"XLight_svg__a\"\n}));\n\nvar _ref3 =\n/*#__PURE__*/\nReact.createElement(\"g\", {\n  fill: \"none\",\n  fillRule: \"evenodd\"\n}, React.createElement(\"mask\", {\n  id: \"XLight_svg__b\",\n  fill: \"#fff\"\n}, React.createElement(\"use\", {\n  xlinkHref: \"#XLight_svg__a\"\n})), React.createElement(\"use\", {\n  stroke: \"#FFF\",\n  fill: \"#FFF\",\n  fillRule: \"nonzero\",\n  strokeLinecap: \"round\",\n  xlinkHref: \"#XLight_svg__a\"\n}), React.createElement(\"g\", {\n  mask: \"url(#XLight_svg__b)\",\n  fill: \"transparent\",\n  fillRule: \"nonzero\"\n}, React.createElement(\"path\", {\n  d: \"M0 0h20v20H0z\"\n})));\n\nvar SvgXLight = function SvgXLight(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 20 20\",\n    ref: svgRef\n  }, props), title ? React.createElement(\"title\", null, title) : null, _ref2, _ref3);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgXLight, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/XLight.b14ef42f.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"switch\", null, React.createElement(\"g\", null, React.createElement(\"path\", {\n  d: \"M96 54.1l1.5 16.5c.2 1.8-1.8 3.2-3.4 2.3l-4.6-2.3c-7.5 14.3-22.4 24-39.5 24-20.1 0-37.1-13.3-42.7-31.6-.7-2.3 1.1-4.7 3.5-4.7 1.6 0 3 1.1 3.5 2.6C19 76.2 33.2 87.3 50 87.3c14.3 0 26.8-8.1 33-19.9L78.3 65c-1.7-.8-1.7-3.2-.2-4.1l14.2-8.6c1.6-.9 3.5.1 3.7 1.8zM50 5.4c20.1 0 37.1 13.3 42.7 31.6.7 2.3-1.1 4.7-3.5 4.7-1.6 0-3-1.1-3.5-2.6C81 23.8 66.8 12.7 50 12.7c-14.3 0-26.8 8.1-33 19.9l4.7 2.4c1.7.8 1.7 3.2.2 4.1L7.6 47.7c-1.5.9-3.4-.1-3.6-1.8L2.5 29.3c-.2-1.8 1.8-3.2 3.4-2.3l4.6 2.3C18 15.1 32.9 5.4 50 5.4z\"\n})));\n\nvar SvgRepeatFrequency = function SvgRepeatFrequency(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 100 125\",\n    ref: svgRef\n  }, props), title ? React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgRepeatFrequency, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/repeat-frequency.92d9e92c.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M10 13.125V11.875C10 11.212 9.73661 10.5761 9.26777 10.1072C8.79893 9.63839 8.16304 9.375 7.5 9.375H3.125C2.46196 9.375 1.82607 9.63839 1.35723 10.1072C0.888392 10.5761 0.625 11.212 0.625 11.875V13.125\",\n  stroke: \"white\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n});\n\nvar _ref3 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M5.3125 6.875C6.69321 6.875 7.8125 5.75571 7.8125 4.375C7.8125 2.99429 6.69321 1.875 5.3125 1.875C3.93179 1.875 2.8125 2.99429 2.8125 4.375C2.8125 5.75571 3.93179 6.875 5.3125 6.875Z\",\n  stroke: \"white\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n});\n\nvar _ref4 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M12.5 5V8.75\",\n  stroke: \"white\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n});\n\nvar _ref5 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M14.375 6.875H10.625\",\n  stroke: \"white\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n});\n\nvar SvgUserPlus = function SvgUserPlus(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    width: 15,\n    height: 15,\n    viewBox: \"0 0 15 15\",\n    fill: \"none\",\n    ref: svgRef\n  }, props), title ? React.createElement(\"title\", null, title) : null, _ref2, _ref3, _ref4, _ref5);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgUserPlus, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/user-plus.f37a652a.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M4.27588 34.3301H1.59521L0.993164 36H0.123047L2.56641 29.6016H3.30469L5.75244 36H4.88672L4.27588 34.3301ZM1.8501 33.6357H4.02539L2.93555 30.6431L1.8501 33.6357ZM6.28857 33.583C6.28857 32.8535 6.46143 32.2676 6.80713 31.8252C7.15283 31.3799 7.60547 31.1572 8.16504 31.1572C8.72168 31.1572 9.1626 31.3477 9.48779 31.7285V29.25H10.3008V36H9.55371L9.51416 35.4902C9.18896 35.8887 8.73633 36.0879 8.15625 36.0879C7.60547 36.0879 7.15576 35.8623 6.80713 35.4111C6.46143 34.96 6.28857 34.3711 6.28857 33.6445V33.583ZM7.10156 33.6753C7.10156 34.2144 7.21289 34.6362 7.43555 34.9409C7.6582 35.2456 7.96582 35.3979 8.3584 35.3979C8.87402 35.3979 9.25049 35.1665 9.48779 34.7036V32.5195C9.24463 32.0713 8.87109 31.8472 8.36719 31.8472C7.96875 31.8472 7.6582 32.001 7.43555 32.3086C7.21289 32.6162 7.10156 33.0718 7.10156 33.6753ZM11.3687 33.583C11.3687 32.8535 11.5415 32.2676 11.8872 31.8252C12.2329 31.3799 12.6855 31.1572 13.2451 31.1572C13.8018 31.1572 14.2427 31.3477 14.5679 31.7285V29.25H15.3809V36H14.6338L14.5942 35.4902C14.269 35.8887 13.8164 36.0879 13.2363 36.0879C12.6855 36.0879 12.2358 35.8623 11.8872 35.4111C11.5415 34.96 11.3687 34.3711 11.3687 33.6445V33.583ZM12.1816 33.6753C12.1816 34.2144 12.293 34.6362 12.5156 34.9409C12.7383 35.2456 13.0459 35.3979 13.4385 35.3979C13.9541 35.3979 14.3306 35.1665 14.5679 34.7036V32.5195C14.3247 32.0713 13.9512 31.8472 13.4473 31.8472C13.0488 31.8472 12.7383 32.001 12.5156 32.3086C12.293 32.6162 12.1816 33.0718 12.1816 33.6753ZM23.2515 30.2959H21.1948V36H20.3555V30.2959H18.3032V29.6016H23.2515V30.2959ZM26.5078 36C26.4609 35.9062 26.4229 35.7393 26.3936 35.499C26.0156 35.8916 25.5645 36.0879 25.04 36.0879C24.5713 36.0879 24.186 35.9561 23.8843 35.6924C23.5854 35.4258 23.436 35.0889 23.436 34.6816C23.436 34.1865 23.6235 33.8027 23.9985 33.5303C24.3765 33.2549 24.9067 33.1172 25.5894 33.1172H26.3804V32.7437C26.3804 32.4595 26.2954 32.2339 26.1255 32.0669C25.9556 31.897 25.7051 31.812 25.374 31.812C25.084 31.812 24.8408 31.8853 24.6445 32.0317C24.4482 32.1782 24.3501 32.3555 24.3501 32.5635H23.5327C23.5327 32.3262 23.6162 32.0977 23.7832 31.8779C23.9531 31.6553 24.1816 31.4795 24.4688 31.3506C24.7588 31.2217 25.0767 31.1572 25.4224 31.1572C25.9702 31.1572 26.3994 31.2949 26.71 31.5703C27.0205 31.8428 27.1816 32.2192 27.1934 32.6997V34.8882C27.1934 35.3247 27.249 35.6719 27.3604 35.9297V36H26.5078ZM25.1587 35.3804C25.4136 35.3804 25.6553 35.3145 25.8838 35.1826C26.1123 35.0508 26.2778 34.8794 26.3804 34.6685V33.6929H25.7432C24.7471 33.6929 24.249 33.9844 24.249 34.5674C24.249 34.8223 24.334 35.0215 24.5039 35.165C24.6738 35.3086 24.8921 35.3804 25.1587 35.3804ZM31.2363 34.7388C31.2363 34.519 31.1528 34.3491 30.9858 34.229C30.8218 34.106 30.5332 34.0005 30.1201 33.9126C29.71 33.8247 29.3833 33.7192 29.1401 33.5962C28.8999 33.4731 28.7212 33.3267 28.604 33.1567C28.4897 32.9868 28.4326 32.7847 28.4326 32.5503C28.4326 32.1606 28.5967 31.8311 28.9248 31.5615C29.2559 31.292 29.6777 31.1572 30.1904 31.1572C30.7295 31.1572 31.166 31.2964 31.5 31.5747C31.8369 31.853 32.0054 32.209 32.0054 32.6426H31.188C31.188 32.4199 31.0928 32.228 30.9023 32.0669C30.7148 31.9058 30.4775 31.8252 30.1904 31.8252C29.8945 31.8252 29.6631 31.8896 29.4961 32.0186C29.3291 32.1475 29.2456 32.3159 29.2456 32.5239C29.2456 32.7202 29.3232 32.8682 29.4785 32.9678C29.6338 33.0674 29.9136 33.1626 30.3179 33.2534C30.7251 33.3442 31.0547 33.4526 31.3066 33.5786C31.5586 33.7046 31.7446 33.8569 31.8647 34.0356C31.9878 34.2114 32.0493 34.4268 32.0493 34.6816C32.0493 35.1064 31.8794 35.4478 31.5396 35.7056C31.1997 35.9604 30.7588 36.0879 30.2168 36.0879C29.8359 36.0879 29.499 36.0205 29.2061 35.8857C28.9131 35.751 28.6831 35.5635 28.5161 35.3232C28.3521 35.0801 28.27 34.8179 28.27 34.5366H29.083C29.0977 34.8091 29.2061 35.0259 29.4082 35.187C29.6133 35.3452 29.8828 35.4243 30.2168 35.4243C30.5244 35.4243 30.7705 35.3628 30.9551 35.2397C31.1426 35.1138 31.2363 34.9468 31.2363 34.7388ZM34.4355 33.7983L33.9258 34.3301V36H33.1128V29.25H33.9258V33.3325L34.3608 32.8096L35.8418 31.2451H36.8306L34.9805 33.2314L37.0459 36H36.0923L34.4355 33.7983Z\",\n  fill: \"black\"\n});\n\nvar _ref3 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M19 22C24.5228 22 29 17.5228 29 12C29 6.47715 24.5228 2 19 2C13.4772 2 9 6.47715 9 12C9 17.5228 13.4772 22 19 22Z\",\n  stroke: \"black\",\n  strokeWidth: 1.5,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n});\n\nvar _ref4 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M19 16L23 12L19 8\",\n  stroke: \"black\",\n  strokeWidth: 1.5,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n});\n\nvar _ref5 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M15 12H23\",\n  stroke: \"black\",\n  strokeWidth: 1.5,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n});\n\nvar SvgAddTask = function SvgAddTask(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    width: 38,\n    height: 38,\n    viewBox: \"0 0 38 38\",\n    fill: \"none\",\n    ref: svgRef\n  }, props), title ? React.createElement(\"title\", null, title) : null, _ref2, _ref3, _ref4, _ref5);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgAddTask, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/add-task.0d6e9212.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M6.875 2.5H2.5C2.16848 2.5 1.85054 2.6317 1.61612 2.86612C1.3817 3.10054 1.25 3.41848 1.25 3.75V12.5C1.25 12.8315 1.3817 13.1495 1.61612 13.3839C1.85054 13.6183 2.16848 13.75 2.5 13.75H11.25C11.5815 13.75 11.8995 13.6183 12.1339 13.3839C12.3683 13.1495 12.5 12.8315 12.5 12.5V8.125\",\n  stroke: \"black\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n});\n\nvar _ref3 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M11.5625 1.56241C11.8111 1.31377 12.1484 1.17409 12.5 1.17409C12.8516 1.17409 13.1889 1.31377 13.4375 1.56241C13.6861 1.81105 13.8258 2.14828 13.8258 2.49991C13.8258 2.85154 13.6861 3.18877 13.4375 3.43741L7.5 9.37491L5 9.99991L5.625 7.49991L11.5625 1.56241Z\",\n  stroke: \"black\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n});\n\nvar SvgEdit = function SvgEdit(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    width: 15,\n    height: 15,\n    viewBox: \"0 0 15 15\",\n    fill: \"none\",\n    ref: svgRef\n  }, props), title ? React.createElement(\"title\", null, title) : null, _ref2, _ref3);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgEdit, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/edit.d0e0eaf8.svg\";\nexport { ForwardRef as ReactComponent };","/**\n * The Icon Set for Samwise.\n */\n\nimport React, {\n  KeyboardEvent,\n  MouseEvent,\n  ReactElement,\n  StatelessComponent,\n  SVGAttributes,\n} from 'react';\nimport { IconName } from './samwise-icon-types';\nimport { ReactComponent as Alert } from '../../assets/svgs/alert.svg';\nimport { ReactComponent as Bell } from '../../assets/svgs/bell.svg';\nimport { ReactComponent as CalendarDark } from '../../assets/svgs/calendar-dark.svg';\nimport { ReactComponent as CalendarLight } from '../../assets/svgs/calendar-light.svg';\nimport { ReactComponent as CheckedDark } from '../../assets/svgs/checked-dark.svg';\nimport { ReactComponent as CheckedLight } from '../../assets/svgs/checked.svg';\nimport { ReactComponent as Clock } from '../../assets/svgs/clock.svg';\nimport { ReactComponent as Exit } from '../../assets/svgs/exit.svg';\nimport { ReactComponent as Grabber } from '../../assets/svgs/grabbers.svg';\nimport { ReactComponent as Hide } from '../../assets/svgs/hide.svg';\nimport { ReactComponent as Hug } from '../../assets/svgs/hug.svg';\nimport { ReactComponent as Pencil } from '../../assets/svgs/pencil.svg';\nimport { ReactComponent as PersonalView } from '../../assets/svgs/personal-view.svg';\nimport { ReactComponent as PinDarkFilled } from '../../assets/svgs/pin-2-dark-filled.svg';\nimport { ReactComponent as PinDarkOutline } from '../../assets/svgs/pin-2-dark-outline.svg';\nimport { ReactComponent as PinLightFilled } from '../../assets/svgs/pin-2-light-filled.svg';\nimport { ReactComponent as PinLightOutline } from '../../assets/svgs/pin-2-light-outline.svg';\nimport { ReactComponent as Poke } from '../../assets/svgs/poke.svg';\nimport { ReactComponent as Repeat } from '../../assets/svgs/repeat.svg';\nimport { ReactComponent as RepeatLight } from '../../assets/svgs/repeat-light.svg';\nimport { ReactComponent as Settings } from '../../assets/svgs/settings.svg';\nimport { ReactComponent as Show } from '../../assets/svgs/show.svg';\nimport { ReactComponent as Tag } from '../../assets/svgs/tag.svg';\nimport { ReactComponent as TagLight } from '../../assets/svgs/tag-light.svg';\nimport { ReactComponent as Unchecked } from '../../assets/svgs/unchecked.svg';\nimport { ReactComponent as DropDown } from '../../assets/svgs/v.svg';\nimport { ReactComponent as XDark } from '../../assets/svgs/XDark.svg';\nimport { ReactComponent as XLight } from '../../assets/svgs/XLight.svg';\nimport { ReactComponent as RepeatFrequency } from '../../assets/svgs/repeat-frequency.svg';\nimport { ReactComponent as UserPlus } from '../../assets/svgs/user-plus.svg';\nimport { ReactComponent as AddTask } from '../../assets/svgs/add-task.svg';\nimport { ReactComponent as Edit } from '../../assets/svgs/edit.svg';\n\ntype SvgProps = SVGAttributes<SVGElement>;\n\ntype Props = SvgProps & { readonly iconName: IconName; readonly title: string | undefined };\n\nconst SamwiseIcon = ({ iconName, title, ...otherProps }: Props): ReactElement => {\n  let SvgComponent: StatelessComponent<SvgProps>;\n  let altText: string;\n  // let title: string;\n\n  switch (iconName) {\n    case 'alert':\n      SvgComponent = Alert;\n      altText = 'alert';\n      break;\n    case 'bell':\n      SvgComponent = Bell;\n      altText = 'Nudge!';\n      break;\n    case 'calendar-dark':\n      SvgComponent = CalendarDark;\n      altText = 'Due date';\n      break;\n    case 'calendar-light':\n      SvgComponent = CalendarLight;\n      altText = 'Due date';\n      break;\n    case 'checked-dark':\n      SvgComponent = CheckedDark;\n      altText = 'Checked';\n      break;\n    case 'checked-light':\n      SvgComponent = CheckedLight;\n      altText = 'Checked';\n      break;\n    case 'clock':\n      SvgComponent = Clock;\n      altText = 'clock';\n      break;\n    case 'exit':\n      SvgComponent = Exit;\n      altText = 'Leave group';\n      break;\n    case 'grabber':\n      SvgComponent = Grabber;\n      altText = 'Reorder';\n      break;\n    case 'hide':\n      SvgComponent = Hide;\n      altText = 'Hide';\n      break;\n    case 'hug':\n      SvgComponent = Hug;\n      altText = 'Give a hug';\n      break;\n    case 'pencil':\n      SvgComponent = Pencil;\n      altText = 'Edit';\n      break;\n    case 'personal-view':\n      SvgComponent = PersonalView;\n      altText = 'Switch to Personal Samwise';\n      break;\n    case 'pin-dark-filled':\n      SvgComponent = PinDarkFilled;\n      altText = 'Unpin from Focus';\n      break;\n    case 'pin-dark-outline':\n      SvgComponent = PinDarkOutline;\n      altText = 'Pin to Focus';\n      break;\n    case 'pin-light-filled':\n      SvgComponent = PinLightFilled;\n      altText = 'Unpin from Focus';\n      break;\n    case 'pin-light-outline':\n      SvgComponent = PinLightOutline;\n      altText = 'Pin to Focus';\n      break;\n    case 'poke':\n      SvgComponent = Poke;\n      altText = 'Poke!';\n      break;\n    case 'repeat':\n      SvgComponent = Repeat;\n      altText = 'Repeating';\n      break;\n    case 'repeat-light':\n      SvgComponent = RepeatLight;\n      altText = 'Repeating Task';\n      break;\n    case 'settings':\n      SvgComponent = Settings;\n      altText = 'Settings';\n      break;\n    case 'show':\n      SvgComponent = Show;\n      altText = 'Show';\n      break;\n    case 'tag':\n      SvgComponent = Tag;\n      altText = 'Tag';\n      break;\n    case 'tag-light':\n      SvgComponent = TagLight;\n      altText = 'Tag';\n      break;\n    case 'unchecked':\n      SvgComponent = Unchecked;\n      altText = 'unchecked';\n      break;\n    case 'dropdown':\n      SvgComponent = DropDown;\n      altText = 'More';\n      break;\n    case 'x-dark':\n      SvgComponent = XDark;\n      altText = 'Delete';\n      break;\n    case 'x-light':\n      SvgComponent = XLight;\n      altText = 'Delete';\n      break;\n    case 'x-light-settings':\n      SvgComponent = XLight;\n      altText = 'Close Settings';\n      break;\n    case 'repeat-frequency':\n      SvgComponent = RepeatFrequency;\n      altText = 'Repeat Frequency';\n      break;\n    case 'user-plus':\n      SvgComponent = UserPlus;\n      altText = 'Add User';\n      break;\n    case 'add-task':\n      SvgComponent = AddTask;\n      altText = 'Add Task';\n      break;\n    case 'edit':\n      SvgComponent = Edit;\n      altText = 'Subtask';\n      break;\n    default:\n      throw new Error(`Unrecognized icon name: ${iconName}`);\n  }\n  const allPropsToSvg = {\n    width: '1em',\n    height: '1em',\n    alt: altText,\n    tabIndex: 0,\n    title: altText,\n    onKeyUp: (e: KeyboardEvent<SVGElement>) => {\n      e.stopPropagation();\n      if (e.key === ' ' && otherProps.onClick != null) {\n        // hacky way to convert space to click. Potentially unsafe but generally OK.\n        otherProps.onClick(e as unknown as MouseEvent<SVGElement>);\n      }\n    },\n    ...otherProps,\n  };\n  return (\n    <span title={title ?? altText}>\n      {/* eslint-disable-next-line react/jsx-props-no-spreading */}\n      <SvgComponent {...allPropsToSvg} />\n    </span>\n  );\n};\n\nSamwiseIcon.defaultProps = { title: undefined };\n\nexport default SamwiseIcon;\n","const colMap: { readonly [colorHex: string]: string } = {\n  '#bb5769': 'Dark Rose',\n  '#ff8a8a': 'Peachy Pink',\n  '#ea5e3d': 'Dusty Orange',\n  '#fcab10': 'Goldfish',\n  '#83ba9a': 'Sage',\n  '#00a346': 'Emerald',\n  '#009c8a': 'Teal',\n  '#00c0d7': 'Aqua',\n  '#289de9': 'Blue',\n  '#4742b7': 'Blueberry',\n  '#20639b': 'Cobalt',\n  '#5a7e8c': 'Blue Grey',\n  '#740794': 'Grape',\n  '#ab8bb6': 'Lilac',\n};\n\nexport default colMap;\n\n/*\n  '#7ed321': 'green     ',\n  '#b92424': 'red       ',\n  '#5ed3e9': 'light blue',\n  '#459ae5': 'dark blue ',\n  '#9d4aa9': 'purple    ',\n  '#ff8a8a': 'pink      ',\n  '#56d9c1': 'seafoam   ',\n*/\n\n/*\n\nlight-teal          #7ed4e5\nwhite               #ffffff\nmedium-purple       #9d4aa9\npeachy-pink         #ff8a8a\ngreyish-brown       #5a5a5a\napple-green         #7ed321\nbrick               #b92424\ntiffany-blue        #5ed3e9\ndark-sky-blue       #459ae5\nwarm-grey           #7b7b7b\ncarolina-blue       #7fbdff\nscarlet             #d0021b\nwarm-grey-two       #9b9b9b\ngreyish-brown-two   #4a4a4a\nbarney-purple       #740794\ncornflower          #5f53ff\nseafoam-blue        #56d9c1\n\n*/\n\n/*\n'#56d9c1': 'light blue       ',\n'#5ed3e9': 'seafoam          ',\n'#ff8a8a': 'coral            ',\n'#5f53ff': 'dark blue        ',\n'#740794': 'purple           ', */\n","import React, { ReactElement } from 'react';\nimport { GithubPicker } from 'react-color';\nimport colMap from './ListColors';\nimport styles from './ColorEditor.module.css';\nimport SamwiseIcon from '../../UI/SamwiseIcon';\n\ntype Props = {\n  readonly color: string;\n  readonly onChange: (color: string) => void;\n};\n\nconst colArray: string[] = Object.keys(colMap);\n\nexport default function ColorEditor({ color, onChange }: Props): ReactElement {\n  const [doesShowEditor, setDoesShowEditor] = React.useState(false);\n\n  const toggleEditor = (): void => setDoesShowEditor((s) => !s);\n  const onChangeComplete = (e: { hex: string }): void => {\n    onChange(e.hex);\n    setDoesShowEditor(false);\n  };\n\n  return (\n    <>\n      <button type=\"button\" className={styles.ColorEdit} onClick={toggleEditor} tabIndex={0}>\n        {colMap[color.toLowerCase()]}\n        <span className={styles.ColorDisplay} style={{ backgroundColor: color }} />\n        <SamwiseIcon iconName=\"dropdown\" className={styles.Arrow} />\n      </button>\n      {doesShowEditor && (\n        <div className={styles.ColorPicker}>\n          <GithubPicker\n            color={color}\n            onChangeComplete={onChangeComplete}\n            triangle=\"top-right\"\n            colors={colArray}\n          />\n        </div>\n      )}\n    </>\n  );\n}\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nexport default class OrderManager {\n    constructor(database, getUserEmail) {\n        this.database = database;\n        this.getUserEmail = getUserEmail;\n        /**\n         * Allocate a new order number of tags or tgs.\n         *\n         * @param orderFor the order for tags or tasks.\n         * @param count the count allocated. Default to 1.\n         * @return the promise of the order number.\n         */\n        this.allocateNewOrder = (orderFor, count = 1) => __awaiter(this, void 0, void 0, function* () {\n            const ref = this.database.orderManagerCollection().doc(this.getUserEmail());\n            const forTags = orderFor === 'tags';\n            return this.database.db().runTransaction((transaction) => __awaiter(this, void 0, void 0, function* () {\n                const docInTransaction = yield transaction.get(ref);\n                if (!docInTransaction.exists) {\n                    const newManager = { tagsMaxOrder: count, tasksMaxOrder: count };\n                    transaction.set(ref, newManager);\n                    return 0;\n                }\n                const manager = docInTransaction.data();\n                if (manager === undefined) {\n                    throw new Error('Impossible!');\n                }\n                const newOrder = forTags ? manager.tagsMaxOrder : manager.tasksMaxOrder;\n                const update = forTags\n                    ? { tagsMaxOrder: newOrder + count }\n                    : { tasksMaxOrder: newOrder + count };\n                transaction.update(ref, update);\n                return newOrder;\n            }));\n        });\n    }\n}\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport OrderManager from './order-manager';\nimport { ignore } from '../util/general-util';\nimport { NONE_TAG_ID } from '../util/tag-util';\nexport default class Actions {\n    constructor(getUserEmail, database) {\n        this.getUserEmail = getUserEmail;\n        this.database = database;\n        this.createFirestoreObject = (orderFor, source) => __awaiter(this, void 0, void 0, function* () {\n            const order = yield this.orderManager.allocateNewOrder(orderFor);\n            return Object.assign(Object.assign({}, source), { owner: this.getUserEmail(), order });\n        });\n        /*\n         * --------------------------------------------------------------------------------\n         * Section 1: Tags Actions\n         * --------------------------------------------------------------------------------\n         */\n        this.addTag = (tag) => __awaiter(this, void 0, void 0, function* () {\n            const firebaseTag = yield this.createFirestoreObject('tags', tag);\n            yield this.database.tagsCollection().add(firebaseTag);\n        });\n        this.editTag = (tag) => __awaiter(this, void 0, void 0, function* () {\n            const { id } = tag, rest = __rest(tag, [\"id\"]);\n            yield this.database\n                .tagsCollection()\n                .doc(id)\n                .update(rest);\n        });\n        this.removeTag = (id) => __awaiter(this, void 0, void 0, function* () {\n            yield this.database\n                .tasksCollection()\n                .where('owner', '==', this.getUserEmail())\n                .where('tag', '==', id)\n                .get()\n                .then((s) => {\n                const batch = this.database.db().batch();\n                s.docs\n                    .filter((doc) => doc.data().type === 'TASK')\n                    .forEach((doc) => {\n                    batch.update(this.database.tasksCollection().doc(doc.id), { tag: NONE_TAG_ID });\n                });\n                batch.delete(this.database.tagsCollection().doc(id));\n                batch.commit().then(ignore);\n            });\n        });\n        this.orderManager = new OrderManager(database, getUserEmail);\n    }\n}\n","import firebase from 'firebase/app';\nimport 'firebase/analytics';\nimport { AppUser } from 'firebase/auth-util';\n\nexport const initialize = (): void => {\n  firebase.analytics().logEvent('screen-view', { screenName: 'Homepage' });\n};\n\ntype EventType =\n  | 'add-tag'\n  | 'edit-tag'\n  | 'delete-tag'\n  | 'add-task'\n  | 'edit-task'\n  | 'delete-task'\n  | 'add-sub-task'\n  | 'edit-sub-task'\n  | 'delete-sub-task'\n  | 'complete'\n  | 'focus';\n\nexport const setGAUser = ({ uid }: AppUser): void => {\n  firebase.analytics().setUserId(uid);\n  firebase.analytics().logEvent('login', {});\n};\n\nconst reportEvent = (eventType: EventType): void => {\n  firebase.analytics().logEvent<EventType>(eventType, {});\n};\n\nexport const reportAddTagEvent = (): void => reportEvent('add-tag');\nexport const reportEditTagEvent = (): void => reportEvent('edit-tag');\nexport const reportDeleteTagEvent = (): void => reportEvent('delete-tag');\n\nexport const reportAddTaskEvent = (): void => reportEvent('add-task');\nexport const reportEditTaskEvent = (): void => reportEvent('edit-task');\nexport const reportDeleteTaskEvent = (): void => reportEvent('delete-task');\n\nexport const reportAddSubTaskEvent = (): void => reportEvent('add-sub-task');\nexport const reportEditSubTaskEvent = (): void => reportEvent('edit-sub-task');\nexport const reportDeleteSubTaskEvent = (): void => reportEvent('delete-sub-task');\n\nexport const reportCompleteTaskEvent = (): void => reportEvent('complete');\nexport const reportFocusTaskEvent = (): void => reportEvent('focus');\n","import firebase from 'firebase/app';\nimport 'firebase/auth';\nimport { error } from 'common/lib/util/general-util';\n\nexport type AppUser = {\n  readonly uid: string;\n  readonly displayName: string;\n  readonly email: string;\n  readonly token: string;\n};\n\n/**\n * Returns the promise of an app user from the given raw firebase user.\n *\n * @param firebaseUser a raw firebase user or null.\n * @return the promise of an app user or null if there is no such user..\n */\nexport async function toAppUser(firebaseUser: firebase.User | null): Promise<AppUser | null> {\n  if (firebaseUser == null) {\n    return null;\n  }\n  const { uid, displayName, email } = firebaseUser;\n  if (typeof displayName !== 'string' || typeof email !== 'string') {\n    throw new Error('Bad user!');\n  }\n  const token: string = await firebaseUser.getIdToken(true);\n  return { uid, displayName, email, token };\n}\n\nlet appUser: AppUser | null = null;\n\n/**\n * Cache the given user in the memory.\n */\nexport function cacheAppUser(user: AppUser): void {\n  appUser = user;\n}\n\n/**\n * Returns the global app user.\n *\n * If the user is not cached yet, it will not try to get one from firebase.\n * Instead, it will throw an error.\n */\nexport function getAppUser(): AppUser {\n  return appUser ?? error('App is not initialized.');\n}\n\n/**\n * Sign out from firebase auth.\n */\nexport function firebaseSignOut(): void {\n  firebase\n    .auth()\n    .signOut()\n    .then(() => {});\n}\n","import firebase from 'firebase/app';\nimport 'firebase/firestore';\nimport Database from 'common/lib/firebase/database';\n\nexport const db = (): firebase.firestore.Firestore => firebase.firestore();\n\nexport const database: Database = new Database(db);\n","/* eslint-disable @typescript-eslint/no-explicit-any */\nexport default class Database {\n    constructor(db) {\n        this.db = db;\n        this.orderManagerCollection = () => this.db().collection('samwise-order-manager');\n        this.settingsCollection = () => this.db().collection('samwise-settings');\n        this.bannerMessageStatusCollection = () => this.db().collection('samwise-banner-message');\n        this.tagsCollection = () => this.db().collection('samwise-tags');\n        this.tasksCollection = () => this.db().collection('samwise-tasks');\n        this.subTasksCollection = () => this.db().collection('samwise-subtasks');\n    }\n}\n","/**\n * This module uses firebase's unique client side ID generator technology to ensure that ID\n * do not collide.\n * Read the following article for more details.\n * https://firebase.googleblog.com/2015/02/the-2120-ways-to-ensure-unique_68.html\n */\n\nimport { database } from './db';\n\n/**\n * @returns a safe to use id for a new tag.\n */\nexport const getNewTagId = (): string => database.tagsCollection().doc().id;\n\n/**\n * @returns a safe to use id for a new task.\n */\nexport const getNewTaskId = (): string => database.tasksCollection().doc().id;\n\n/**\n * @returns a safe to use id for a new subtask.\n */\nexport const getNewSubTaskId = (): string => database.subTasksCollection().doc().id;\n","import { firestore } from 'firebase/app';\nimport { Map, Set } from 'immutable';\nimport {\n  Course,\n  SubTask,\n  Tag,\n  Task,\n  BannerMessageIds,\n  PartialMainTask,\n  PartialSubTask,\n  TaskMetadata,\n  RepeatingTaskMetadata,\n  OneTimeTaskMetadata,\n} from 'common/lib/types/store-types';\nimport { error, ignore } from 'common/lib/util/general-util';\nimport {\n  FirestoreCommon,\n  FirestoreTask,\n  FirestoreSubTask,\n} from 'common/lib/types/firestore-types';\nimport { WriteBatch } from 'common/lib/firebase/database';\nimport Actions from 'common/lib/firebase/common-actions';\nimport {\n  reportAddTagEvent,\n  reportEditTagEvent,\n  reportDeleteTagEvent,\n  reportAddTaskEvent,\n  reportEditTaskEvent,\n  reportDeleteTaskEvent,\n  reportAddSubTaskEvent,\n  reportEditSubTaskEvent,\n  reportDeleteSubTaskEvent,\n  reportCompleteTaskEvent,\n  reportFocusTaskEvent,\n} from '../util/ga-util';\nimport { getAppUser } from './auth-util';\nimport { db, database } from './db';\nimport { getNewTaskId } from './id-provider';\nimport { store } from '../store/store';\nimport { Diff } from '../components/Util/TaskEditors/TaskEditor/task-diff-reducer';\n\nconst actions = new Actions(() => getAppUser().email, database);\n\nasync function createFirestoreObject<T>(\n  orderFor: 'tags' | 'tasks',\n  source: T,\n): Promise<T & FirestoreCommon> {\n  const order = await actions.orderManager.allocateNewOrder(orderFor);\n  return { ...source, owner: getAppUser().email, order };\n}\n\nconst mergeWithOwner = <T>(obj: T): T & { readonly owner: string } => ({\n  owner: getAppUser().email,\n  ...obj,\n});\n\ntype WithoutIdOrder<Props> = Pick<Props, Exclude<keyof Props, 'id' | 'order'>>;\ntype WithoutId<Props> = Pick<Props, Exclude<keyof Props, 'id'>>;\nexport type TaskWithoutIdOrderChildren<M = TaskMetadata> = Omit<Task<M>, 'id' | 'order' | 'children'>;\n\n/*\n * --------------------------------------------------------------------------------\n * Section 1: Tags Actions\n * --------------------------------------------------------------------------------\n */\n\nexport const addTag = (tag: WithoutIdOrder<Tag>): void => {\n  const { tags } = store.getState();\n  const { classId } = tag;\n  if (classId != null && Array.from(tags.values()).some((t: Tag) => t.classId === classId)) {\n    return;\n  }\n  actions.addTag(tag).then(reportAddTagEvent);\n};\n\nexport const editTag = (tag: Tag): void => {\n  actions.editTag(tag).then(reportEditTagEvent);\n};\n\nexport const removeTag = (id: string): void => {\n  actions.removeTag(id).then(reportDeleteTagEvent);\n};\n\n/*\n * --------------------------------------------------------------------------------\n * Section 2: Tasks Actions\n * --------------------------------------------------------------------------------\n */\n\nconst asyncAddTask = async (\n  newTaskId: string,\n  task: TaskWithoutIdOrderChildren,\n  subTasks: WithoutId<SubTask>[],\n  batch: WriteBatch,\n): Promise<{ readonly firestoreTask: FirestoreTask; readonly createdSubTasks: SubTask[] }> => {\n  const baseTask: FirestoreCommon = await createFirestoreObject('tasks', {});\n  const createdSubTasks: SubTask[] = subTasks.map((subtask) => {\n    const firebaseSubTask: FirestoreSubTask = mergeWithOwner(subtask);\n    const subtaskDoc = database.subTasksCollection().doc();\n    batch.set(subtaskDoc, firebaseSubTask);\n    return { ...subtask, id: subtaskDoc.id };\n  });\n  const subtaskIds = createdSubTasks.map((s) => s.id);\n  const { metadata, ...rest } = task;\n  const firestoreTask: FirestoreTask = { ...baseTask, ...rest, ...metadata, children: subtaskIds };\n  batch.set(database.tasksCollection().doc(newTaskId), firestoreTask);\n  return { firestoreTask, createdSubTasks };\n};\n\nexport const addTask = (task: TaskWithoutIdOrderChildren, subTasks: WithoutId<SubTask>[]): void => {\n  const newTaskId = getNewTaskId();\n  const batch = db().batch();\n  asyncAddTask(newTaskId, task, subTasks, batch).then(({ createdSubTasks }) => {\n    batch.commit().then(() => {\n      reportAddTaskEvent();\n      createdSubTasks.forEach(reportAddSubTaskEvent);\n    });\n  });\n};\n\nexport const removeAllForks = (taskId: string): void => {\n  (async () => {\n    const { tasks } = store.getState();\n    const task = tasks.get(taskId) ?? error('bad!');\n    const repeatingTask = task as Task<RepeatingTaskMetadata>;\n    const forkIds = repeatingTask.metadata.forks.map((fork) => fork.forkId);\n    const batch = database.db().batch();\n    forkIds.forEach((id) => {\n      if (id !== null) {\n        // delete forked main task\n        batch.delete(database.tasksCollection().doc(id));\n        // delete forked subtasks\n        const forkedTask = tasks.get(id);\n        if (forkedTask != null) {\n          forkedTask.children.forEach(\n            (subTask) => batch.delete(database.subTasksCollection().doc(subTask.id)),\n          );\n        }\n      }\n    });\n    // clear the forked array\n    batch.update(database.tasksCollection().doc(taskId), { forks: [] });\n    batch.commit().then(ignore);\n  })();\n};\n\nexport const handleTaskDiffs = (\n  taskId: string,\n  { subTaskCreations, subTaskEdits, subTaskDeletions, mainTaskEdits }: Diff,\n): void => {\n  const batch = database.db().batch();\n  if (subTaskCreations.size !== 0) {\n    subTaskCreations.forEach((subTask, id) => {\n      const newSubTaskDoc = database.subTasksCollection().doc(id);\n      const firebaseSubTask: FirestoreSubTask = mergeWithOwner(subTask);\n      batch.set(newSubTaskDoc, firebaseSubTask);\n      batch.update(database.tasksCollection().doc(taskId), {\n        children: firestore.FieldValue.arrayUnion(newSubTaskDoc.id),\n      });\n    });\n  }\n  if (subTaskEdits.size !== 0) {\n    subTaskEdits.forEach((partialSubTask, id) => {\n      batch.update(database.subTasksCollection().doc(id), partialSubTask);\n    });\n  }\n  if (subTaskDeletions.size !== 0) {\n    subTaskDeletions.forEach((id) => {\n      batch.delete(database.subTasksCollection().doc(id));\n      batch.update(database.tasksCollection().doc(taskId), {\n        children: firestore.FieldValue.arrayRemove(id),\n      });\n    });\n  }\n  batch.update(database.tasksCollection().doc(taskId), mainTaskEdits);\n  batch.commit().then(() => {\n    if (\n      mainTaskEdits.name\n      || mainTaskEdits.complete\n      || mainTaskEdits.date\n      || mainTaskEdits.inFocus\n      || mainTaskEdits.tag\n    ) {\n      reportEditTaskEvent();\n    }\n    if (mainTaskEdits.complete) {\n      reportCompleteTaskEvent();\n    }\n    if (mainTaskEdits.inFocus) {\n      reportFocusTaskEvent();\n    }\n    subTaskCreations.forEach(reportAddSubTaskEvent);\n    subTaskEdits.forEach(reportEditSubTaskEvent);\n    subTaskDeletions.forEach(reportDeleteSubTaskEvent);\n  });\n};\n\ntype EditType = 'EDITING_MASTER_TEMPLATE' | 'EDITING_ONE_TIME_TASK';\n\nexport const editTaskWithDiff = (\n  taskId: string,\n  editType: EditType,\n  { mainTaskEdits, subTaskCreations, subTaskEdits, subTaskDeletions }: Diff,\n): void => {\n  (async () => {\n    if (editType === 'EDITING_MASTER_TEMPLATE') {\n      await removeAllForks(taskId);\n    }\n    handleTaskDiffs(taskId, { subTaskCreations, subTaskEdits, subTaskDeletions, mainTaskEdits });\n  })();\n};\n\nexport const forkTaskWithDiff = (\n  taskId: string,\n  replaceDate: Date,\n  { mainTaskEdits, subTaskCreations, subTaskEdits, subTaskDeletions }: Diff,\n): void => {\n  const { tasks } = store.getState();\n  const repeatingTaskMaster = tasks.get(taskId) as Task<RepeatingTaskMetadata>;\n  const { id, order, children, metadata, ...originalTaskWithoutId } = repeatingTaskMaster;\n  const newMainTask: TaskWithoutIdOrderChildren = {\n    ...originalTaskWithoutId,\n    ...mainTaskEdits,\n    metadata: {\n      type: 'ONE_TIME',\n      date: replaceDate,\n    },\n  };\n  const newSubTasks: WithoutId<SubTask>[] = [];\n  subTaskCreations.forEach((s) => newSubTasks.push(s));\n  children.forEach((subTask) => {\n    if (subTaskDeletions.has(subTask.id)) {\n      return;\n    }\n    const { id: _, ...subTaskContent } = subTask;\n    const subTaskEdit = subTaskEdits.get(subTask.id);\n    if (subTaskEdit != null) {\n      newSubTasks.push({ ...subTaskContent, ...subTaskEdit });\n    } else {\n      newSubTasks.push(subTaskContent);\n    }\n  });\n  const batch = database.db().batch();\n  const forkId = getNewTaskId();\n  asyncAddTask(forkId, newMainTask, newSubTasks, batch).then(() => {\n    batch.update(database.tasksCollection().doc(id), {\n      forks: firestore.FieldValue.arrayUnion({ forkId, replaceDate }),\n    });\n    batch.commit();\n  });\n};\n\nexport const removeTask = (task: Task): void => {\n  const { tasks, repeatedTaskSet } = store.getState();\n  const batch = database.db().batch();\n  batch.delete(database.tasksCollection().doc(task.id));\n  task.children.forEach((subTask) => batch.delete(database.subTasksCollection().doc(subTask.id)));\n  if (task.metadata.type === 'ONE_TIME' || task.metadata.type === 'GROUP') {\n    // remove fork mentions\n    repeatedTaskSet.forEach((repeatedTaskId) => {\n      const repeatedTask = tasks.get(repeatedTaskId) as Task<RepeatingTaskMetadata> | null;\n      if (repeatedTask == null) {\n        return;\n      }\n      const oldForks = repeatedTask.metadata.forks;\n      let needUpdateFork = false;\n      const newForks = [];\n      for (let i = 0; i < oldForks.length; i += 1) {\n        const fork = oldForks[i];\n        if (fork.forkId === task.id) {\n          needUpdateFork = true;\n          newForks.push({ forkId: null, replaceDate: fork.replaceDate });\n        } else {\n          newForks.push(fork);\n        }\n      }\n      if (needUpdateFork) {\n        batch.update(database.tasksCollection().doc(repeatedTaskId), { forks: newForks });\n      }\n    });\n  } else {\n    // also delete all forks\n    task.metadata.forks.forEach((fork) => {\n      const { forkId } = fork;\n      if (forkId == null) {\n        return;\n      }\n      batch.delete(database.tasksCollection().doc(forkId));\n      const forkedTask = tasks.get(forkId);\n      if (forkedTask != null) {\n        forkedTask.children.forEach(\n          (subTask) => batch.delete(database.subTasksCollection().doc(subTask.id)),\n        );\n      }\n    });\n  }\n  batch.commit().then(() => {\n    reportDeleteTaskEvent();\n  });\n};\n\nexport const removeOneRepeatedTask = (taskId: string, replaceDate: Date): void => {\n  database.tasksCollection()\n    .doc(taskId)\n    .update({\n      forks: firestore.FieldValue.arrayUnion({ forkId: null, replaceDate }),\n    });\n};\n\nexport const editMainTask = (\n  taskId: string,\n  replaceDate: Date | null,\n  mainTaskEdits: PartialMainTask,\n): void => {\n  const diff: Diff = {\n    mainTaskEdits,\n    subTaskCreations: Map(),\n    subTaskEdits: Map(),\n    subTaskDeletions: Set(),\n  };\n  if (replaceDate === null) {\n    editTaskWithDiff(taskId, 'EDITING_ONE_TIME_TASK', diff);\n  } else {\n    const dateEdit = mainTaskEdits.date != null ? mainTaskEdits.date : replaceDate;\n    const newDiff = { ...diff, mainTaskEdits: { ...diff.mainTaskEdits, date: dateEdit } };\n    forkTaskWithDiff(taskId, replaceDate, newDiff);\n  }\n};\n\nexport const editSubTask = (\n  taskId: string,\n  subtaskId: string,\n  replaceDate: Date | null,\n  partialSubTask: PartialSubTask,\n): void => {\n  const diff: Diff = {\n    mainTaskEdits: replaceDate == null ? {} : { date: replaceDate },\n    subTaskCreations: Map(),\n    subTaskEdits: Map<string, PartialSubTask>().set(subtaskId, partialSubTask),\n    subTaskDeletions: Set(),\n  };\n  if (replaceDate === null) {\n    editTaskWithDiff(taskId, 'EDITING_ONE_TIME_TASK', diff);\n  } else {\n    forkTaskWithDiff(taskId, replaceDate, diff);\n  }\n};\n\nexport const removeSubTask = (\n  taskId: string,\n  subtaskId: string,\n  replaceDate: Date | null,\n): void => {\n  const diff: Diff = {\n    mainTaskEdits: replaceDate == null ? {} : { date: replaceDate },\n    subTaskCreations: Map(),\n    subTaskEdits: Map(),\n    subTaskDeletions: Set.of(subtaskId),\n  };\n  if (replaceDate === null) {\n    editTaskWithDiff(taskId, 'EDITING_ONE_TIME_TASK', diff);\n  } else {\n    forkTaskWithDiff(taskId, replaceDate, diff);\n  }\n};\n\n/*\n * --------------------------------------------------------------------------------\n * Section 3: Other Compound Actions\n * --------------------------------------------------------------------------------\n */\n\n/**\n * Clear all the completed tasks in focus view.\n */\nexport const clearFocus = (taskIds: string[], subTaskIds: string[]): void => {\n  const batch = database.db().batch();\n  taskIds.forEach((id) => batch.update(database.tasksCollection().doc(id), { inFocus: false }));\n  subTaskIds.forEach(\n    (id) => batch.update(database.subTasksCollection().doc(id), { inFocus: false }),\n  );\n  batch.commit().then(ignore);\n};\n\n/**\n * Declare a task is complete in focus view by dragging it to completed section.\n *\n * @param completedTaskIdOrder the id and order of the completed task.\n * @param completedList the id order list of completed tasks.\n * @param uncompletedList the id order list of not completed tasks.\n * @returns an object of updated completed and not completed task list.\n */\nexport function completeTaskInFocus<T extends { readonly id: string; readonly order: number }>(\n  completedTaskIdOrder: T,\n  completedList: T[],\n): void {\n  let newCompletedList = [completedTaskIdOrder];\n  completedList.forEach((item) => {\n    if (item.order < completedTaskIdOrder.order) {\n      newCompletedList.push(item);\n    } else if (item.order >= completedTaskIdOrder.order) {\n      newCompletedList.push({ ...item, order: item.order + 1 });\n    }\n  });\n  newCompletedList = newCompletedList.sort((a, b) => a.order - b.order);\n  const { tasks } = store.getState();\n  const task = tasks.get(completedTaskIdOrder.id) ?? error('bad');\n  const batch = database.db().batch();\n  if (task.inFocus) {\n    batch.update(database.tasksCollection().doc(task.id), { complete: true });\n  }\n  task.children.forEach((s) => {\n    if (s.inFocus) {\n      batch.update(database.subTasksCollection().doc(s.id), { complete: true });\n    }\n  });\n  batch.commit().then(ignore);\n}\n\n/**\n * Reorder a list of items by swapping items with order sourceOrder and destinationOrder\n *\n * @param orderFor whether the reorder is for tags or tasks.\n * @param reorderMap the map that maps the id of changed order items to new order ids.\n * @return a new list with updated orders.\n */\nexport function applyReorder(orderFor: 'tags' | 'tasks', reorderMap: Map<string, number>): void {\n  const collection = orderFor === 'tags'\n    ? (id: string) => database.tagsCollection().doc(id)\n    : (id: string) => database.tasksCollection().doc(id);\n  const batch = database.db().batch();\n  reorderMap.forEach((order, id) => {\n    batch.update(collection(id), { order });\n  });\n  batch.commit().then(ignore);\n}\n\nexport const completeOnboarding = (completedOnboarding: boolean): void => {\n  database.settingsCollection()\n    .doc(getAppUser().email)\n    .update({ completedOnboarding })\n    .then(ignore);\n};\n\nexport const setCanvasCalendar = (canvasCalendar: string | null | undefined): void => {\n  database.settingsCollection()\n    .doc(getAppUser().email)\n    .update({ canvasCalendar })\n    .then(ignore);\n};\n\nexport const readBannerMessage = (bannerMessageId: BannerMessageIds, isRead: boolean): void => {\n  const docRef = database.bannerMessageStatusCollection().doc(getAppUser().email);\n  database.db().runTransaction(async (transaction) => {\n    const doc = await transaction.get(docRef);\n    if (doc.exists) {\n      transaction.update(docRef, { [bannerMessageId]: isRead });\n    } else {\n      transaction.set(docRef, { [bannerMessageId]: isRead });\n    }\n  });\n};\n\nexport const importCourseExams = (): void => {\n  const { tags, tasks, courses } = store.getState();\n  const newTasks: TaskWithoutIdOrderChildren<OneTimeTaskMetadata>[] = [];\n  tags.forEach((tag: Tag) => {\n    if (tag.classId === null) {\n      return;\n    }\n    const allCoursesWithId = courses.get(tag.classId);\n    if (allCoursesWithId == null) {\n      return; // not an error because it may be courses in previous semesters.\n    }\n    allCoursesWithId.forEach((course: Course) => {\n      course.examTimes.forEach(({ type, time }) => {\n        const courseType = type === 'final' ? 'Final' : 'Prelim';\n        const examName = `${course.subject} ${course.courseNumber} ${courseType}`;\n        const t = new Date(time);\n        const filter = (task: Task): boolean => {\n          if (task.metadata.type === 'MASTER_TEMPLATE') {\n            return false;\n          }\n          const { name, metadata: { date } } = task;\n          return (\n            task.tag === tag.id\n            && name === examName\n            && date.getFullYear() === t.getFullYear()\n            && date.getMonth() === t.getMonth()\n            && date.getDate() === t.getDate()\n            && date.getHours() === t.getHours()\n          );\n        };\n        if (!Array.from(tasks.values()).some(filter)) {\n          const newTask: TaskWithoutIdOrderChildren<OneTimeTaskMetadata> = {\n            name: examName,\n            tag: tag.id,\n            complete: false,\n            inFocus: false,\n            metadata: {\n              type: 'ONE_TIME',\n              date: t,\n            },\n          };\n          newTasks.push(newTask);\n        }\n      });\n    });\n  });\n  actions.orderManager.allocateNewOrder('tasks', newTasks.length).then((startOrder: number) => {\n    const newOrderedTasks = newTasks.map((t, i) => ({ ...t, order: i + startOrder }));\n    const batch = database.db().batch();\n    newOrderedTasks.forEach(({ metadata, ...rest }) => {\n      const transformedTask: FirestoreTask = mergeWithOwner({ ...rest, ...metadata, children: [] });\n      batch.set(database.tasksCollection().doc(), transformedTask);\n    });\n    // eslint-disable-next-line no-alert\n    batch.commit().then(() => alert('Exams Added Successfully!'));\n  });\n};\n","import React, { SyntheticEvent, ReactElement } from 'react';\nimport { Tag } from 'common/lib/types/store-types';\nimport styles from './TagItem.module.css';\nimport ColorEditor from './ColorEditor';\nimport { editTag, removeTag } from '../../../firebase/actions';\nimport SamwiseIcon from '../../UI/SamwiseIcon';\n\ntype Props = { readonly tag: Tag };\n\n/**\n * The tag item component.\n */\nexport default function TagItem({ tag }: Props): ReactElement {\n  const onRemove = (): void => {\n    // eslint-disable-next-line no-restricted-globals, no-alert\n    if (confirm('Do you want to remove this tag?')) {\n      removeTag(tag.id);\n    }\n  };\n  const editColor = (color: string): void => {\n    editTag({ ...tag, color });\n  };\n  const editName = (name: SyntheticEvent<HTMLInputElement>): void => {\n    editTag({ ...tag, name: name.currentTarget.value });\n  };\n  const { name, color, classId } = tag;\n  const isClass = classId !== null;\n  const nameSplit = name.split(':');\n  const nameNode = isClass\n    ? (\n      <span style={{ width: 'calc(100% - 175px)', display: 'inline-block' }}>\n        <span className={styles.TagName}>{nameSplit[0]}</span>\n        <span className={styles.ClassExpandedTitle}>{nameSplit[1].trim()}</span>\n      </span>\n    ) : (\n      <span className={styles.TagName} style={{ width: 'calc(100% - 175px)' }}>\n        <input type=\"text\" value={name} onChange={editName} className={styles.TagEdit} />\n      </span>\n    );\n  return (\n    <li className={styles.ColorConfigItem}>\n      {nameNode}\n      <ColorEditor color={color} onChange={editColor} />\n      <button type=\"button\" className={styles.DeleteTag} onClick={onRemove} tabIndex={0}>\n        <SamwiseIcon iconName=\"x-light\" />\n      </button>\n    </li>\n  );\n}\n","import React, { ReactElement } from 'react';\nimport { FuseItem } from './types';\n\n\ntype Props<T extends FuseItem> = {\n  readonly item: T;\n  readonly className: string;\n  readonly onSelect: (selected: T) => void;\n}\n\nexport default <T extends FuseItem>({ item, className, onSelect }: Props<T>): ReactElement => (\n  <button type=\"button\" className={className} title=\"Add class\" onClick={() => onSelect(item)} tabIndex={0}>\n    {item.value}\n  </button>\n);\n","import React, { ReactElement, ChangeEvent, useState } from 'react';\nimport Fuse, { FuseOptions } from 'fuse.js';\nimport { FuseItem } from './types';\nimport DropdownItem from './DropdownItem';\n\ntype Props<T extends FuseItem> = {\n  readonly fuse: Fuse<T, FuseOptions<T>>;\n  readonly placeholder?: string;\n  readonly inputClassname: string;\n  readonly dropdownItemClassName: string;\n  readonly onSelect: (selected: T) => void;\n};\n\ntype State<T> = { readonly searchInput: string; readonly searchResults: readonly T[] };\n\nexport default <T extends FuseItem>(\n  { placeholder, fuse, inputClassname, dropdownItemClassName, onSelect }: Props<T>,\n): ReactElement => {\n  const [{ searchInput, searchResults }, setState] = useState<State<T>>({\n    searchInput: '', searchResults: [],\n  });\n\n  const onSearchChange = (event: ChangeEvent<HTMLInputElement>): void => {\n    const input = event.currentTarget.value;\n    if (input.length > 2) {\n      const newResults = fuse.search(input) as T[];\n      setState({ searchInput: input, searchResults: newResults });\n    } else {\n      setState({ searchInput: input, searchResults: [] });\n    }\n  };\n\n  const onResultSelected = (item: T): void => {\n    onSelect(item);\n    setState({ searchInput: '', searchResults: [] });\n  };\n\n  return (\n    <div>\n      <input\n        type=\"text\"\n        placeholder={placeholder}\n        className={inputClassname}\n        value={searchInput}\n        onChange={onSearchChange}\n      />\n      <div>\n        {searchResults.map((item) => (\n          <DropdownItem\n            key={item.key}\n            item={item}\n            className={dropdownItemClassName}\n            onSelect={onResultSelected}\n          />\n        ))}\n      </div>\n    </div>\n  );\n};\n","import { Map } from 'immutable';\nimport { Tag } from 'common/lib/types/store-types';\nimport { store } from '../../../store/store';\nimport colorMap from './ListColors';\n\nconst allAvailableColors = Object.keys(colorMap);\n\nexport function getUnusedColorForTesting(tags: Map<string, Tag>): string {\n  const usedColorSet = new Set(Array.from(tags.values()).map((t) => t.color));\n  const color = allAvailableColors.find((c) => !usedColorSet.has(c));\n  return color ?? allAvailableColors[0];\n}\n\nexport default function getUnusedColor(): string {\n  const { tags } = store.getState();\n  return getUnusedColorForTesting(tags);\n}\n","import React, { ReactElement } from 'react';\nimport { Map } from 'immutable';\nimport { connect } from 'react-redux';\nimport Fuse, { FuseOptions } from 'fuse.js';\nimport SearchBox from 'components/Util/SearchBox';\nimport { Course, State } from 'common/lib/types/store-types';\nimport styles from './TagAdder.module.css';\nimport { addTag } from '../../../firebase/actions';\nimport getUnusedColor from './rotation-color-picker';\n\ntype SimpleCourse = {\n  readonly key: number;\n  readonly value: string;\n  readonly subject: string;\n  readonly courseNumber: string;\n  readonly title: string;\n  readonly classId: string;\n  readonly noSpaceName: string;\n};\n\ntype Props = { readonly fuse: Fuse<SimpleCourse, FuseOptions<SimpleCourse>> | null };\n\n/**\n * Returns the computed course options.\n *\n * @param {Map<number, Course[]>} courseMap new courses.\n * @return {SimpleCourse[]} course options.\n */\nfunction getCourseOptions(courseMap: Map<string, Course[]>): SimpleCourse[] {\n  const courseOptions: SimpleCourse[] = [];\n  let i = 0;\n  courseMap.forEach((courses: Course[]) => {\n    courses.forEach((course: Course) => {\n      const {\n        subject, courseNumber, title, courseId: classId,\n      } = course;\n      const id = `${classId} ${subject} ${courseNumber}`;\n      const name = `${subject} ${courseNumber}: ${title}`;\n      courseOptions.push({\n        key: i, value: name, subject, courseNumber, title, classId: id, noSpaceName: name.replace(/[^a-zA-Z\\d]/, ''),\n      });\n      i += 1;\n    });\n  });\n  return courseOptions;\n}\n\n/**\n * The configs for fuse searcher. Essential for fuzzy search.\n * You may need to tune this further, but it's usable right now.\n */\nconst fuseConfigs = {\n  keys: [\n    'value', // useful for search the full name as we display\n    'subject', // useful for finding a list of all [subject] classes\n    'courseNumber', // useful if the student just type the course number\n    'title', // useful if the student just type the name\n    'noSpaceName', // useful if the student types the course code without a space (ex: \"CS2112\")\n  ],\n  location: 0, // since we have customized the stuff to search, we can just start at beginning.\n  threshold: 0.2, // higher the threshold, more stuff will be matched.\n  distance: 100, // how close the match must be to the fuzzy location\n};\n\n/**\n * The class tag adder.\n */\nfunction ClassTagAdder({ fuse }: Props): ReactElement | null {\n  if (fuse === null) {\n    return null;\n  }\n  const changeClass = (option: SimpleCourse): void => {\n    const { value, classId } = option;\n    addTag({\n      name: value, color: getUnusedColor(), classId,\n    });\n  };\n  return (\n    <div className={`${styles.TagColorConfigItemAdder} ${styles.SearchClasses}`} title=\"Search for a class\">\n      <SearchBox\n        placeholder=\"Search for classes (e.g. CS 2110, Introduction to Creative Writing)\"\n        inputClassname={styles.SearchInput}\n        dropdownItemClassName={styles.DropdownItem}\n        fuse={fuse}\n        onSelect={changeClass}\n      />\n    </div>\n  );\n}\n\nconst Memoized = React.memo<Props>(ClassTagAdder);\nconst Connected = connect(\n  ({ courses }: State) => {\n    if (courses.size === 0) {\n      return { fuse: null };\n    }\n    const fuse = new Fuse(getCourseOptions(courses), fuseConfigs);\n    return { fuse };\n  },\n)(Memoized);\nexport default Connected;\n","import React, { KeyboardEvent, SyntheticEvent, ReactElement } from 'react';\nimport styles from './TagItem.module.css';\nimport ColorEditor from './ColorEditor';\nimport { addTag } from '../../../firebase/actions';\n\ntype State = { readonly name: string; readonly color: string };\n\nconst defaultColor = '#289de9';\nconst initialState: State = { name: '', color: defaultColor };\n\nexport default class OtherTagAdder extends React.PureComponent<{}, State> {\n  public readonly state: State = initialState;\n\n  private editColor = (color: string): void => this.setState({ color });\n\n  private editName = (event: SyntheticEvent<HTMLInputElement>): void => this.setState({\n    name: event.currentTarget.value,\n  });\n\n  private onSubmit = (event: KeyboardEvent<HTMLInputElement>): void => {\n    if (event.key !== 'Enter') {\n      return;\n    }\n    const { name, color } = this.state;\n    addTag({\n      name, color, classId: null,\n    });\n    this.setState(initialState);\n  };\n\n  public render(): ReactElement {\n    const { name, color } = this.state;\n    return (\n      <li className={styles.ColorConfigItem}>\n        <input\n          type=\"text\"\n          className={`${styles.TagName} ${styles.AddTagName}`}\n          placeholder=\"New Tag\"\n          value={name}\n          onChange={this.editName}\n          onKeyDown={this.onSubmit}\n        />\n        <ColorEditor color={color} onChange={this.editColor} />\n      </li>\n    );\n  }\n}\n","import React, { ReactElement } from 'react';\nimport Modal from 'react-modal';\nimport modalStyles from './Modal.module.css';\nimport choiceStyles from './ChoiceModal.module.css';\n\nexport type ChoiceObj = { readonly [key: string]: string };\n\n/**\n * The type parameter Choice must be an object with predefined set of string keys and string values.\n */\nexport type ChoiceModalProps<Choices extends ChoiceObj> = {\n  /**\n   * Whether the modal is open.\n   */\n  readonly open: boolean;\n  /**\n   * The message displayed along with the choices.\n   */\n  readonly message: string;\n  /**\n   * All of the available choices in an object. It should be something like:\n   * ```typescript\n   * const choices = {\n   *   choice1: 'User readable short description of option 1',\n   *   choice2: 'User readable short description of option 2',\n   *   // ...\n   * };\n   * ```\n   */\n  readonly choices: Choices;\n  /**\n   * The function called when a choice is picked.\n   */\n  readonly onChoicePick: (pickedChoice: keyof Choices) => void;\n}\n\nexport default function ChoiceModal<Choices extends ChoiceObj>(\n  { open, message, choices, onChoicePick }: ChoiceModalProps<Choices>,\n): ReactElement {\n  return (\n    <Modal isOpen={open} className={modalStyles.Modal} contentLabel=\"Choice Dialog\">\n      <div className={modalStyles.TextContainer}>{message}</div>\n      <div className={modalStyles.ButtonContainer}>\n        <span className={modalStyles.Filler} />\n        {Object.keys(choices).map((key) => (\n          <button\n            key={key}\n            type=\"button\"\n            className={choiceStyles.ChoiceButton}\n            onClick={() => onChoicePick(key)}\n          >\n            {choices[key]}\n          </button>\n        ))}\n      </div>\n    </Modal>\n  );\n}\n","import React, { ReactElement, useState } from 'react';\nimport Modal from 'react-modal';\nimport modalStyles from './Modal.module.css';\nimport textInputModalStyles from './TextInputModal.module.css';\n\n/**\n * The types of input this Modal will support (add more as necessary)\n */\nexport type TextInputTypes =\n  | 'text'\n  | 'email'\n  | 'number';\n\nexport type TextInputModalProps = {\n  /**\n   * Whether the modal is open.\n   */\n  readonly open: boolean;\n  /**\n   * The title displayed along with the input.\n   */\n  readonly title: string;\n  /**\n   * Text shown below the title\n   */\n  readonly subText: string;\n  /**\n   * The label for the input box.\n   */\n  readonly label: string;\n  /**\n   * The text displayed on the submit button.\n   */\n  readonly submitButtonText: string;\n  /**\n   * The text input type.\n   */\n  readonly inputType: TextInputTypes;\n  /**\n   * The function called when a input is submitted.\n   */\n  readonly onInputSubmit: (input: string) => void;\n  /**\n   * The function called when a input is submitted.\n   */\n  readonly onCancel: () => void;\n}\n\nexport default ({\n  open,\n  title,\n  subText,\n  label,\n  submitButtonText,\n  inputType,\n  onInputSubmit,\n  onCancel,\n}: TextInputModalProps): ReactElement => {\n  const [input, setInput] = useState('');\n  return (\n    <Modal isOpen={open} className={`${modalStyles.Modal} ${textInputModalStyles.TextInputModal}`} contentLabel=\"Choice Dialog\">\n      <div className={textInputModalStyles.Title}>{title}</div>\n      <div className={textInputModalStyles.SubText}>{subText}</div>\n      <div className={textInputModalStyles.TextInput}>\n        {label}\n        <input\n          type={inputType}\n          name=\"input\"\n          value={input}\n          onChange={(e) => setInput(e.target.value)}\n        />\n      </div>\n      <div className={textInputModalStyles.ButtonContainer}>\n        <button\n          type=\"button\"\n          className={textInputModalStyles.CancelButton}\n          onClick={() => {\n            onCancel();\n            setInput('');\n          }}\n        >\n          Cancel\n        </button>\n        <button\n          type=\"button\"\n          className={textInputModalStyles.SubmitButton}\n          onClick={() => {\n            onInputSubmit(input);\n            setInput('');\n          }}\n        >\n          {submitButtonText}\n        </button>\n      </div>\n    </Modal>\n  );\n};\n","import React, { ReactElement, useState, useEffect } from 'react';\nimport Modal from 'react-modal';\nimport ChoiceModal, { ChoiceObj, ChoiceModalProps } from './ChoiceModal';\nimport TextInputModal, { TextInputModalProps, TextInputTypes } from './TextInputModal';\n\nexport function initModal(): void {\n  Modal.setAppElement('#root');\n}\n\nconst dummyChoiceModalProps: ChoiceModalProps<ChoiceObj> = {\n  open: false, message: '', choices: {}, onChoicePick: () => { },\n};\nconst dummyTextInputModalProps: TextInputModalProps = {\n  open: false,\n  title: '',\n  subText: '',\n  label: '',\n  submitButtonText: 'Submit',\n  inputType: 'text',\n  onCancel: () => { },\n  onInputSubmit: () => { },\n};\n\ntype ModalProps = ChoiceModalProps<ChoiceObj> | TextInputModalProps;\n\nlet currentChoiceModalSetter: (props: ChoiceModalProps<ChoiceObj>) => void = (): void => { };\nlet currentTextInputModalSetter: (props: TextInputModalProps) => void = (): void => { };\n\nexport async function promptChoice<Choices extends ChoiceObj>(\n  message: string,\n  choices: Choices,\n): Promise<keyof Choices> {\n  return new Promise<keyof Choices>((onChoicePick) => {\n    const choiceModalProps: ChoiceModalProps<Choices> = {\n      open: true,\n      message,\n      choices,\n      onChoicePick: (pickedChoice: keyof Choices) => {\n        onChoicePick(pickedChoice);\n        // close the modal\n        currentChoiceModalSetter(dummyChoiceModalProps);\n      },\n    };\n    currentChoiceModalSetter(choiceModalProps);\n  });\n}\n\nconst confirmCancelChoices = { CANCEL: 'Cancel', CONFIRM: 'Confirm' };\n\nexport async function promptConfirm(message: string): Promise<boolean> {\n  const result = await promptChoice(message, confirmCancelChoices);\n  return result === 'CONFIRM';\n}\n\nconst ChoiceModalWrapper = (): React.ReactElement => {\n  const [choiceModalProps, setChoiceModalProps] = useState(dummyChoiceModalProps);\n  const { open, message, choices, onChoicePick } = choiceModalProps;\n  useEffect(() => {\n    // register modal setter\n    currentChoiceModalSetter = setChoiceModalProps;\n  }, []);\n  return (\n    <ChoiceModal open={open} message={message} choices={choices} onChoicePick={onChoicePick} />\n  );\n};\n\nexport const promptTextInput = async (\n  title: string,\n  subText: string,\n  label: string,\n  submitButtonText: string,\n  inputType: TextInputTypes,\n): Promise<string> => (\n  new Promise<string>((onInputSubmit) => {\n    const textInputModalProps: TextInputModalProps = {\n      open: true,\n      title,\n      subText,\n      label,\n      submitButtonText,\n      inputType,\n      onInputSubmit: (input: string) => {\n        onInputSubmit(input);\n        // close the modal\n        currentTextInputModalSetter(dummyTextInputModalProps);\n      },\n      onCancel: () => {\n        // close the modal\n        currentTextInputModalSetter(dummyTextInputModalProps);\n      },\n    };\n    currentTextInputModalSetter(textInputModalProps);\n  })\n);\n\nconst TextInputModalWrapper = (): React.ReactElement => {\n  const [textInputModalProps, setTextInputModalProps] = useState(dummyTextInputModalProps);\n  const {\n    open,\n    title,\n    subText,\n    label,\n    submitButtonText,\n    inputType,\n    onInputSubmit,\n    onCancel,\n  } = textInputModalProps;\n  useEffect(() => {\n    // register modal setter\n    currentTextInputModalSetter = setTextInputModalProps;\n  }, []);\n  return (\n    <TextInputModal\n      open={open}\n      title={title}\n      subText={subText}\n      label={label}\n      submitButtonText={submitButtonText}\n      inputType={inputType}\n      onInputSubmit={onInputSubmit}\n      onCancel={onCancel}\n    />\n  );\n};\n\nexport const ModalsContainer = (): ReactElement => (\n  <div>\n    <ChoiceModalWrapper />\n    <TextInputModalWrapper />\n  </div>\n);\n","import React, { ReactElement, useState } from 'react';\nimport { connect } from 'react-redux';\nimport { promptConfirm } from 'components/Util/Modals';\nimport { Settings, State } from 'common/lib/types/store-types';\nimport settingStyles from '../Settings/SettingsPage.module.css';\nimport styles from './CanvasCalendar.module.css';\nimport { setCanvasCalendar } from '../../../firebase/actions';\n\ntype Props = { readonly settings: Settings }\n\nfunction CanvasCalendar({ settings }: Props): ReactElement {\n  const { canvasCalendar } = settings;\n  const linked = canvasCalendar != null;\n  const [input, setInput] = useState('');\n\n  const handleSubmit = (e: React.FormEvent<HTMLFormElement>): void => {\n    e.preventDefault();\n    const iCalLink = input;\n\n    promptConfirm('This will sync all calendar items from your Canvas account. This may include assignments, as well as lectures, discussions, office hours, and more. These tasks can only be modified or deleted by your professor. If you wish to delete or edit these tasks, you will need to unlink your Canvas calendar. Would you like to continue?').then((confirmed) => {\n      if (confirmed) {\n        setCanvasCalendar(iCalLink);\n      }\n    });\n  };\n\n  const removeCanvasiCal = (): void => {\n    promptConfirm('This will stop syncing new calendar updates from Canvas, but will not delete previously imported tasks. After unlinking, you will be able to delete any tasks previously imported from Canvas. Would you like to continue?').then((confirmed) => {\n      if (confirmed) {\n        setCanvasCalendar(null);\n      }\n    });\n  };\n\n  return (\n    <div className={settingStyles.SettingsSection}>\n      <p className={settingStyles.SettingsSectionTitle}>Canvas Calendar</p>\n      <div className={settingStyles.SettingsSectionContent}>\n\n        <div style={{ display: !linked ? 'block' : 'none' }}>\n          <form\n            className={[styles.CalendarForm, settingStyles.SettingsButton].join(' ')}\n            onSubmit={handleSubmit}\n          >\n            <input\n              placeholder=\"Paste your Canvas iCal link here\"\n              type=\"text\"\n              className={styles.CalendarInput}\n              value={input}\n              onChange={(e) => setInput(e.target.value)}\n            />\n            <button type=\"submit\" title=\"Link Canvas iCal\"> Save </button>\n          </form>\n          <a\n            className={styles.HelpButton}\n            href=\"https://community.canvaslms.com/docs/DOC-10691-4212717348\"\n            title=\"Link to Canvas iCal guide\"\n          >\n            Having trouble finding the iCal link?\n          </a>\n        </div>\n\n        <div\n          className={settingStyles.SettingsButton}\n          style={{ display: linked ? 'block' : 'none' }}\n        >\n          <p style={{ wordBreak: 'break-all' }}>\n            Your Canvas calendar feed is linked.\n            <br />\n            {canvasCalendar}\n          </p>\n          <button\n            type=\"button\"\n            onClick={removeCanvasiCal}\n            title=\"Remove Canvas iCal Link\"\n          >\n            Unlink\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nconst Connected = connect(({ settings }: State) => ({ settings }))(CanvasCalendar);\nexport default Connected;\n","import React, { ReactElement, ReactNode } from 'react';\nimport { Map } from 'immutable';\nimport { connect } from 'react-redux';\nimport { Tag, State } from 'common/lib/types/store-types';\nimport TagItem from '../Tags/TagItem';\nimport ClassTagAdder from '../Tags/ClassTagAdder';\nimport OtherTagAdder from '../Tags/OtherTagAdder';\nimport styles from './SettingsPage.module.css';\nimport { completeOnboarding, importCourseExams } from '../../../firebase/actions';\nimport { firebaseSignOut } from '../../../firebase/auth-util';\nimport CanvasCalendar from '../Canvas/CanvasCalendar';\n\n/**\n * The class adder component.\n *\n * @return {Node} rendered component.\n * @constructor\n */\nexport const ClassAdder = (): ReactElement => (\n  <div className={styles.SettingsSection}>\n    <p className={styles.SettingsSectionTitle}>Add Classes</p>\n    <div className={styles.SettingsSectionContent}>\n      <ClassTagAdder />\n      <small>Add classes to get upcoming prelims automatically added to your planner.</small>\n    </div>\n  </div>\n);\n\nexport const ExamImporter = (): ReactElement => (\n  <div className={styles.SettingsSection}>\n    <p className={styles.SettingsSectionTitle}>Auto Import Exams</p>\n    <div className={`${styles.SettingsButton} ${styles.SettingsSectionContent}`}>\n      Click the following button to reimport the prelims and finals\n      from your classes into your planner. We will only import those that\n      appears on Cornell prelim/final schedule webpage.\n      <br />\n      <button type=\"button\" title=\"Reimport Exams\" onClick={importCourseExams} tabIndex={0}>Reimport Exams</button>\n    </div>\n  </div>\n);\n\ntype TagsContainerProps = { readonly title: string; readonly children: ReactNode };\n\n/**\n * The tags container component.\n *\n * @param {string} title the title of the tags.\n * @param {Node} children the tags as children.\n * @return {Node} rendered component.\n * @constructor\n */\nexport const TagsContainer = ({ title, children }: TagsContainerProps): ReactElement => (\n  <div className={styles.SettingsSection}>\n    <p className={styles.SettingsSectionTitle}>{title}</p>\n    <div className={styles.SettingsSectionContent}>\n      <ul className={styles.ColorConfigItemList}>\n        {children}\n      </ul>\n    </div>\n  </div>\n);\n\ntype Props = {\n  readonly tags: Map<string, Tag>;\n};\n\n/**\n * The settings page.\n */\nexport function SettingsPage({ tags }: Props): ReactElement {\n  const classTags: Tag[] = [];\n  const otherTags: Tag[] = [];\n  tags.forEach((tag) => {\n    if (tag.classId !== null) {\n      classTags.push(tag);\n    } else if (tag.name !== 'None') {\n      otherTags.push(tag);\n    }\n  });\n  const renderTags = (arr: Tag[]): ReactNode => arr.map((tag: Tag) => (\n    <TagItem key={tag.id} tag={tag} />\n  ));\n\n  return (\n    <div>\n      <ClassAdder />\n      <TagsContainer title=\"Class Tags\">\n        {renderTags(classTags)}\n      </TagsContainer>\n      <ExamImporter />\n      <TagsContainer title=\"Other Tags\">\n        {renderTags(otherTags)}\n        <OtherTagAdder />\n      </TagsContainer>\n      <CanvasCalendar />\n      <div className={styles.FinalRowButtonContainer}>\n        <div className={styles.SettingsButton}>\n          <button\n            type=\"button\"\n            className={[styles.FinalRowButton, styles.SignButton].join(' ')}\n            onClick={firebaseSignOut}\n            title=\"Sign out of Samwise\"\n            tabIndex={0}\n          >\n            Sign Out\n          </button>\n        </div>\n        <a\n          className={styles.FeedbackButton}\n          href=\"https://goo.gl/forms/PZUZ1Ze6kN82EmcD2\"\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n          title=\"Link to Feedback form\"\n          tabIndex={0}\n        >\n          Give Feedback\n        </a>\n        <span className={styles.Padding} />\n        <div className={styles.SettingsButton}>\n          <button\n            type=\"button\"\n            className={[styles.FinalRowButton, styles.ReplayTutorialButton].join(' ')}\n            onClick={() => completeOnboarding(false)}\n            title=\"Click to replay tutorial\"\n            tabIndex={0}\n          >\n            Replay Tutorial\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nconst Connected = connect(({ tags }: State) => ({ tags }))(SettingsPage);\nexport default Connected;\n","import React, { ReactElement } from 'react';\nimport SettingsPage from './SettingsPage';\nimport styles from './SettingsButton.module.css';\nimport SamwiseIcon from '../../UI/SamwiseIcon';\n\nexport default function SettingsButton(): ReactElement {\n  const [showSettings, setShowSettings] = React.useState(false);\n\n  const displayModal = (): void => setShowSettings(true);\n  const closeModal = (): void => setShowSettings(false);\n\n  return (\n    <div style={{ display: 'inline-block' }}>\n      <button type=\"submit\" onClick={displayModal} className={styles.SettingsButton}>\n        <p style={{ transform: 'scale(2)translateY(-5px)' }} title=\"Settings Button\"><SamwiseIcon iconName=\"settings\" /></p>\n      </button>\n      {showSettings && (\n        <div className={styles.SettingsModal}>\n          <button className={styles.CloseButton} type=\"submit\" title=\"Close Settings\" onClick={closeModal} tabIndex={-1}>\n            <SamwiseIcon iconName=\"x-light-settings\" />\n          </button>\n          <section className={styles.ContentWrap}>\n            <h2>Settings</h2>\n            <SettingsPage />\n          </section>\n        </div>\n      )}\n    </div>\n  );\n}\n","import React, { ReactElement } from 'react';\nimport { Views } from './types';\nimport styles from './GroupIcon.module.scss';\n\ntype Props = {\n  classCode: string;\n  handleClick: (selectedView: Views, selectedGroup: string | undefined, e?: KeyboardEvent) => void;\n  selected: boolean;\n}\n\nexport default ({ classCode, handleClick, selected }: Props): ReactElement => (\n  <button\n    type=\"button\"\n    onClick={() => handleClick('group', classCode)}\n    className={styles.GroupIcon + (selected ? ` ${styles.Active}` : '')}\n  >\n    {classCode.charAt(0)}\n  </button>\n);\n","import React from 'react';\nimport { store } from 'store/store';\nimport { Tag } from 'common/lib/types/store-types';\nimport styles from './AddGroupTags.module.css';\n\ntype AddGroupTagsProps = {\n  readonly show: boolean;\n  readonly setShow: (show: boolean) => void;\n}\n\nexport default function AddGroupTags({ show, setShow }: AddGroupTagsProps): React.ReactElement {\n  const { tags } = store.getState();\n  const classes: Tag[] = [];\n  tags.forEach((t: Tag) => {\n    if (t.classId !== null) {\n      classes.push(t);\n    }\n  });\n\n  return (\n    <div>\n      {\n        show && (\n          <div\n            className={styles.AddGroupTags}\n            onMouseEnter={() => setShow(true)}\n            onMouseLeave={() => setShow(false)}\n          >\n            {\n              classes.map((t): React.ReactElement | undefined => (\n                <div key={t.name}>\n                  {\n                    (t.classId !== null) && (\n                      <div className={styles.ClassItem}>\n                        <div className={styles.Color} style={{ backgroundColor: t.color }}>{' '}</div>\n                        <p>{t.name.split(':')[0]}</p>\n                      </div>\n                    )\n                  }\n                </div>\n              ))\n            }\n          </div>\n        )\n      }\n    </div>\n  );\n}\n","import React, { ReactElement, useState } from 'react';\nimport SamwiseIcon from 'components/UI/SamwiseIcon';\nimport { faPlus } from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport SettingsButton from 'components/TitleBar/Settings/SettingsButton';\nimport GroupIcon from './GroupIcon';\nimport styles from './index.module.css';\nimport AddGroupTags from './AddGroupTags';\nimport { Views } from './types';\n\ntype Props = {\n  groups: string[];\n  changeView: (selectedView: Views, selectedGroup: string | undefined) => void;\n}\n\nexport default ({ groups, changeView }: Props): ReactElement => {\n  const [showDropdown, setShowDropdown] = useState(false);\n  const [selected, setSelected] = useState('personal');\n\n  const handleIconClick = (view: Views, group?: string): void => {\n    changeView(view, group);\n    setSelected(group !== undefined ? group : view);\n  };\n\n  return (\n    <div className={styles.SideBar}>\n      <button\n        type=\"button\"\n        onClick={() => handleIconClick('personal')}\n        className={styles.PersonalViewButton}\n      >\n        <SamwiseIcon iconName=\"personal-view\" />\n      </button>\n      <div className={styles.GroupIcons}>\n        <p>My Groups</p>\n        {\n          groups.map((g) => (\n            <GroupIcon\n              classCode={g}\n              handleClick={() => handleIconClick('group', g)}\n              selected={selected === g}\n              key={g}\n            />\n          ))\n        }\n        <span>\n          <button\n            type=\"button\"\n            onMouseEnter={() => setShowDropdown(true)}\n            onMouseLeave={() => setShowDropdown(false)}\n            className={styles.AddGroup}\n          >\n            <FontAwesomeIcon className={styles.PlusIcon} icon={faPlus} />\n          </button>\n          {!showDropdown && <p>New Group</p>}\n          <AddGroupTags show={showDropdown} setShow={setShowDropdown} />\n        </span>\n      </div>\n      <span className={styles.Links}>\n        <SettingsButton />\n      </span>\n    </div>\n  );\n};\n","/* eslint-disable no-bitwise */\n/**\n * Number of days in a week (7)\n */\nexport const DAYS_IN_WEEK = 7;\n/**\n * Whether a certain bit in a bitset is set\n * @param bit The bitset to check\n * @param d The position of the bit (zero-indexed from the LEFT)\n * @param totalLen The length of the bitset\n */\nexport const isBitSet = (bit, d, totalLen) => ((bit & (1 << (totalLen - 1 - d))) !== 0);\n/**\n * Return a bitset with a certain bit set\n * @param bit The bitset to modify\n * @param index The position of the bit to set (zero-indexed from the LEFT)\n * @param totalLen The length of the bitset\n */\nexport const setBit = (bit, index, totalLen) => (bit | (1 << (totalLen - 1 - index)));\n/**\n * Return a bitset with a certain bit unset\n * @param bit The bitset to modify\n * @param index The position of the bit to unset (zero-indexed from the LEFT)\n * @param totalLen The length of the bitset\n */\nexport const unsetBit = (bit, index, totalLen) => (bit & (~(1 << (totalLen - 1 - index))));\n/**\n * Sets a bit in a seven digit bitset representing week.\n *\n * @param bit The bitset.\n * @param d The day of the week (zero-indexed from Sunday).\n * @param totalLen total length of the bitset.\n */\nexport const setDayOfWeek = (bit, d) => setBit(bit, d, DAYS_IN_WEEK);\n/**\n * Unsets a bit in a seven digit bitset representing week.\n *\n * @param bit The bitset.\n * @param d The day of the week (zero-indexed from Sunday).\n * @param totalLen total length of the bitset.\n */\nexport const unsetDayOfWeek = (bit, d) => unsetBit(bit, d, DAYS_IN_WEEK);\n/**\n * Whether a day of the week is set in a seven digit bitset.\n *\n * @param bit The bitset.\n * @param d The day of the week (zero-indexed from Sunday).\n * @param totalLen total length of the bitset.\n */\nexport const isDayOfWeekSet = (bit, d) => isBitSet(bit, d, DAYS_IN_WEEK);\n","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { isBitSet } from './bitwise-util';\n/**\n * This is the utility module for array of tasks and subtasks.\n * This module implements many common functional operations on an array of tasks or subtasks.\n * Other modules should try to call functions in this module instead of implementing their own.\n */\nexport const getFilteredNotCompletedInFocusTask = (task) => {\n    const { children } = task, rest = __rest(task, [\"children\"]);\n    const newSubTasks = [];\n    if (task.inFocus) {\n        if (!task.complete) {\n            children.forEach((s) => {\n                if (s != null && !s.complete) {\n                    newSubTasks.push(s);\n                }\n            });\n        }\n        else {\n            return null;\n        }\n    }\n    else {\n        children.forEach((s) => {\n            if (s != null && s.inFocus && !task.complete && !s.complete) {\n                newSubTasks.push(s);\n            }\n        });\n        if (newSubTasks.length === 0) {\n            return null;\n        }\n    }\n    return Object.assign(Object.assign({}, rest), { children: newSubTasks.sort((a, b) => a.order - b.order) });\n};\nexport const getFilteredCompletedInFocusTask = (task) => {\n    const { children } = task, rest = __rest(task, [\"children\"]);\n    const newSubTasks = [];\n    if (task.inFocus) {\n        if (task.complete) {\n            children.forEach((s) => {\n                if (s != null) {\n                    newSubTasks.push(s);\n                }\n            });\n        }\n        else {\n            children.forEach((s) => {\n                if (s != null && s.complete) {\n                    newSubTasks.push(s);\n                }\n            });\n            if (newSubTasks.length === 0) {\n                return null;\n            }\n        }\n    }\n    else {\n        children.forEach((s) => {\n            if (s != null && s.inFocus && (task.complete || s.complete)) {\n                newSubTasks.push(s);\n            }\n        });\n        if (newSubTasks.length === 0) {\n            return null;\n        }\n    }\n    return Object.assign(Object.assign({}, rest), { children: newSubTasks.sort((a, b) => a.order - b.order) });\n};\n/**\n * Compute the progress given a list of filtered tasks.\n *\n * @param {Task[]} inFocusTasks in-focus filtered tasks.\n * @param {Map<string, SubTask>} subTasks all subtasks map as a reference.\n * @return {TasksProgressProps} the progress.\n */\nexport const computeTaskProgress = (inFocusTasks) => {\n    let completedTasksCount = 0;\n    let allTasksCount = 0;\n    for (let i = 0; i < inFocusTasks.length; i += 1) {\n        const task = inFocusTasks[i];\n        if (task.inFocus) {\n            allTasksCount += task.children.length + 1;\n        }\n        else {\n            allTasksCount += task.children.reduce((acc, subTask) => acc + (subTask.inFocus ? 1 : 0), 0);\n        }\n        if (task.complete) {\n            completedTasksCount += task.children.reduce((acc, subTask) => acc + (task.inFocus || subTask.inFocus ? 1 : 0), task.inFocus ? 1 : 0);\n        }\n        else {\n            completedTasksCount += task.children.reduce((acc, subTask) => acc + ((task.inFocus || subTask.inFocus) && subTask.complete ? 1 : 0), 0);\n        }\n    }\n    return { completedTasksCount, allTasksCount };\n};\n/**\n * @param date the date to check.\n * @param pattern the repeats pattern to be checked against.\n * @returns whether the repeating pattern matches the given date.\n */\nfunction dateMatchRepeatPattern(date, pattern) {\n    switch (pattern.type) {\n        case 'WEEKLY':\n            return isBitSet(pattern.bitSet, date.getDay(), 7);\n        case 'BIWEEKLY':\n            throw new Error('NOT_SUPPORTED_YET');\n        case 'MONTHLY':\n            return isBitSet(pattern.bitSet, date.getDate(), 31);\n        default:\n            throw new Error();\n    }\n}\n/**\n * @param date the date to check.\n * @param repeatingTaskMetadata the repeats metadata to be checked against.\n * @returns whether the given date can host a repeats given all the repeats info.\n */\nexport function dateMatchRepeats(date, { date: { startDate, endDate, pattern }, forks }) {\n    const dateString = date.toDateString();\n    if (forks.some(({ replaceDate }) => replaceDate.toDateString() === dateString)) {\n        // it's a one time task or a fork, not a repeat\n        return false;\n    }\n    if (date < startDate) {\n        // before the start\n        return false;\n    }\n    if (endDate instanceof Date) {\n        if (date > endDate) {\n            // after the end\n            return false;\n        }\n        return dateMatchRepeatPattern(date, pattern);\n    }\n    const repeatCount = endDate;\n    let passedRepeats = 0;\n    const currentDate = new Date(startDate);\n    while (currentDate < date) {\n        if (dateMatchRepeatPattern(currentDate, pattern)) {\n            passedRepeats += 1;\n            currentDate.setDate(currentDate.getDate() + 1);\n        }\n        if (passedRepeats >= repeatCount) {\n            // after n occurences\n            return false;\n        }\n    }\n    return dateMatchRepeatPattern(date, pattern);\n}\n","import { BannerMessageIds, BannerMessageStatus } from 'common/lib/types/store-types';\n\n/**\n * This file contains a list of all banner messages we may send.\n * It is a centralized place to compute what exact message we need to display.\n */\n\ntype MessagesType = { readonly [I in BannerMessageIds]: string };\n\nconst messages: MessagesType = {\n  '2019-03-10-quota-exceeded-incident': 'Oopsies! Due to unexpectedly high traffic, Samwise was briefly down on the night of March 9 for an upgrade. Sorry for any inconvenience this may have caused you!',\n};\n\n// sorted in decreasing order of date\nconst messageIdCollection: BannerMessageIds[] = [\n  // comment out the messages that no longer need to be displayed.\n  // '2019-03-10-quota-exceeded-incident',\n];\n\nexport type MessageWithId = { readonly id: BannerMessageIds; readonly message: string };\n\n/**\n * @param status the current banner message status.\n * @returns [message id, the message to display], or null if we don't need to display any of them.\n */\nexport default function findMessageToDisplay(status: BannerMessageStatus): MessageWithId | null {\n  // current stategy: only display the latest one\n  for (let i = 0; i < messageIdCollection.length; i += 1) {\n    const messageId = messageIdCollection[i];\n    const messageStatus = status[messageId];\n    const shouldBeDisplayed = messageStatus !== true;\n    if (shouldBeDisplayed) {\n      return { id: messageId, message: messages[messageId] };\n    }\n  }\n  return null;\n}\n","import { createSelector, createSelectorCreator, defaultMemoize } from 'reselect';\nimport { Map, Set } from 'immutable';\nimport { State, Tag, Task, BannerMessageStatus, RepeatingTaskMetadata } from 'common/lib/types/store-types';\nimport { NONE_TAG } from 'common/lib/util/tag-util';\nimport {\n  computeTaskProgress,\n  TasksProgressProps,\n  getFilteredCompletedInFocusTask,\n  getFilteredNotCompletedInFocusTask,\n  dateMatchRepeats,\n} from 'common/lib/util/task-util';\nimport findMessageToDisplay, { MessageWithId } from '../components/TitleBar/Banner/messages';\n\n/*\n * --------------------------------------------------------------------------------\n * Part 1: Selector Utilities\n * --------------------------------------------------------------------------------\n */\n\nconst createSetEqualSelector = createSelectorCreator(\n  defaultMemoize,\n  // Bug in reselect type definition: https://github.com/reduxjs/reselect/issues/384\n  // eslint-disable-next-line @typescript-eslint/ban-ts-ignore\n  // @ts-ignore\n  (a: Set<string>, b: Set<string>) => a.equals(b),\n);\n\ntype SelectorOf<T, Props = void> = (state: State, ownProps: Props) => T;\n\n/*\n * --------------------------------------------------------------------------------\n * Part 2: Simple & Direct Selectors\n * --------------------------------------------------------------------------------\n */\n\nconst getTags = ({ tags }: State): Map<string, Tag> => tags;\nconst getTasks = ({ tasks }: State): Map<string, Task> => tasks;\nconst getDateTaskMap = ({ dateTaskMap }: State): Map<string, Set<string>> => dateTaskMap;\nconst getRepeatedTaskSet = ({ repeatedTaskSet }: State): Set<string> => repeatedTaskSet;\nconst getBannerMessageStatus = (\n  { bannerMessageStatus }: State,\n): BannerMessageStatus => bannerMessageStatus;\n\nconst getTasksId = ({ tasks }: State): Set<string> => Set(tasks.keys());\n\nexport const getTagById = ({ tags }: State, id: string): Tag => tags.get(id) ?? NONE_TAG;\nexport const getTaskById = ({ tasks }: State, id: string): Task | null | undefined => tasks.get(id);\n\n/*\n * --------------------------------------------------------------------------------\n * Part 3: Compound Selectors\n * --------------------------------------------------------------------------------\n */\n\nexport const getOrderedTags: SelectorOf<Tag[]> = createSelector(\n  getTags, (tags) => Array.from(tags.values()).sort((a, b) => a.order - b.order),\n);\n\nconst getTasksInFocus: SelectorOf<Task[]> = createSelector(\n  [getTasks],\n  (tasks) => Array\n    .from(tasks.values())\n    .filter((t) => t.inFocus || t.children.some((subTask) => subTask.inFocus)),\n);\n\nexport const getTaskIds: SelectorOf<{ readonly ids: string[] }> = createSetEqualSelector(\n  getTasksId, (ids: Set<string>) => ({ ids: ids.toArray() }),\n);\n\ntype IdOrder = { readonly id: string; readonly order: number };\ntype IdOrderListProps = { readonly idOrderList: IdOrder[] };\n\nlet createGetIdOrderListByDateSelectors = Map<string, SelectorOf<IdOrderListProps>>();\n\nexport const createGetIdOrderListByDate = (\n  date: string,\n): SelectorOf<IdOrderListProps> => {\n  const existingSelector = createGetIdOrderListByDateSelectors.get(date);\n  if (existingSelector != null) {\n    return existingSelector;\n  }\n  const selector: SelectorOf<IdOrderListProps> = createSelector(\n    [getTasks, getDateTaskMap, getRepeatedTaskSet], (tasks, dateTaskMap, repeatedTaskSet) => {\n      const set = dateTaskMap.get(date);\n      const list: IdOrder[] = [];\n      if (set != null) {\n        // date matches\n        set.forEach((id) => {\n          const task = tasks.get(id);\n          if (task != null) {\n            const { order } = task;\n            list.push({ id, order });\n          }\n        });\n      }\n      // repeat matches\n      const dateObj = new Date(date);\n      repeatedTaskSet.forEach((id) => {\n        const task = tasks.get(id);\n        if (task == null) {\n          return;\n        }\n        const repeatedTask = task as Task<RepeatingTaskMetadata>;\n        if (dateMatchRepeats(dateObj, repeatedTask.metadata)) {\n          const { order } = repeatedTask;\n          list.push({ id, order });\n        }\n      });\n      return { idOrderList: list.sort((a, b) => a.order - b.order) };\n    },\n  );\n  createGetIdOrderListByDateSelectors = createGetIdOrderListByDateSelectors.set(date, selector);\n  return selector;\n};\n\nexport const getProgress: SelectorOf<TasksProgressProps> = createSelector(\n  [getTasksInFocus], computeTaskProgress,\n);\n\nexport type FocusViewTaskMetaData = IdOrder & {\n  readonly inFocusView: boolean; // whether the task is in the focus view\n  readonly inCompleteFocusView: boolean; // whether the task in in the complete focus view\n};\nexport type FocusViewProps = {\n  readonly tasks: FocusViewTaskMetaData[];\n  readonly progress: TasksProgressProps;\n};\n\nexport const getFocusViewProps: SelectorOf<FocusViewProps> = createSelector(\n  [getTasks, getProgress], (tasks, progress) => {\n    const taskMetaDataList: FocusViewTaskMetaData[] = [];\n    Array.from(tasks.values()).sort((a, b) => a.order - b.order).forEach((task) => {\n      const filteredUncompletedTask = getFilteredNotCompletedInFocusTask(task);\n      const filteredCompletedTask = getFilteredCompletedInFocusTask(task);\n      const { id, order } = task;\n      if (filteredCompletedTask != null && filteredUncompletedTask != null) {\n        taskMetaDataList.push({ id, order, inFocusView: true, inCompleteFocusView: true });\n        taskMetaDataList.push({ id, order, inFocusView: true, inCompleteFocusView: false });\n      } else if (filteredCompletedTask != null) {\n        taskMetaDataList.push({ id, order, inFocusView: true, inCompleteFocusView: true });\n      } else if (filteredUncompletedTask != null) {\n        taskMetaDataList.push({ id, order, inFocusView: true, inCompleteFocusView: false });\n      } else {\n        taskMetaDataList.push({ id, order, inFocusView: false, inCompleteFocusView: false });\n      }\n    });\n    return { tasks: taskMetaDataList, progress };\n  },\n);\n\ntype BannerProps = { readonly message: MessageWithId | null };\nexport const getBannerMessage: SelectorOf<BannerProps> = createSelector(\n  getBannerMessageStatus, (status) => ({ message: findMessageToDisplay(status) }),\n);\n","import React, { ReactElement } from 'react';\nimport { connect } from 'react-redux';\nimport Confetti from 'react-dom-confetti';\nimport { TasksProgressProps } from 'common/lib/util/task-util';\nimport styles from './Celebrate.module.css';\nimport { getProgress } from '../../../store/selectors';\n// import Bear from '../../../assets/bear/happy-bear.png';\n\ntype Props = TasksProgressProps;\n\n/**\n * The all tasks complete page. Displays after a user completes all focused tasks.\n */\nexport function AllComplete({ completedTasksCount, allTasksCount }: Props): ReactElement | null {\n  // Simple FSM. 0 = initial, 1 = saw unfinished tasks, 2 = finished all, 3 = hidden\n  const [progress, setProgress] = React.useState<0 | 1 | 2 | 3>(0);\n\n  const percent = completedTasksCount / allTasksCount;\n\n  switch (progress) {\n    case 0:\n    case 3:\n      if (allTasksCount > 0 && percent < 1) {\n        setProgress(1);\n      }\n      return null;\n    case 1:\n      if (allTasksCount > 0 && percent >= 1) {\n        setProgress(2);\n      }\n      break;\n    case 2:\n      if (allTasksCount > 0 && percent < 1) {\n        setProgress(1);\n      }\n      break;\n    default:\n  }\n\n  const shouldShow = progress === 2;\n\n  // const hidePopup = (): void => setProgress(3);\n\n  const confettiConfig = {\n    angle: 0,\n    spread: 360,\n    startVelocity: 18,\n    elementCount: 200,\n    dragFriction: 0.1,\n    duration: 3000,\n    delay: 0,\n    colors: ['#a864fd', '#29cdff', '#78ff44', '#ff718d', '#fdff6a'],\n  };\n\n  const showClass = shouldShow ? styles.Main : `${styles.Main} ${styles.Hidden}`;\n\n  return (\n    <div className={showClass}>\n      <span className={styles.ConfWrap}>\n        <Confetti active={shouldShow} config={confettiConfig} />\n      </span>\n    </div>\n  );\n}\n\nconst Connected = connect(getProgress)(AllComplete);\nexport default Connected;\n","import React, { ReactElement, CSSProperties, useState, useRef, useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport { State, Tag } from 'common/lib/types/store-types';\nimport TagItem from '../Tags/TagItem';\nimport ClassTagAdder from '../Tags/ClassTagAdder';\nimport styles from './Onboard.module.scss';\nimport Tutorial1 from '../../../assets/tutorial/t1.png';\nimport Tutorial2 from '../../../assets/tutorial/t2.png';\nimport Tutorial3 from '../../../assets/tutorial/t3.png';\nimport Tutorial4 from '../../../assets/tutorial/t4.png';\nimport Tutorial5 from '../../../assets/tutorial/t5.png';\nimport Tutorial6 from '../../../assets/tutorial/t6.png';\nimport { completeOnboarding, importCourseExams } from '../../../firebase/actions';\n\ntype TaggedImage = { readonly src: string; readonly alt: string }\n\nconst taggedImages: TaggedImage[] = [\n  {\n    src: Tutorial1,\n    alt: 'Sam is your personal assistant.',\n  },\n  {\n    src: Tutorial2,\n    alt: 'Add tasks in the box \\'What do you have to do?\\'',\n  },\n  {\n    src: Tutorial3,\n    alt: 'Press the pin icon to move a task to focus view. Press the unpin icon to remove it.',\n  },\n  {\n    src: Tutorial4,\n    alt: 'Tasks added will go into future view',\n  },\n  {\n    src: Tutorial5,\n    alt: 'You can track the progress in the progress bar',\n  },\n  {\n    src: Tutorial6,\n    alt: 'You can review the tutorial and edit tags and classes in settings',\n  },\n];\n\ntype AddClassProps = {\n  readonly classTags: Tag[];\n  readonly showNext: (shouldImport: boolean) => void;\n};\n\n/**\n * Adding class as the first onboarding step.\n */\nfunction AddClassOnBoarding({ classTags, showNext }: AddClassProps): ReactElement {\n  const [addExam, setAddExam] = useState<boolean>(true);\n\n  const clickBox = (e: React.FormEvent<HTMLInputElement>): void => (\n    setAddExam((e.target as HTMLInputElement).checked)\n  );\n  const allDone = (): void => showNext(addExam);\n\n  return (\n    <div style={{ padding: '60px 40px' }}>\n      {/* some random intro */}\n      <p className={styles.HeroIntroText}>\n        Hi! Help us boost your productivity by creating some tags.\n        <br />\n        Search and add the classes you are currently enrolled in to tag them.\n      </p>\n      {/* class adder */}\n      <div className={styles.SettingsSection}>\n        <div className={styles.SettingsSectionContent}>\n          <ClassTagAdder />\n        </div>\n      </div>\n      {/* display all class tags */}\n      <h2>My Classes</h2>\n      <div className={styles.SettingsSection}>\n        <div className={styles.SettingsSectionContent}>\n          <ul className={styles.ColorConfigItemList}>\n            {classTags.map((tag) => <TagItem key={tag.id} tag={tag} />)}\n          </ul>\n        </div>\n      </div>\n      <p className={styles.ImportExamContainer}>\n        <label htmlFor=\"onboardImportClass\">\n          <input type=\"checkbox\" id=\"onboardImportClass\" checked={addExam} onChange={clickBox} />\n          Yes, please automatically import registrar-scheduled exams for my classes.\n        </label>\n      </p>\n      {/* buttons */}\n      <div className={styles.SignButtonContainer}>\n        <span className={styles.Padding} />\n        <button type=\"button\" className={styles.SignButton} onClick={allDone}>\n          {classTags.length > 0 ? 'Done' : 'Skip Adding Classes'}\n        </button>\n      </div>\n    </div>\n  );\n}\n\ntype SlidesProps = {\n  readonly progress: number;\n  readonly showNext: () => void;\n  readonly goBack: () => void;\n  readonly skipTutorial: () => void;\n};\n\n/**\n * Showing slides as the second onboarding step.\n */\nfunction SlidesOnBoarding({ progress, showNext, goBack, skipTutorial }: SlidesProps): ReactElement {\n  const nextButtonRef = useRef<HTMLButtonElement>(null);\n  const { src, alt } = taggedImages[progress - 1];\n  useEffect(() => {\n    const buttonDOM = nextButtonRef.current;\n    if (buttonDOM) {\n      buttonDOM.focus();\n    }\n  }, []);\n  return (\n    <div className={styles.ModalWrap}>\n      <h2>Tutorial</h2>\n      <div className={styles.TutorialModal}>\n        <button type=\"button\" onClick={goBack}>&lsaquo;</button>\n        <img className={styles.TutorialImg} src={src} alt={alt} />\n        <button type=\"button\" ref={nextButtonRef} onClick={showNext}>&rsaquo;</button>\n      </div>\n      <p className={styles.ModalOptions}>\n        <button type=\"button\" onClick={skipTutorial} style={{ marginRight: '30px' }}>\n          Start using Samwise now &rarr;\n        </button>\n      </p>\n    </div>\n  );\n}\n\ntype Props = { readonly classTags: Tag[]; readonly completedOnboarding: boolean };\n\n/**\n * The onboarding page. Displayed only if the user chooses to do so or during first landing.\n */\nexport function Onboard({ classTags, completedOnboarding }: Props): ReactElement | null {\n  const [progress, setProgress] = useState<number>(0);\n\n  if (completedOnboarding || progress >= 7) {\n    if (progress !== 1) {\n      setProgress(1);\n    }\n    completeOnboarding(true);\n    // the conditions not to display the tutorial\n    return null;\n  }\n\n  const showNext = (): void => setProgress((prev) => prev + 1);\n  const showNextImport = (shouldImport: boolean): void => {\n    if (shouldImport) {\n      importCourseExams();\n    }\n    showNext();\n  };\n  const goBack = (): void => setProgress((prev) => (prev > 1 ? prev - 1 : prev));\n  const skipTutorial = (): void => setProgress(100);\n\n  const onboardingContainerStyle: CSSProperties | undefined = progress > 0\n    ? { overflowY: 'hidden', background: 'rgba(0,0,0,0.8)' }\n    : undefined;\n  return (\n    <div className={styles.Hero} style={onboardingContainerStyle}>\n      {progress === 0 && <AddClassOnBoarding classTags={classTags} showNext={showNextImport} />}\n      {progress > 0 && (\n        <SlidesOnBoarding\n          progress={progress}\n          showNext={showNext}\n          goBack={goBack}\n          skipTutorial={skipTutorial}\n        />\n      )}\n    </div>\n  );\n}\n\nconst Connected = connect(\n  ({ tags, settings: { completedOnboarding } }: State): Props => {\n    const classTags: Tag[] = Array.from(tags.values()).filter((t) => t.classId != null);\n    return { classTags, completedOnboarding };\n  },\n)(Onboard);\nexport default Connected;\n","/**\n * @param {number} day the day to convert, which must be between 0 to 6.\n * @return {string} the converted day string. e.g. 0 ==> 'SUN', 3 ==> 'WED'.\n */\nexport function day2String(day) {\n    switch (day) {\n        case 0:\n            return 'SUN';\n        case 1:\n            return 'MON';\n        case 2:\n            return 'TUE';\n        case 3:\n            return 'WED';\n        case 4:\n            return 'THU';\n        case 5:\n            return 'FRI';\n        case 6:\n            return 'SAT';\n        default:\n            throw new Error('Impossible Case');\n    }\n}\n/**\n * @param {Date} date the date to convert.\n * @return {string} the formatted string of date.\n */\nexport function date2String(date) {\n    return date.toLocaleDateString('en-US', {\n        month: 'numeric', day: 'numeric',\n    });\n}\n/**\n * @param {Date} date the date to convert.\n * @return {string} the formatted string of date with year.\n */\nexport function date2FullDateString(date) {\n    return date.toLocaleDateString('en-US', {\n        month: 'long', day: 'numeric', year: 'numeric',\n    });\n}\n/**\n * @param {Date} date the date to convert.\n * @return {string} formatted string of date with year and month.\n */\nexport function date2YearMonth(date) {\n    return date.toLocaleDateString('en-US', {\n        month: 'long', year: 'numeric',\n    });\n}\n/**\n * @return {Date} today at 0 AM.\n */\nexport function getTodayAtZeroAM() {\n    const d = new Date();\n    d.setHours(0, 0, 0, 0);\n    return d;\n}\n/**\n * Check whether a given date is today.\n */\nexport function isToday(date) {\n    const today = new Date();\n    return today.getFullYear() === date.getFullYear()\n        && today.getMonth() === date.getMonth()\n        && today.getDate() === date.getDate();\n}\n/**\n * @param date the date object to provide time information.\n * @param dateString the date string to apply.\n * @returns a new date object with the date info in the date string applied.\n */\nexport function getDateWithDateString(date, dateString) {\n    const newDate = date === null ? new Date() : new Date(date);\n    const dateInfo = new Date(dateString);\n    newDate.setFullYear(dateInfo.getFullYear());\n    newDate.setMonth(dateInfo.getMonth());\n    newDate.setDate(dateInfo.getDate());\n    if (date === null) {\n        // Default to last second of the day.\n        newDate.setHours(23, 59, 59);\n    }\n    return newDate;\n}\n/**\n * returns the same date x weeks - 1 day later\n * example: monday oct 1, 2 weeks later returnes sunday the 14th\n *\n * @param date\n * @param x\n */\nexport function getDateAfterXWeeks(date, x) {\n    const oneDay = 1000 * 60 * 60 * 24;\n    return new Date(date.getTime() + oneDay * 7 * x - oneDay);\n}\n","import React, { ReactElement } from 'react';\n\ntype Props = {\n  readonly color: string;\n  readonly title: string;\n  readonly id: string;\n  readonly onChange: (tag: string) => void;\n};\n\n/**\n * One item in the class picker.\n */\nexport default function TagPickerItem({ id, color, title, onChange }: Props): ReactElement {\n  const style: {} = { '--custom-color': color };\n  return (\n    <li style={style}>\n      <input onClick={() => onChange(id)} type=\"checkbox\" />\n      {title}\n    </li>\n  );\n}\n","import React, { ReactElement } from 'react';\nimport { connect } from 'react-redux';\nimport { State, Tag } from 'common/lib/types/store-types';\nimport { NONE_TAG_ID } from 'common/lib/util/tag-util';\nimport TagPickerItem from './TagPickerItem';\nimport styles from './TagListPicker.module.css';\nimport { getOrderedTags } from '../../../store/selectors';\n\ntype OwnProps = { readonly onTagChange: (newTag: string) => void };\ntype Props = OwnProps & { readonly tags: Tag[] };\n\n/**\n * The component used to pick a tag from a list.\n *\n * @param {function} onTagChange the function to call when tag changed.\n * @param {Tag[]} tags a list of all tags. Given by the redux store.\n * @return {Node} the rendered picker.\n * @constructor\n */\nfunction TagListPicker({ onTagChange, tags }: Props): ReactElement {\n  const items = tags.slice().sort((a, b) => {\n    if (a.id === NONE_TAG_ID) { return 1; }\n    if (b.id === NONE_TAG_ID) { return -1; }\n    if (a.classId != null && b.classId == null) { return -1; }\n    if (a.classId == null && b.classId != null) { return 1; }\n    return a.name.localeCompare(b.name);\n  }).map(({ id, name, color, classId }: Tag) => (\n    <TagPickerItem key={id} id={id} title={classId !== null ? name.split(':')[0] : name} color={color} onChange={onTagChange} />\n  ));\n  return (\n    <ul className={styles.NewTaskClass}>\n      {items}\n    </ul>\n  );\n}\n\nconst Connected = connect((state: State) => ({ tags: getOrderedTags(state) }))(TagListPicker);\nexport default Connected;\n","import React, { ReactElement, KeyboardEvent } from 'react';\nimport { connect } from 'react-redux';\nimport { NONE_TAG, NONE_TAG_ID } from 'common/lib/util/tag-util';\nimport { State, Tag } from 'common/lib/types/store-types';\nimport TagListPicker from '../Util/TagListPicker/TagListPicker';\nimport styles from './Picker.module.css';\nimport SamwiseIcon from '../UI/SamwiseIcon';\n\ntype OwnProps = {\n  readonly tag: string;\n  readonly opened: boolean;\n  readonly onTagChange: (tag: string) => void;\n  readonly onPickerOpened: () => void;\n};\ntype Props = OwnProps & {\n  // subscribed from redux store.\n  readonly getTag: (id: string) => Tag;\n};\n\nfunction TagPicker({ tag, opened, onTagChange, onPickerOpened, getTag }: Props): ReactElement {\n  // Controllers\n  const clickPicker = (): void => { onPickerOpened(); };\n  const pressedPicker = (e: KeyboardEvent): void => {\n    if (e.key === 'Enter' || e.key === ' ') onPickerOpened();\n  };\n  const reset = (): void => onTagChange(NONE_TAG_ID);\n  // Nodes\n  const displayedNode = (isDefault: boolean): ReactElement => {\n    const { name, color, classId } = getTag(tag);\n    const style = isDefault ? { background: NONE_TAG.color } : { background: color };\n    const internal = isDefault\n      ? (\n        <>\n          <span className={styles.TagDisplay}>\n            <SamwiseIcon iconName=\"tag-light\" className={styles.CenterIcon} />\n            {' '}\n            add class&nbsp;&nbsp;\n          </span>\n        </>\n      )\n      : (\n        <>\n          <span className={styles.TagDisplay}>{classId != null ? name.split(':')[0] : name}</span>\n          <button type=\"button\" className={styles.ResetButton} onClick={reset}>&times;</button>\n        </>\n      );\n    return (\n      <span\n        role=\"presentation\"\n        onClick={clickPicker}\n        onKeyPress={pressedPicker}\n        className={styles.Label}\n        style={style}\n      >\n        {internal}\n      </span>\n    );\n  };\n  return (\n    <div className={styles.Main}>\n      {displayedNode(tag === NONE_TAG_ID)}\n      {opened && (\n        <div className={styles.NewTaskClassPick}>\n          <TagListPicker onTagChange={onTagChange} />\n        </div>\n      )}\n    </div>\n  );\n}\n\nconst Connected = connect(\n  ({ tags }: State) => ({ getTag: (id: string) => tags.get(id) ?? NONE_TAG }),\n)(TagPicker);\nexport default Connected;\n","import { useState, useEffect } from 'react';\n\nconst INTERVAL = 1000;\n\nlet currentTime: number = new Date().getTime();\n\nlet testTime: number | null = null;\n\ntype Handler = (time: number) => void;\n\nconst handlers: Set<Handler> = new Set();\n\nsetInterval(() => {\n  if (testTime === null) {\n    currentTime = new Date().getTime();\n    handlers.forEach((handler) => handler(currentTime));\n  }\n}, INTERVAL);\n\n/**\n * Enable test mode for components that uses or indirectly uses the time hooks.\n * The test mode disables:\n * - Current time real time update.\n * - Reporting updated time to components.\n *\n * @param timeForTesting the value of current time used for deterministic time.\n */\nexport const enableTestMode = (timeForTesting: number): void => {\n  testTime = timeForTesting;\n  currentTime = testTime;\n};\n\n/**\n * Restart realtime time update when the test ends.\n */\nexport const disableTestMode = (): void => {\n  testTime = null;\n};\n\n/**\n * A react state hooks that returns the current time every 1 second.\n * It will cause a re-render when a new value is returned.\n *\n * @returns the current time.\n */\nexport const useTime = (): number => {\n  const [time, setTime] = useState(currentTime);\n\n  useEffect(() => {\n    const handler = (newTime: number): void => setTime(newTime);\n    handlers.add(handler);\n    return (): void => {\n      handlers.delete(handler);\n    };\n  }, []);\n\n  return time;\n};\n\n/**\n * A react state hooks that returns the current date every one day.\n * It will cause a re-render when a new value is returned.\n *\n * @returns a date object that falls within today's range.\n */\nconst useDate = (): Date => {\n  const [currentDateString, setCurrentDateString] = useState(new Date(currentTime).toDateString());\n\n  useEffect(() => {\n    const handler = (newTime: number): void => {\n      const newTimeDateString = new Date(newTime).toDateString();\n      if (newTimeDateString !== currentDateString) {\n        setCurrentDateString(newTimeDateString);\n      }\n    };\n    handlers.add(handler);\n    return (): void => {\n      handlers.delete(handler);\n    };\n  }, [currentDateString]);\n\n  return new Date(currentDateString);\n};\n\n/**\n * A react state hooks that returns the current date every one day.\n * It will cause a re-render when a new value is returned.\n *\n * @returns today at 23:59:59 (in user's browser's reported timezone) as a date object.\n */\nexport const useTodayLastSecondTime = (): Date => {\n  const date = new Date(useDate());\n  date.setHours(23, 59, 59);\n  return date;\n};\n\n/**\n * A react state hooks that returns the current date every one day.\n * It will cause a re-render when a new value is returned.\n *\n * @returns today at 00:00:00 (in user's browser's reported timezone) as a date object.\n */\nexport const useTodayFirstSecondTime = (): Date => {\n  const date = new Date(useDate());\n  date.setHours(0, 0, 0);\n  return date;\n};\n","/**\n * The (exclusive) last day of class for Spring 2020\n */\nexport const LAST_DAY_OF_CLASS = new Date('5/13/2020');\n/**\n * The (exclusive) last day of final exams for Spring 2020\n */\nexport const LAST_DAY_OF_EXAMS = new Date('5/24/2020');\n","import React, { ReactElement, SyntheticEvent, ChangeEvent, KeyboardEvent } from 'react';\nimport Calendar from 'react-calendar';\nimport { useTodayLastSecondTime, useTodayFirstSecondTime } from 'hooks/time-hook';\nimport { date2String, getDateAfterXWeeks } from 'common/lib/util/datetime-util';\nimport { NONE_TAG } from 'common/lib/util/tag-util';\nimport { RepeatingDate } from 'common/lib/types/store-types';\nimport { LAST_DAY_OF_CLASS, LAST_DAY_OF_EXAMS } from 'common/lib/util/const-util';\nimport { setDayOfWeek, unsetDayOfWeek, isDayOfWeekSet, DAYS_IN_WEEK } from 'common/lib/util/bitwise-util';\nimport styles from './Picker.module.css';\nimport dateStyles from './DatePicker.module.css';\nimport SamwiseIcon from '../UI/SamwiseIcon';\n\ntype Props = {\n  readonly onDateChange: (date: Date | RepeatingDate | null) => void;\n  readonly date: Date | RepeatingDate;\n  readonly opened: boolean;\n  readonly datePicked: boolean;\n  readonly inGroupView: boolean;\n  readonly onPickerOpened: () => void;\n  readonly onClearPicker: () => void;\n};\n\nconst weekDays: readonly [string, number][] = [\n  ['S', 0], ['M', 1], ['T', 2], ['W', 3], ['T', 4], ['F', 5], ['S', 6],\n];\n\ntype InternalDate = {\n  type: 'normal' | 'repeat';\n  date: Date;\n  checkedWeeks: number;\n  calOpened: boolean;\n  repeatEnd: {\n    type: 'date' | 'weeks';\n    date: Date;\n    weeks: number;\n  };\n};\n\nexport default function DatePicker(props: Props): ReactElement {\n  const {\n    date, opened, datePicked, inGroupView, onDateChange, onPickerOpened, onClearPicker,\n  } = props;\n  const todayFirstSecond = useTodayFirstSecondTime();\n  const todayLastSecond = useTodayLastSecondTime();\n\n  // Controllers\n  const clickPicker = (): void => { onPickerOpened(); };\n  const pressedPicker = (e: KeyboardEvent): void => {\n    if (e.key === 'Enter' || e.key === ' ') onPickerOpened();\n  };\n  const reset = (e: SyntheticEvent<HTMLElement>): void => {\n    e.stopPropagation();\n    onClearPicker();\n  };\n\n  const [internalDate, setInternalDate] = React.useState<InternalDate>(\n    date instanceof Date\n      ? {\n        type: 'normal',\n        date,\n        checkedWeeks: 0,\n        calOpened: false,\n        repeatEnd: { type: 'date', date: new Date(), weeks: 0 },\n      }\n      : {\n        type: 'repeat',\n        date: new Date(),\n        checkedWeeks: date.pattern.bitSet,\n        calOpened: false,\n        repeatEnd: {\n          type: 'date',\n          date: date.endDate instanceof Date ? date.endDate : new Date(),\n          weeks: date.endDate instanceof Date ? 0 : date.endDate,\n        },\n      },\n  );\n\n  /**\n   * Generates the date string of the next valid day in a bitset pattern\n   */\n  const genNextValidDay = (bitset: number): string => {\n    const currDay = new Date().getDay();\n    for (let i = 0; i < DAYS_IN_WEEK; i += 1) {\n      const checkDay = (i + currDay) % DAYS_IN_WEEK;\n      if (isDayOfWeekSet(bitset, checkDay)) {\n        return date2String(new Date(+(new Date()) + 1000 * 60 * 60 * 24 * i));\n      }\n    }\n    return '';\n  };\n\n  // Nodes\n  const displayedNode = (isDefault: boolean): ReactElement => {\n    const style = { background: NONE_TAG.color };\n    const internal = isDefault\n      ? (\n        <>\n          <span className={styles.DateDisplay}>\n            <SamwiseIcon iconName=\"calendar-light\" className={styles.CenterIcon} tabIndex={-1} />\n            {' '}\n            add date&nbsp;\n          </span>\n        </>\n      )\n      : (\n        <>\n          <span className={styles.DateDisplay}>\n            {!(date instanceof Date)\n              && <SamwiseIcon iconName=\"repeat\" className={dateStyles.RepeatIcon} />}\n            {date instanceof Date ? date2String(date) : ` ${genNextValidDay(date.pattern.bitSet)}`}\n          </span>\n          <button type=\"button\" className={styles.ResetButton} onClick={reset}>&times;</button>\n        </>\n      );\n    return (\n      <span\n        role=\"presentation\"\n        onClick={clickPicker}\n        onKeyPress={pressedPicker}\n        className={styles.Label}\n        style={style}\n      >\n        {internal}\n      </span>\n    );\n  };\n\n  /**\n   * Event handler for when the user starts the repeat box\n   */\n  const changeRepeat = (e: ChangeEvent<HTMLSelectElement>): void => {\n    setInternalDate({\n      ...internalDate,\n      type:\n        e.currentTarget.value === 'true'\n          ? 'repeat'\n          : 'normal',\n    });\n  };\n\n  /**\n   * Event handler when checking or unchecking a weekday for repeating\n   */\n  const handleClickWeekday = (e: ChangeEvent<HTMLInputElement>): void => {\n    const { value, checked } = e.currentTarget;\n    const val = parseInt(value, 10);\n\n    setInternalDate(\n      {\n        ...internalDate,\n        checkedWeeks: checked\n          ? setDayOfWeek(internalDate.checkedWeeks, val)\n          : unsetDayOfWeek(internalDate.checkedWeeks, val),\n      },\n    );\n  };\n\n  /**\n   * The list of labels and inputs making up the seven weekdays users can check and uncheck\n   */\n  const weekdayPickers = weekDays.map(\n    ([x, i]) => {\n      const isDaySet = isDayOfWeekSet(internalDate.checkedWeeks, i);\n      return (\n        <label\n          htmlFor={`newTaskRepeatInputCheck${i}`}\n          key={`${x}-${i}`}\n          style={isDaySet ? {\n            background: '#5a5a5a', color: 'white',\n          } : {}}\n        >\n          {x}\n          <input\n            id={`newTaskRepeatInputCheck${i}`}\n            checked={isDaySet}\n            value={i}\n            onChange={handleClickWeekday}\n            type=\"checkbox\"\n            name=\"repeatWeek\"\n          />\n        </label>\n      );\n    },\n  );\n\n  /**\n   * Event handler for choosing a repeat end option\n   * @param e The onchange event\n   */\n  const handleClickEnd = (e: ChangeEvent<HTMLInputElement>): void => {\n    const { value } = e.currentTarget;\n    const valNum = parseInt(value, 10);\n\n    const newType: 'date' | 'weeks' = valNum === 0 ? 'date' : 'weeks';\n\n    setInternalDate({\n      ...internalDate,\n      repeatEnd: {\n        ...internalDate.repeatEnd,\n        type: newType,\n      },\n    });\n  };\n\n  /**\n   * Event handler for when the user starts the repeat box\n   */\n  const handleClickRepeatCal = (): void => {\n    setInternalDate({ ...internalDate, calOpened: !internalDate.calOpened });\n  };\n\n  /**\n   * Event handler for choosing a date to end the repeat\n   * @param d The date chosen from the Calendar component\n   */\n  const handleSetRepeatEndDate = (d: Date | Date[]): void => {\n    setInternalDate({\n      ...internalDate,\n      calOpened: false,\n      repeatEnd: { ...internalDate.repeatEnd, date: d instanceof Array ? d[0] : d },\n    });\n  };\n\n  /**\n   * Event handler for choosing a repeat end option\n   * @param e The onchange event\n   */\n  const handleSetRepeatNumber = (e: ChangeEvent<HTMLInputElement>): void => {\n    const { value } = e.currentTarget;\n    setInternalDate({\n      ...internalDate,\n      repeatEnd: { ...internalDate.repeatEnd, weeks: parseInt(value, 10) },\n    });\n  };\n\n  /**\n   * Set the end of the date to a specified date\n   * @param d The date to set the repeat end date\n   */\n  const testSetEndSem = (d: Date): void => {\n    setInternalDate({\n      ...internalDate,\n      calOpened: false,\n      repeatEnd: { type: 'date', date: d, weeks: internalDate.repeatEnd.weeks },\n    });\n  };\n\n\n  /**\n   * The list of li elements for all the repeat end options\n   */\n  const endPicker = internalDate.type === 'repeat' ? [\n    <>\n      On\n      {' '}\n      <button\n        type=\"button\"\n        className={dateStyles.SubtleBtn}\n        onClick={handleClickRepeatCal}\n      >\n        {internalDate.repeatEnd.date.toLocaleDateString()}\n      </button>\n      {\n        internalDate.type === 'repeat'\n        && internalDate.calOpened\n        && (\n          <div>\n            <Calendar\n              value={internalDate.repeatEnd instanceof Date ? internalDate.repeatEnd : new Date()}\n              minDate={new Date()}\n              onChange={handleSetRepeatEndDate}\n              calendarType=\"US\"\n            />\n            <p className={styles.RepeatSpecialEndDate}>\n              <button type=\"button\" onClick={() => testSetEndSem(LAST_DAY_OF_CLASS)}>\n                Last Day of Class (\n                {LAST_DAY_OF_CLASS.toLocaleDateString()}\n                )\n              </button>\n              <button type=\"button\" onClick={() => testSetEndSem(LAST_DAY_OF_EXAMS)}>\n                Last Day of Finals (\n                {LAST_DAY_OF_EXAMS.toLocaleDateString()}\n                )\n              </button>\n            </p>\n          </div>\n        )\n      }\n    </>,\n    <>\n      After\n      {' '}\n      <input\n        value={internalDate.repeatEnd.weeks}\n        onChange={handleSetRepeatNumber}\n        min=\"1\"\n        max=\"30\"\n        step=\"1\"\n        type=\"number\"\n      />\n      {' '}\n      weeks\n    </>,\n  ].map((x, i) => {\n    let checked = false;\n    if (internalDate.type === 'repeat') {\n      checked = i === 0\n        ? internalDate.repeatEnd.type !== 'weeks'\n        : internalDate.repeatEnd.type === 'weeks';\n    }\n    return (\n      // eslint-disable-next-line react/no-array-index-key\n      <li key={i}>\n        <label htmlFor={`newTaskRepeatEndRadio${i}`}>\n          <input\n            type=\"radio\"\n            name=\"repeatEnd\"\n            id={`newTaskRepeatEndRadio${i}`}\n            value={i}\n            checked={checked}\n            onChange={handleClickEnd}\n          />\n          {x}\n        </label>\n      </li>\n    );\n  }) : [];\n\n  /**\n   * The component to display when the repeating task box is open\n   */\n  const openedRepeat = (\n    <div className={styles.RepeatOpened}>\n      <p className={styles.RepeatPickDayWrap}>\n        Repeats every week on\n        <br />\n        {weekdayPickers}\n      </p>\n      <div className={styles.RepeatPickEndWrap}>\n        Stops\n        <ul className={dateStyles.EndPicker}>{endPicker}</ul>\n      </div>\n    </div>\n  );\n\n  /**\n   * Resets all the react states regarding repeating tasks\n   */\n  const resetRepeats = (): void => {\n    setInternalDate({\n      type: 'normal',\n      date: new Date(),\n      checkedWeeks: 0,\n      calOpened: false,\n      repeatEnd: { type: 'date', date: new Date(), weeks: 0 },\n    });\n  };\n\n  /**\n   * Event handler for when the user changes the calendar date\n   */\n  const onChange = (d: Date | Date[]): void => {\n    setInternalDate({ ...internalDate, date: Array.isArray(d) ? d[0] : d });\n  };\n\n  /**\n   * Event handler for when the user tries to save\n   */\n  const onSubmit = (): void => {\n    if (internalDate.type === 'normal') {\n      onDateChange(internalDate.date);\n      return;\n    }\n\n    const bitSet = internalDate.checkedWeeks;\n\n    // If they didn't pick any days to repeat on, don't save.\n    if (bitSet === 0) { return; }\n\n    let endDate;\n\n    if (internalDate.repeatEnd.type === 'date') {\n      endDate = internalDate.repeatEnd.date;\n    } else {\n      // TODO once database support exists, replace this with number of occurrances\n      endDate = getDateAfterXWeeks(todayLastSecond, internalDate.repeatEnd.weeks);\n    }\n\n    const repData: RepeatingDate = {\n      startDate: todayFirstSecond,\n      endDate,\n      pattern: { type: 'WEEKLY', bitSet },\n    };\n    onDateChange(repData);\n  };\n\n  /**\n   * Event handler for when the user tries to cancel\n   */\n  const onCancel = (): void => {\n    resetRepeats();\n    onDateChange(null);\n  };\n\n  return (\n    <div className={styles.Main}>\n      {displayedNode(!datePicked)}\n      {opened && (\n        <div className={inGroupView ? styles.NewTaskDatePickGroup : styles.NewTaskDatePick}>\n          <p className={dateStyles.SelectTypeWrap}>\n            <select\n              className={dateStyles.SelectType}\n              value={(internalDate.type !== 'normal').toString()}\n              onChange={changeRepeat}\n            >\n              <option value=\"false\">One-Time</option>\n              <option value=\"true\">Repeating</option>\n            </select>\n          </p>\n          {\n            internalDate.type === 'normal'\n            && <Calendar onChange={onChange} value={internalDate.date} minDate={new Date()} calendarType=\"US\" />\n          }\n          {internalDate.type !== 'normal' && openedRepeat}\n          <p className={styles.NewTaskDateSave}>\n            <button type=\"button\" onClick={onCancel}>Cancel</button>\n            <button type=\"button\" onClick={onSubmit}>Done</button>\n          </p>\n        </div>\n      )}\n    </div>\n  );\n}\n","import React, { ReactElement, SyntheticEvent, KeyboardEvent } from 'react';\nimport styles from './Picker.module.css';\nimport SamwiseIcon from '../UI/SamwiseIcon';\n\ntype Props = {\n  readonly pinned: boolean;\n  readonly onPinChange: (inFocus: boolean) => void;\n};\n\nexport default function FocusPicker({ pinned, onPinChange }: Props): ReactElement {\n  const clickPicker = (e: SyntheticEvent<HTMLElement>): void => {\n    e.stopPropagation();\n    onPinChange(!pinned);\n  };\n  const pressedPicker = (e: KeyboardEvent): void => {\n    if (e.key === 'Enter' || e.key === ' ') {\n      e.stopPropagation();\n      onPinChange(!pinned);\n    }\n  };\n  const pinIconName = pinned ? 'pin-dark-filled' : 'pin-dark-outline';\n  return (\n    <div className={styles.Main}>\n      <span\n        role=\"presentation\"\n        onClick={clickPicker}\n        onKeyPress={pressedPicker}\n        className={styles.Label}\n      >\n        <SamwiseIcon iconName={pinIconName} className={styles.CenterIcon} />\n      </span>\n    </div>\n  );\n}\n","import React, { CSSProperties, KeyboardEvent, SyntheticEvent, ReactElement } from 'react';\nimport { connect } from 'react-redux';\nimport { randomId } from 'common/lib/util/general-util';\nimport { Task, RepeatingDate, SubTask, State as StoreState, Theme } from 'common/lib/types/store-types';\nimport { NONE_TAG_ID } from 'common/lib/util/tag-util';\nimport { isToday } from 'common/lib/util/datetime-util';\nimport TagPicker from './TagPicker';\nimport DatePicker from './DatePicker';\nimport FocusPicker from './FocusPicker';\nimport { addTask, TaskWithoutIdOrderChildren } from '../../firebase/actions';\nimport SamwiseIcon from '../UI/SamwiseIcon';\nimport styles from './index.module.css';\n\ntype SimpleTask = Omit<Task, 'type' | 'order' | 'children' | 'metadata'>;\n\ntype State = SimpleTask & {\n  readonly date: Date | RepeatingDate;\n  readonly subTasks: SubTask[];\n  readonly opened: boolean;\n  readonly tagPickerOpened: boolean;\n  readonly datePickerOpened: boolean;\n  readonly datePicked: boolean;\n  readonly needToSwitchFocus: boolean;\n};\n\ntype Props = { readonly theme: Theme };\n\n/**\n * The placeholder text in the main task input box.\n */\nconst PLACEHOLDER_TEXT = 'What do you have to do?';\n/**\n * Generate the initial state.\n */\nconst initialState = (): State => ({\n  id: randomId(),\n  name: '',\n  tag: NONE_TAG_ID, // the id of the None tag.\n  date: new Date(),\n  complete: false,\n  inFocus: false,\n  subTasks: [],\n  opened: false,\n  tagPickerOpened: false,\n  datePickerOpened: false,\n  datePicked: false,\n  needToSwitchFocus: false,\n});\n\nexport class TaskCreator extends React.PureComponent<Props, State> {\n  public readonly state: State = initialState();\n\n  private addTask: HTMLInputElement | null | undefined;\n\n  private darkModeStyle: CSSProperties;\n\n  constructor(props: { theme: Theme }) {\n    super(props);\n    this.darkModeStyle = {\n      background: 'black',\n      color: 'white',\n    };\n  }\n\n  /*\n   * --------------------------------------------------------------------------------\n   * Part 1: Openers & Closers\n   * --------------------------------------------------------------------------------\n   */\n\n  /**\n   * Open the new task editor.\n   */\n  private openNewTask = (): void => this.setState({ opened: true });\n\n  /**\n   * Close (collapse) the new task editor.\n   */\n  private closeNewTask = (): void => this.setState({ opened: false });\n\n  /**\n   * Open the tag picker and close the date picker.\n   */\n  private openTagPicker = (): void => this.setState(({ tagPickerOpened }: State) => ({\n    tagPickerOpened: !tagPickerOpened,\n    datePickerOpened: false,\n  }));\n\n  /**\n   * Open the date picker and close the tag picker.\n   */\n  private openDatePicker = (): void => this.setState(({ datePickerOpened }: State) => ({\n    datePickerOpened: !datePickerOpened,\n    tagPickerOpened: false,\n  }));\n\n  /*\n   * --------------------------------------------------------------------------------\n   * Part 2: Manager functions when finished editing.\n   * --------------------------------------------------------------------------------\n   */\n\n  /**\n   * Focus on the task name, if possible.\n   */\n  private focusTaskName = (): void => {\n    if (this.addTask) {\n      this.addTask.focus();\n    }\n  };\n\n  /**\n   * Handle on potential save.\n   *\n   * @param e the event that signals a potential save action.\n   */\n  private handleSave = (e?: SyntheticEvent<HTMLElement>): void => {\n    if (e != null) {\n      e.preventDefault();\n    }\n    const {\n      name, tag, date, complete, inFocus, subTasks,\n    } = this.state;\n    if (name === '') {\n      return;\n    }\n    const newSubTasks = subTasks\n      .filter((subTask) => subTask.name !== '') // remove empty subtasks\n      // normalize orders: use current sequence as order;; remove useless id\n      .map(({ id, ...rest }, order) => ({ ...rest, order }));\n    // Put task in focus is the due date is today.\n    const autoInFocus = inFocus || (date instanceof Date && isToday(date));\n    const commonTask = { name, tag, date, complete, inFocus: autoInFocus };\n    let newTask: TaskWithoutIdOrderChildren;\n    if (date instanceof Date) {\n      date.setHours(23);\n      date.setMinutes(59);\n      date.setSeconds(59);\n      newTask = { ...commonTask, metadata: { type: 'ONE_TIME', date } };\n    } else {\n      newTask = {\n        ...commonTask,\n        inFocus: false,\n        metadata: {\n          type: 'MASTER_TEMPLATE',\n          forks: [],\n          date,\n        },\n      };\n    }\n    // Add the task to the store.\n    addTask(newTask, newSubTasks);\n    // Reset the state.\n    this.setState({ ...initialState() });\n    this.closeNewTask();\n    if (this.addTask) {\n      this.addTask.blur();\n    }\n  };\n\n  /*\n   * --------------------------------------------------------------------------------\n   * Part 3: Various Editors\n   * --------------------------------------------------------------------------------\n   */\n\n  /**\n   * Edit the task name.\n   *\n   * @param e the event that contains the new task name.\n   */\n  private editTaskName = (e: SyntheticEvent<HTMLInputElement>): void => this.setState(\n    { name: e.currentTarget.value },\n    this.focusTaskName,\n  );\n\n  /**\n   * Edit the tag.\n   *\n   * @param {string} tag the new tag.\n   */\n  private editTag = (tag: string): void => this.setState(\n    { tag, tagPickerOpened: false }, this.focusTaskName,\n  );\n\n  /**\n   * Edit the date.\n   *\n   * @param {Date} date the new date, or null for cancel.\n   */\n  private editDate = (date: Date | RepeatingDate | null): void => {\n    const { datePicked } = this.state;\n    if (datePicked && date === null) {\n      // User cancelled, but date was already picked\n      this.setState(\n        { datePickerOpened: false },\n        this.focusTaskName,\n      );\n    } else if (date instanceof Date || date === null) {\n      // Selecting a date, or user cancelled while date was not picked\n      this.setState(\n        {\n          date: date ?? new Date(),\n          datePickerOpened: false,\n          datePicked: Boolean(date),\n        },\n        this.focusTaskName,\n      );\n    } else {\n      // Repeating task\n      this.setState(\n        {\n          date,\n          datePickerOpened: false,\n          datePicked: true,\n        },\n        this.focusTaskName,\n      );\n    }\n  };\n\n  /**\n   * Reset the date picker\n   */\n  private clearDate = (): void => {\n    this.setState(\n      { date: new Date(), datePickerOpened: false, datePicked: false },\n      this.focusTaskName,\n    );\n  }\n\n  /**\n   * Toggle the pin status.\n   * @param {boolean} inFocus the new in-focus status.\n   */\n  private togglePin = (inFocus: boolean): void => this.setState({ inFocus }, this.focusTaskName);\n\n  /**\n   * Add a new subtask.\n   *\n   * @param e the event that contains the new name for new sub-task.\n   */\n  private addNewSubTask = (e: SyntheticEvent<HTMLInputElement>): void => {\n    const newSubTaskName = e.currentTarget.value;\n    if (newSubTaskName === '') {\n      return;\n    }\n    this.setState(({ subTasks }: State) => ({\n      subTasks: [...subTasks, {\n        id: String(subTasks.length),\n        order: 0, // some random order, will be ignored anyway\n        name: newSubTaskName,\n        complete: false,\n        inFocus: false,\n      }],\n      needToSwitchFocus: true,\n    }));\n  };\n\n  /**\n   * Handle a keypress event in a new subtask box.\n   * It can potentially make the form to lose focus to exit.\n   *\n   * @param e the event that contains the key pressed in the new subtask input box.\n   */\n  private newSubTaskKeyPress = (e: KeyboardEvent<HTMLInputElement>): void => {\n    if (e.key === 'Tab') {\n      this.closeNewTask();\n    }\n  }\n\n  /**\n   * Edit a subtask.\n   *\n   * @param subTaskId id of the subtask to edit.\n   * @return the event handler.\n   */\n  private editSubTask = (subTaskId: string) => (e: SyntheticEvent<HTMLInputElement>) => {\n    const name = e.currentTarget.value;\n    this.setState(({ subTasks }: State) => ({\n      subTasks: subTasks.map((s) => (s.id === subTaskId ? { ...s, name } : s)),\n    }));\n  };\n\n  /**\n   * Potentially submit a subtask.\n   *\n   * @param e the keyboard event.\n   */\n  private submitSubTask = (e: KeyboardEvent<HTMLInputElement>): void => {\n    if (e.key === 'Enter') {\n      this.handleSave();\n    }\n  };\n\n  /**\n   * Delete a subtask.\n   *\n   * @param {string} subtaskId id of the subtask to delete.\n   * @return {Function<SyntheticEvent<HTMLInputElement>, void>} the event handler.\n   */\n  private deleteSubTask = (subtaskId: string) => (e: SyntheticEvent<HTMLButtonElement>) => {\n    e.preventDefault();\n    this.setState(({ subTasks }: State) => ({\n      subTasks: subTasks.filter((s) => s.id !== subtaskId),\n    }));\n  };\n\n  /**\n   * Reset the task.\n   */\n  private resetTask = (): void => this.setState({ ...initialState() }, this.focusTaskName);\n\n  /**\n   * Renders the editor for all the other info except main task name.\n   *\n   * @return the rendered other info editor.\n   */\n  private renderOtherInfoEditor(): ReactElement | null {\n    const { opened } = this.state;\n    if (!opened) {\n      return null;\n    }\n    const {\n      tag, date, inFocus, subTasks,\n      tagPickerOpened, datePickerOpened, datePicked, needToSwitchFocus,\n    } = this.state;\n    const { theme } = this.props;\n    const existingSubTaskEditor = (\n      { id, name }: SubTask, i: number, arr: SubTask[],\n    ): ReactElement => {\n      const refHandler = (inputElementRef: HTMLInputElement | null): void => {\n        if (i === arr.length - 1 && needToSwitchFocus && inputElementRef != null) {\n          inputElementRef.focus();\n          this.setState({ needToSwitchFocus: false });\n        }\n      };\n      return (\n        <li key={id}>\n          <button type=\"button\" tabIndex={-1} onClick={this.deleteSubTask(id)}>\n            <SamwiseIcon iconName=\"x-dark\" />\n          </button>\n          <input\n            type=\"text\"\n            ref={refHandler}\n            value={name}\n            onChange={this.editSubTask(id)}\n            onKeyDown={this.submitSubTask}\n            style={theme === 'dark' ? this.darkModeStyle : undefined}\n          />\n        </li>\n      );\n    };\n    return (\n      <>\n        <div className={styles.TitleText}>Add Task</div>\n        <div className={styles.NewTaskActive}>\n          {date instanceof Date && <FocusPicker pinned={inFocus} onPinChange={this.togglePin} />}\n          <div className={styles.TagPickWrap}>\n            <TagPicker\n              tag={tag}\n              opened={tagPickerOpened}\n              onTagChange={this.editTag}\n              onPickerOpened={this.openTagPicker}\n            />\n          </div>\n          <DatePicker\n            date={date}\n            opened={datePickerOpened}\n            datePicked={datePicked}\n            inGroupView={false}\n            onDateChange={this.editDate}\n            onClearPicker={this.clearDate}\n            onPickerOpened={this.openDatePicker}\n          />\n          <button tabIndex={-1} type=\"submit\" className={styles.SubmitNewTask} style={theme === 'dark' ? this.darkModeStyle : undefined}>\n            <SamwiseIcon iconName=\"add-task\" tabIndex={-1} />\n          </button>\n          <div className={styles.SubtitleText}>\n            <p>\n              <b>Add Subtasks</b>\n               &nbsp;(optional)\n            </p>\n          </div>\n          <div className={styles.DescText}>\n            <p>\n              Add optional subtasks to break down your tasks into more manageable pieces.\n            </p>\n          </div>\n          <div className={styles.NewTaskModal} style={theme === 'dark' ? this.darkModeStyle : undefined}>\n            <div className={styles.SubtasksContainer}>\n              <ul className={styles.SubtasksList}>{subTasks.map(existingSubTaskEditor)}</ul>\n              <SamwiseIcon iconName=\"edit\" className={styles.EditIcon} tabIndex={-1} />\n              <input\n                className={styles.SubtaskInput}\n                type=\"text\"\n                placeholder=\"Add a Subtask\"\n                value=\"\"\n                onChange={this.addNewSubTask}\n                onKeyDown={this.newSubTaskKeyPress}\n                style={theme === 'dark' ? this.darkModeStyle : undefined}\n              />\n            </div>\n            <button type=\"button\" className={styles.ResetButton} onClick={this.resetTask}>\n              DISCARD TASK\n            </button>\n          </div>\n        </div>\n      </>\n    );\n  }\n\n  public render(): ReactElement {\n    const { name, opened } = this.state;\n    const toggleDisplayStyle = opened ? {} : { display: 'none' };\n    const { theme } = this.props;\n    return (\n      <div className={styles.TaskCreator} style={theme === 'dark' ? this.darkModeStyle : undefined}>\n        <div\n          onClick={this.closeNewTask}\n          role=\"presentation\"\n          className={styles.CloseNewTask}\n          style={toggleDisplayStyle}\n        />\n        <form\n          className={styles.NewTaskWrap}\n          onSubmit={this.handleSave}\n          onFocus={this.openNewTask}\n        >\n          <input\n            required\n            type=\"text\"\n            value={name}\n            onChange={this.editTaskName}\n            className={styles.NewTaskComponent}\n            placeholder={opened ? '' : PLACEHOLDER_TEXT}\n            ref={(e) => { this.addTask = e; }}\n            style={theme === 'dark' ? this.darkModeStyle : undefined}\n          />\n          {this.renderOtherInfoEditor()}\n        </form>\n      </div>\n    );\n  }\n}\n\n\nconst Connected = connect(\n  ({ settings: { theme } }: StoreState): Props => ({ theme }),\n)(TaskCreator);\nexport default Connected;\n","import { useState, useEffect, useMemo, ReactNode } from 'react';\n\nexport type WindowSize = { readonly width: number; readonly height: number };\ntype Listener = (windowSize: WindowSize) => void;\n\nconst getWindowSize = (): WindowSize => ({ width: window.innerWidth, height: window.innerHeight });\n\nlet cachedWindowSize: WindowSize = { width: 0, height: 0 };\nlet hasUnreportedChange = false;\nconst listeners = new Map<number, Listener>();\nlet listenerSize = 0;\n\nconst windowSizeListener = (): void => {\n  const newSize = getWindowSize();\n  if (newSize.width === cachedWindowSize.width && newSize.height === cachedWindowSize.height) {\n    return;\n  }\n  cachedWindowSize = newSize;\n  hasUnreportedChange = true;\n};\n\nconst notifyAll = (): void => {\n  if (hasUnreportedChange) {\n    listeners.forEach((l) => l(cachedWindowSize));\n    hasUnreportedChange = false;\n  }\n};\n\nconst bindListener = (listener: Listener): (() => void) => {\n  const id = listenerSize;\n  listeners.set(id, listener);\n  listenerSize += 1;\n  return () => {\n    listeners.delete(id);\n  };\n};\n\nif (cachedWindowSize.width === 0) {\n  window.addEventListener('resize', windowSizeListener);\n  setInterval(notifyAll, 100);\n}\n\n/**\n * A hook for window size.\n */\nexport function useWindowSize(): WindowSize {\n  const [size, setSize] = useState(getWindowSize);\n  useEffect(() => bindListener(setSize), []);\n  return size;\n}\n\n/**\n * A hook for window size.\n */\nexport function useWindowSizeCallback(onChange: (windowSize: WindowSize) => void): WindowSize {\n  const [size, setSize] = useState(getWindowSize);\n  useEffect(() => bindListener(setSize), []);\n  useEffect(() => onChange(size));\n  return size;\n}\n\n/**\n * A hook for computed value based on window size and memoized rendering.\n * You can use this hook to implement efficient breakpoint logic.\n *\n * @param f a function that computes the value given a window size.\n * @return the computed value.\n */\nexport function useMappedWindowSize<T>(f: (windowSize: WindowSize) => T): T {\n  const [mappedValue, setMappedValue] = useState(() => f(getWindowSize()));\n  useEffect(\n    () => bindListener((windowSize: WindowSize): void => {\n      const newMappedValue = f(windowSize);\n      if (newMappedValue !== mappedValue) {\n        setMappedValue(newMappedValue);\n      }\n    }),\n    [f, mappedValue],\n  );\n  return mappedValue;\n}\n\n/**\n * A hook for computed value based on window size and memoized rendering.\n * You can use this hook to implement efficient breakpoint logic.\n *\n * @param f a function that computes the value given a window size.\n * @param render a function that renders a component given the computed value.\n * @return the memoized rendered value.\n */\nexport function useMemoizedMappedWindowSize<T>(\n  f: (windowSize: WindowSize) => T,\n  render: (t: T) => ReactNode,\n): ReactNode {\n  const value = f(useWindowSize());\n  return useMemo(() => render(value), [render, value]);\n}\n","import { Map } from 'immutable';\n/**\n * Test whether the given list is sorted by increasing order.\n *\n * @param list the list to test whether things are sorted.\n */\nfunction testSorted(list) {\n    for (let i = 0; i < list.length - 1; i += 1) {\n        const item = list[i];\n        const next = list[i + 1];\n        if (item.order > next.order) {\n            throw new Error('Not sorted!');\n        }\n    }\n}\nfunction testOrderUnique(list) {\n    const orders = new Set();\n    for (let i = 0; i < list.length - 1; i += 1) {\n        const { order } = list[i];\n        if (orders.has(order)) {\n            throw new Error('Orders not unique!');\n        }\n        orders.add(order);\n    }\n}\n/**\n * @param list the list to sort.\n * @returns the sorted list in increasing order.\n */\nexport function sortByOrder(list) {\n    return [...list].sort((a, b) => a.order - b.order);\n}\n/**\n * Compute the reorder map after swapping items with order sourceOrder and destinationOrder.\n *\n * Contract:\n * - The original list will not be mutated.\n * - The sorted list obtained by applying the reordering map will satisfy the properties\n *   described in the reorder function below.\n *\n * @param originalList the original list as a reference.\n * @param sourceOrder where is the dragged item from.\n * @param destinationOrder where the dragged item goes.\n * @return the reordering map that maps id to new order.\n */\nexport function computeReorderMap(originalList, sourceOrder, destinationOrder) {\n    if (sourceOrder === destinationOrder) {\n        return Map.of();\n    }\n    testSorted(originalList);\n    testOrderUnique(originalList);\n    let reorderMap = Map(); // key: id, value: new order\n    const orders = originalList.map((t) => t.order);\n    if (sourceOrder < destinationOrder) {\n        // wants to go to later places\n        originalList.forEach((element, i) => {\n            if (element.order === sourceOrder) {\n                reorderMap = reorderMap.set(element.id, destinationOrder);\n            }\n            else if (element.order > sourceOrder && element.order <= destinationOrder) {\n                reorderMap = reorderMap.set(element.id, orders[i - 1]);\n            }\n        });\n    }\n    else {\n        // wants to go to earlier places\n        originalList.forEach((element, i) => {\n            if (element.order === sourceOrder) {\n                reorderMap = reorderMap.set(element.id, destinationOrder);\n            }\n            else if (element.order >= destinationOrder && element.order < sourceOrder) {\n                reorderMap = reorderMap.set(element.id, orders[i + 1]);\n            }\n        });\n    }\n    return reorderMap;\n}\n/**\n * Apply the reorder map to an order list to obtained the sorted list.\n * The contract of the sorted list is described in the reorder function below.\n *\n * @param originalList the original list as a reference.\n * @param reorderMap the reorder map to apply.\n * @returns a new list with updated orders and the reordering map that maps id to new order.\n */\nexport function getReorderedList(originalList, reorderMap) {\n    const sortedList = [...originalList];\n    for (let i = 0; i < sortedList.length; i += 1) {\n        const element = sortedList[i];\n        const newOrder = reorderMap.get(element.id);\n        if (newOrder != null) {\n            sortedList[i] = Object.assign(Object.assign({}, element), { order: newOrder });\n        }\n    }\n    return sortedList.sort((a, b) => a.order - b.order);\n}\n/**\n * Reorder a list of items by swapping items with order sourceOrder and destinationOrder.\n *\n * Contract:\n * - The original list will not be mutated.\n * - The returned sorted list will satisfy these properties:\n *   - It is sorted in increaing order.\n *   - Only the order field is changed.\n *   - The order field of the original list items is maintained, except that\n *     - the order field of the swapped items are reversed.\n *     - the relative order of one of the items and all items in between the swapped items are\n *       reversed.\n * - The returned reorder map compactly describes all the order changes in an immutable map.\n *\n * @param originalList the original list as a reference.\n * @param sourceOrder where is the dragged item from.\n * @param destinationOrder where the dragged item goes.\n * @return a new list with updated orders and the reordering map that maps id to new order.\n */\nexport function reorder(originalList, sourceOrder, destinationOrder) {\n    const reorderMap = computeReorderMap(originalList, sourceOrder, destinationOrder);\n    return getReorderedList(originalList, reorderMap);\n}\n","import React, { ReactElement } from 'react';\nimport styles from './SquareButtons.module.scss';\n\ntype Props = { readonly text: string; readonly onClick: () => void };\n\nconst className = [styles.SquareButton, styles.SquareButtonTextButton].join(' ');\n\n/**\n * The component used to render a text button.\n * @constructor\n */\nexport default function SquareTextButton({ text, onClick }: Props): ReactElement {\n  return (\n    <button className={className} title={text} type=\"button\" onClick={onClick}>\n      <span className={styles.SquareButtonText}>{text}</span>\n    </button>\n  );\n}\n","import React, { ReactElement } from 'react';\nimport { Map } from 'immutable';\nimport { connect } from 'react-redux';\nimport { Task, State } from 'common/lib/types/store-types';\nimport SquareTextButton from '../../UI/SquareTextButton';\nimport { clearFocus } from '../../../firebase/actions';\n\ntype Props = {\n  readonly tasks: Map<string, Task>;\n};\n\nfunction ClearFocus({ tasks }: Props): ReactElement | null {\n  const taskIds: string[] = [];\n  const subTaskIds: string[] = [];\n  tasks.forEach((t) => {\n    if (t.inFocus && t.complete) {\n      taskIds.push(t.id);\n    } else {\n      t.children.forEach((s) => {\n        if (s.inFocus && s.complete) {\n          subTaskIds.push(s.id);\n        }\n      });\n    }\n  });\n  if (taskIds.length === 0) {\n    return null;\n  }\n  const handleClick = (): void => clearFocus(taskIds, subTaskIds);\n  return <SquareTextButton text=\"Clear Focus\" onClick={handleClick} />;\n}\n\nconst Connected = connect(({ tasks }: State) => ({ tasks }))(ClearFocus);\nexport default Connected;\n","import React, { ReactElement } from 'react';\nimport styles from './CompletedSeparator.module.scss';\nimport SamwiseIcon from '../../UI/SamwiseIcon';\n\ntype Props = {\n  readonly count: number;\n  readonly doesShowCompletedTasks: boolean;\n  readonly onDoesShowCompletedTasksChange: () => void;\n};\n\nconst getIconClassName = (notInverted: boolean): string => (\n  notInverted ? styles.Icon : `${styles.Icon} ${styles.Inverted}`\n);\n\nexport default (\n  { count, doesShowCompletedTasks, onDoesShowCompletedTasksChange }: Props,\n): ReactElement => (\n  <div className={styles.Separator}>\n    <span className={styles.Text}>{`Completed: (${count})`}</span>\n    <SamwiseIcon\n      iconName=\"dropdown\"\n      className={getIconClassName(doesShowCompletedTasks)}\n      onClick={onDoesShowCompletedTasksChange}\n    />\n    <div className={styles.Line} />\n  </div>\n);\n","import { promptChoice, promptConfirm } from 'components/Util/Modals';\nimport { Task, OneTimeTaskMetadata, RepeatingTaskMetadata } from 'common/lib/types/store-types';\nimport { removeTask, removeOneRepeatedTask } from 'firebase/actions';\nimport { store } from 'store/store';\n\n/**\n * This is the utility module for array of tasks and subtasks.\n * This module implements many common functional operations on an array of tasks or subtasks.\n * Other modules should try to call functions in this module instead of implementing their own.\n */\n\nconst repeatedTaskEditChoices = {\n  CANCEL_CHANGES: 'Cancel',\n  CHANGE_MASTER_TEMPLATE: 'Edit All Occurences',\n  FORK: 'Edit This Instance',\n};\n\nconst repeatedTaskEditMasterConfirm = {\n  CANCEL_CHANGES: 'Cancel',\n  CHANGE_MASTER_TEMPLATE: 'Edit All Occurences',\n};\n\nexport function promptRepeatedTaskEditChoice(): Promise<keyof typeof repeatedTaskEditChoices> {\n  return promptChoice(\n    'Do you want to edit all occurences of this task or this instance?',\n    repeatedTaskEditChoices,\n  );\n}\n\nexport function confirmRepeatedTaskEditMaster(): Promise<\nkeyof typeof repeatedTaskEditMasterConfirm\n> {\n  return promptChoice(\n    'Do you want to edit all occurences of this task?',\n    repeatedTaskEditMasterConfirm,\n  );\n}\n\nfunction removeOneTimeTask(task: Task<OneTimeTaskMetadata>): void {\n  const { tasks, repeatedTaskSet } = store.getState();\n  const isFork = Array.from(repeatedTaskSet).some((repeatedTaskId): boolean => {\n    const repeatedTask = tasks.get(repeatedTaskId) as Task<RepeatingTaskMetadata> | null;\n    if (repeatedTask == null) {\n      return false;\n    }\n    const { forks } = repeatedTask.metadata;\n    for (let i = 0; i < forks.length; i += 1) {\n      const fork = forks[i];\n      if (fork.forkId === task.id) {\n        return true;\n      }\n    }\n    return false;\n  });\n  let prompt = '';\n  if (!isFork) {\n    prompt = 'Do you really want to remove this task? The removed task cannot be recovered.';\n  } else {\n    prompt = 'Do you really want to remove this forked task? The removed task cannot be recovered.';\n  }\n  promptConfirm(prompt).then((confirmed) => {\n    if (confirmed) {\n      removeTask(task);\n    }\n  });\n}\n\nconst removeTaskFullChoices = {\n  CANCEL_REMOVE: 'Cancel',\n  REMOVE_ALL: 'Remove All',\n  REMOVE_ONE: 'Remove This Instance',\n};\n\nconst removeTaskPartialChoices = {\n  CANCEL_REMOVE: 'Cancel',\n  REMOVE_ALL: 'Remove All',\n};\n\nfunction removeRepeatingTask(task: Task<RepeatingTaskMetadata>, replaceDate: Date | null): void {\n  const prompt = 'How do you want to remove this repeated task?';\n  if (replaceDate === null) {\n    promptChoice(prompt, removeTaskPartialChoices).then((c) => {\n      switch (c) {\n        case 'CANCEL_REMOVE':\n          return;\n        case 'REMOVE_ALL':\n          removeTask(task);\n          return;\n        default:\n          throw new Error();\n      }\n    });\n  } else {\n    promptChoice(prompt, removeTaskFullChoices).then((c) => {\n      switch (c) {\n        case 'CANCEL_REMOVE':\n          return;\n        case 'REMOVE_ALL':\n          removeTask(task);\n          return;\n        case 'REMOVE_ONE':\n          removeOneRepeatedTask(task.id, replaceDate);\n          return;\n        default:\n          throw new Error();\n      }\n    });\n  }\n}\n\nexport function removeTaskWithPotentialPrompt(task: Task, replaceDate: Date | null): void {\n  // The task is pattern matched on metadata only, so the following type casts are safe.\n  if (task.metadata.type === 'ONE_TIME') {\n    removeOneTimeTask(task as Task<OneTimeTaskMetadata>);\n  } else {\n    removeRepeatingTask(task as Task<RepeatingTaskMetadata>, replaceDate);\n  }\n}\n","import React, { ReactElement } from 'react';\nimport styles from './OverdueAlert.module.css';\n\ntype Props = { readonly target: 'task-card' | 'future-view-task' };\n\n/**\n * The overdue alert that will be displayed on the top-right corner of a div.\n */\nexport default function OverdueAlert({ target }: Props): ReactElement {\n  const className = target === 'task-card'\n    ? styles.OverdueAlertInTaskCard\n    : styles.OverdueAlertInFutureView;\n  return <div className={className}>!</div>;\n}\n\nOverdueAlert.defaultProps = { absolutePosition: null };\n","import React, { ReactElement } from 'react';\nimport { connect } from 'react-redux';\nimport { State, Tag, RepeatingPattern, Task, RepeatingTaskMetadata } from 'common/lib/types/store-types';\nimport { DAYS_IN_WEEK, isBitSet } from 'common/lib/util/bitwise-util';\nimport SamwiseIcon from '../../../UI/SamwiseIcon';\nimport styles from './RepeatFrequencyHeader.module.css';\n\ntype OwnProps = {\n  readonly taskId: string;\n  readonly tag: string;\n  readonly getTag: (id: string) => Tag;\n};\n\ntype Props = OwnProps & { readonly pattern: RepeatingPattern | null };\n\ntype BinaryCount = { binary: number; count: number };\n\nconst arrOfWeeks = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];\n\nconst patternTypeToString = (patternType: string): string => {\n  switch (patternType) {\n    case 'WEEKLY': return 'week';\n    case 'BIWEEKLY': return 'two weeks';\n    case 'MONTHLY': return 'month';\n    default:\n      throw new Error();\n  }\n};\n\nconst bitsetToBinaryCount = (bit: number): BinaryCount => {\n  let binary = 0;\n  let count = 0;\n  for (let i = 0; i < DAYS_IN_WEEK; i += 1) {\n    if (isBitSet(bit, i, DAYS_IN_WEEK)) {\n      binary += (1 * 10 ** (DAYS_IN_WEEK - 1 - i));\n      count += 1;\n    }\n  }\n  return { binary, count };\n};\n\nconst getRepeatedDays = ({ type, bitSet }: RepeatingPattern): string => {\n  const frequency = bitsetToBinaryCount(bitSet);\n  const { binary, count } = frequency;\n  if (count > 2 || type !== 'WEEKLY') {\n    return `Repeats ${count} days every ${patternTypeToString(type)}`;\n  }\n\n  const repeatedDays = Array<string>();\n  let binaryFrequency = binary;\n  let index = DAYS_IN_WEEK - 1;\n  while (binaryFrequency > 0) {\n    if (binaryFrequency % 10 === 1) {\n      repeatedDays.push(arrOfWeeks[index]);\n    }\n    binaryFrequency = Math.round(binaryFrequency / 10);\n    index -= 1;\n  }\n  return `Repeats every ${repeatedDays.reverse().join(', ')}`;\n};\n\nfunction RepeatFrequencyHeader(\n  { pattern, tag, getTag }: Props,\n): ReactElement | null {\n  if (pattern == null) {\n    return null;\n  }\n\n  return (\n    <div className={styles.Header} style={{ color: getTag(tag).color }}>\n      <SamwiseIcon iconName=\"repeat-frequency\" className={styles.Icon} />\n      {getRepeatedDays(pattern)}\n    </div>\n  );\n}\n\nconst getRepeatingPattern = (\n  { tasks, repeatedTaskSet }: State,\n  taskId: string,\n): RepeatingPattern | null => {\n  const repeatedTaskIds = repeatedTaskSet.toArray();\n  for (let i = 0; i < repeatedTaskIds.length; i += 1) {\n    const repeatedTaskId = repeatedTaskIds[i];\n    const repeatingTask = tasks.get(repeatedTaskId) as Task<RepeatingTaskMetadata> | undefined;\n    if (repeatingTask != null) {\n      const { metadata: { date: { pattern }, forks } } = repeatingTask;\n      if (taskId === repeatedTaskId) {\n        return pattern;\n      }\n      for (let j = 0; j < forks.length; j += 1) {\n        const { forkId } = forks[j];\n        if (forkId === taskId) {\n          return pattern;\n        }\n      }\n    }\n  }\n  return null;\n};\n\nconst Connected = connect(\n  (state: State, { taskId }: OwnProps) => ({ pattern: getRepeatingPattern(state, taskId) }),\n)(RepeatFrequencyHeader);\nexport default Connected;\n","import React, { ReactElement } from 'react';\nimport Calendar from 'react-calendar';\nimport { Tag, RepeatingDate } from 'common/lib/types/store-types';\nimport styles from './index.module.css';\nimport TagListPicker from '../../TagListPicker/TagListPicker';\nimport { CalendarPosition } from '../editors-types';\nimport SamwiseIcon from '../../../UI/SamwiseIcon';\n\ntype TagAndDate = {\n  readonly tag: string;\n  readonly date: Date | RepeatingDate;\n};\n\ntype Props = TagAndDate & {\n  readonly onChange: (change: Partial<TagAndDate>) => void;\n  readonly getTag: (id: string) => Tag;\n  readonly displayGrabber: boolean;\n  readonly calendarPosition: CalendarPosition;\n  readonly icalUID?: string;\n};\n\ntype EditorDisplayStatus = {\n  readonly doesShowTagEditor: boolean;\n  readonly doesShowDateEditor: boolean;\n};\n\nconst calendarIconClass = [styles.TaskEditorIconButton, styles.TaskEditorIcon].join(' ');\n\nexport default function EditorHeader(\n  { tag, date, onChange, getTag, displayGrabber, calendarPosition, icalUID }: Props,\n): ReactElement {\n  const [editorDisplayStatus, setEditorDisplayStatus] = React.useState<EditorDisplayStatus>({\n    doesShowTagEditor: false,\n    doesShowDateEditor: false,\n  });\n\n  const toggleTagEditor = (): void => setEditorDisplayStatus((prev) => ({\n    doesShowTagEditor: !prev.doesShowTagEditor, doesShowDateEditor: false,\n  }));\n  const toggleDateEditor = (): void => setEditorDisplayStatus((prev) => ({\n    doesShowTagEditor: false, doesShowDateEditor: !prev.doesShowDateEditor,\n  }));\n  const editTaskTag = (t: string): void => {\n    onChange({ tag: t });\n    setEditorDisplayStatus((prev) => ({ ...prev, doesShowTagEditor: false }));\n  };\n  const editTaskDate = (d: Date | Date[]): void => {\n    if (Array.isArray(d)) {\n      throw new Error('date is not an arry');\n    }\n    onChange({ date: d });\n    setEditorDisplayStatus((prev) => ({ ...prev, doesShowDateEditor: false }));\n  };\n\n  const { doesShowTagEditor, doesShowDateEditor } = editorDisplayStatus;\n  const headerClassName = `${styles.TaskEditorFlexibleContainer} ${styles.TaskEditorHeader}`;\n  const tagDisplay = (\n    <button type=\"button\" className={styles.TaskEditorTag} onClick={toggleTagEditor}>\n      {getTag(tag).name}\n    </button>\n  );\n  const tagEditor = doesShowTagEditor && (\n    <div className={styles.TaskEditorTagEditor}>\n      <TagListPicker onTagChange={editTaskTag} />\n    </div>\n  );\n  const dateDisplay = date instanceof Date\n    ? <span>{`${date.getMonth() + 1}/${date.getDate()}`}</span>\n    : <span>Repeated</span>;\n  const dateEditor = doesShowDateEditor && date instanceof Date && (\n    <Calendar\n      value={date}\n      className={\n        calendarPosition === 'top'\n          ? styles.TaskEditorCalendarTop\n          : styles.TaskEditorCalendarBottom\n      }\n      minDate={new Date()}\n      onChange={editTaskDate}\n      calendarType=\"US\"\n    />\n  );\n  const isCanvasTask = typeof icalUID === 'string' ? icalUID !== '' : false;\n\n  return (\n    <div className={headerClassName}>\n      {displayGrabber && (\n        <SamwiseIcon iconName=\"grabber\" className={styles.TaskEditorGrabberIcon} />\n      )}\n      {tagDisplay}\n      {tagEditor}\n      <span className={styles.TaskEditorFlexiblePadding} />\n      {isCanvasTask ? null\n        : (\n          <SamwiseIcon\n            iconName=\"calendar-light\"\n            className={calendarIconClass}\n            style={{ marginRight: '8px' }}\n            onClick={toggleDateEditor}\n          />\n        )}\n      {dateDisplay}\n      {dateEditor}\n    </div>\n  );\n}\n","/* eslint-disable jsx-a11y/label-has-associated-control,jsx-a11y/label-has-for */\n\nimport React, { ReactElement } from 'react';\nimport styles from './CheckBox.module.css';\n\ntype Props = {\n  readonly checked: boolean; // whether the box is initially checked\n  readonly onChange: (checked: boolean) => void; // called when the value changed.\n  readonly disabled: boolean; // whether the checkbox is disabled.\n  readonly inverted: boolean; // whether the color is inverted.\n  readonly className: string | null; // additional className to apply\n};\n\n/**\n * This is the checkbox that implements designers' minimalist design.\n */\nexport default function CheckBox({\n  checked,\n  onChange,\n  disabled,\n  inverted,\n  className,\n}: Props): ReactElement {\n  let allClassNames = className === null ? styles.CheckBox : `${className} ${styles.CheckBox}`;\n  if (inverted) {\n    allClassNames = `${allClassNames} ${styles.InvertedCheckBox}`;\n  }\n  const handleClick = (): void => {\n    if (!disabled) {\n      onChange(!checked);\n    }\n  };\n  return (\n    <label className={allClassNames}>\n      <input\n        tabIndex={0}\n        defaultChecked={checked}\n        onClick={handleClick}\n        disabled={disabled}\n        type=\"checkbox\"\n      />\n      {checked && <span className={styles.CheckBoxCheckMark} />}\n    </label>\n  );\n}\n\nCheckBox.defaultProps = { disabled: false, inverted: false, className: null };\n","import React, { KeyboardEvent, ReactElement, SyntheticEvent } from 'react';\nimport { getDateWithDateString } from 'common/lib/util/datetime-util';\nimport styles from './index.module.css';\nimport CheckBox from '../../../UI/CheckBox';\nimport SamwiseIcon from '../../../UI/SamwiseIcon';\nimport { editMainTask } from '../../../../firebase/actions';\n\ntype NameCompleteInFocus = {\n  readonly name: string;\n  readonly complete: boolean;\n  readonly inFocus: boolean;\n};\ntype Props = NameCompleteInFocus & {\n  readonly id: string;\n  readonly icalUID?: string;\n  readonly taskDate: Date | null;\n  readonly dateAppeared: string;\n  readonly onChange: (change: Partial<NameCompleteInFocus>) => void;\n  readonly onRemove: () => void;\n  readonly onPressEnter: (id: 'main-task' | number) => void;\n};\n\nconst deleteIconClass = [styles.TaskEditorIcon, styles.TaskEditorIconLeftPad].join(' ');\n\nfunction MainTaskEditor(\n  {\n    id, icalUID, taskDate, dateAppeared, name, complete, inFocus, onChange, onRemove, onPressEnter,\n  }: Props,\n): ReactElement {\n  const replaceDateForFork = taskDate == null\n    ? getDateWithDateString(taskDate, dateAppeared)\n    : null;\n  const editComplete = (): void => editMainTask(id, replaceDateForFork, { complete: !complete });\n  const editInFocus = (): void => editMainTask(id, replaceDateForFork, { inFocus: !inFocus });\n\n  const onKeyDown = (event: KeyboardEvent<HTMLInputElement>): void => {\n    if (event.key !== 'Enter') {\n      return;\n    }\n    onPressEnter('main-task');\n  };\n\n  const onInputChange = (event: SyntheticEvent<HTMLInputElement>): void => {\n    event.stopPropagation();\n    const newValue = event.currentTarget.value;\n    onChange({ name: newValue });\n  };\n\n  const isCanvasTask = typeof icalUID === 'string' ? icalUID !== '' : false;\n\n  return (\n    <div className={styles.TaskEditorFlexibleContainer}>\n      <CheckBox\n        className={styles.TaskEditorCheckBox}\n        checked={complete}\n        onChange={editComplete}\n      />\n      <input\n        type=\"text\"\n        disabled={isCanvasTask}\n        data-lpignore=\"true\"\n        className={complete\n          ? styles.TaskEditorStrikethrough : styles.TaskEditorFlexibleInput}\n        placeholder=\"Main Task\"\n        value={name}\n        onKeyDown={onKeyDown}\n        onChange={onInputChange}\n      />\n      <SamwiseIcon\n        iconName={inFocus ? 'pin-light-filled' : 'pin-light-outline'}\n        className={styles.TaskEditorIcon}\n        onClick={editInFocus}\n      />\n      {isCanvasTask ? null\n        : <SamwiseIcon iconName=\"x-light\" className={deleteIconClass} onClick={onRemove} />}\n    </div>\n  );\n}\n\nconst Memoized = React.memo(MainTaskEditor);\nexport default Memoized;\n","import React, { KeyboardEvent, ReactElement, SyntheticEvent, useEffect, useRef } from 'react';\nimport styles from './index.module.css';\n\ntype Props = {\n  readonly onFirstType: (change: string) => void;\n  readonly onPressEnter: () => void;\n  readonly needToBeFocused: boolean;\n  readonly type: 'MASTER_TEMPLATE' | 'ONE_TIME' | 'GROUP';\n};\n\nexport default function NewSubTaskEditor(\n  { onFirstType, onPressEnter, needToBeFocused }: Props,\n): ReactElement {\n  const onInputChange = (event: SyntheticEvent<HTMLInputElement>): void => {\n    event.stopPropagation();\n    const newSubTaskValue: string = event.currentTarget.value.trim();\n    if (newSubTaskValue.length > 0) {\n      onFirstType(newSubTaskValue);\n    }\n  };\n  const onKeyDown = (event: KeyboardEvent<HTMLInputElement>): void => {\n    if (event.key === 'Enter' || event.key === 'Tab') {\n      onPressEnter();\n    }\n  };\n\n  const editorRef = useRef<HTMLInputElement | null>(null);\n\n  useEffect(() => {\n    if (needToBeFocused) {\n      const currentElement = editorRef.current;\n      if (currentElement != null) {\n        currentElement.focus();\n      }\n    }\n  });\n\n  return (\n    <div className={styles.TaskEditorFlexibleContainer}>\n      <input\n        type=\"text\"\n        data-lpignore=\"true\"\n        ref={editorRef}\n        className={styles.TaskEditorFlexibleInput}\n        placeholder=\"Add a Subtask\"\n        value=\"\"\n        onChange={onInputChange}\n        onKeyDown={onKeyDown}\n      />\n    </div>\n  );\n}\n","import React, {\n  KeyboardEvent,\n  ReactElement,\n  SyntheticEvent,\n  useEffect,\n  useRef,\n} from 'react';\nimport { PartialSubTask, SubTask } from 'common/lib/types/store-types';\nimport { getDateWithDateString } from 'common/lib/util/datetime-util';\nimport CheckBox from '../../../UI/CheckBox';\nimport SamwiseIcon from '../../../UI/SamwiseIcon';\nimport { editSubTask } from '../../../../firebase/actions';\nimport styles from './index.module.css';\n\ntype Props = {\n  readonly subTask: SubTask; // the subtask to edit\n  readonly mainTaskComplete: boolean; // whether the main task is completed\n  readonly mainTaskId: string;\n  readonly taskDate: Date | null;\n  readonly dateAppeared: string;\n  readonly needToBeFocused: boolean; // whether it needs to be focused.\n  readonly editThisSubTask: (subtaskId: string, partialSubTask: PartialSubTask) => void;\n  readonly removeSubTask: (subtaskId: string) => void;\n  readonly onPressEnter: (id: 'main-task' | number) => void;\n};\n\nconst className = [styles.TaskEditorFlexibleContainer, styles.TaskEditorSubtaskCheckBox].join(' ');\nconst deleteIconClass = [styles.TaskEditorIcon, styles.TaskEditorIconLeftPad].join(' ');\n\nfunction OneSubTaskEditor(\n  {\n    subTask,\n    mainTaskComplete,\n    mainTaskId,\n    taskDate,\n    dateAppeared,\n    needToBeFocused,\n    editThisSubTask,\n    removeSubTask,\n    onPressEnter,\n  }: Props,\n): ReactElement {\n  const replaceDateForFork = taskDate == null\n    ? getDateWithDateString(taskDate, dateAppeared)\n    : null;\n  const onCompleteChange = (): void => {\n    const complete = !subTask.complete;\n    editThisSubTask(subTask.id, { complete });\n    editSubTask(mainTaskId, subTask.id, replaceDateForFork, { complete });\n  };\n  const onInFocusChange = (): void => {\n    const inFocus = !subTask.inFocus;\n    editThisSubTask(subTask.id, { inFocus });\n    editSubTask(mainTaskId, subTask.id, replaceDateForFork, { inFocus });\n  };\n  const onRemove = (): void => removeSubTask(subTask.id);\n\n  const onKeyDown = (event: KeyboardEvent<HTMLInputElement>): void => {\n    if (event.key !== 'Enter') {\n      return;\n    }\n    onPressEnter(subTask.order);\n  };\n\n  const onInputChange = (event: SyntheticEvent<HTMLInputElement>): void => {\n    event.stopPropagation();\n    const newValue = event.currentTarget.value;\n    editThisSubTask(subTask.id, { name: newValue });\n  };\n  const onBlur = (event: SyntheticEvent<HTMLInputElement>): void => {\n    event.stopPropagation();\n  };\n\n  const editorRef = useRef<HTMLInputElement | null>(null);\n\n  useEffect(() => {\n    if (needToBeFocused) {\n      const currentElement = editorRef.current;\n      if (currentElement != null) {\n        currentElement.focus();\n      }\n    }\n  });\n\n  return (\n    <div className={className}>\n      <CheckBox\n        className={styles.TaskEditorCheckBox}\n        checked={mainTaskComplete || subTask.complete}\n        disabled={mainTaskComplete}\n        onChange={onCompleteChange}\n      />\n      <input\n        type=\"text\"\n        data-lpignore=\"true\"\n        className={subTask.complete || mainTaskComplete\n          ? styles.TaskEditorStrikethrough : styles.TaskEditorFlexibleInput}\n        placeholder=\"Your Subtask\"\n        value={subTask.name}\n        ref={editorRef}\n        onKeyDown={onKeyDown}\n        onChange={onInputChange}\n        onBlur={onBlur}\n        onMouseLeave={onBlur}\n        style={{ width: 'calc(100% - 70px)' }}\n      />\n      <SamwiseIcon\n        iconName={subTask.inFocus ? 'pin-light-filled' : 'pin-light-outline'}\n        className={styles.TaskEditorIcon}\n        onClick={onInFocusChange}\n      />\n      <SamwiseIcon iconName=\"x-light\" onClick={onRemove} className={deleteIconClass} />\n    </div>\n  );\n}\n\nconst Memoized = React.memo(\n  OneSubTaskEditor,\n  (prev, curr) => prev.subTask === curr.subTask\n    && prev.needToBeFocused === curr.needToBeFocused\n    && prev.mainTaskComplete === curr.mainTaskComplete,\n);\nexport default Memoized;\n","import { Map, Set } from 'immutable';\nimport { useReducer } from 'react';\nimport { shallowEqual, shallowArrayEqual } from 'common/lib/util/general-util';\nimport {\n  MainTask,\n  PartialMainTask,\n  PartialSubTask,\n  SubTask,\n  SubTaskWithoutId,\n} from 'common/lib/types/store-types';\nimport { getNewSubTaskId } from '../../../../firebase/id-provider';\n\ntype Action =\n  | { readonly type: 'EDIT_MAIN_TASK'; readonly change: PartialMainTask }\n  | { readonly type: 'ADD_SUBTASK'; readonly newSubTask: SubTaskWithoutId }\n  | { readonly type: 'EDIT_SUBTASK'; readonly subTaskId: string; readonly change: PartialSubTask }\n  | { readonly type: 'DELETE_SUBTASK'; readonly subtaskId: string }\n  | { readonly type: 'RESET'; readonly mainTask: MainTask; readonly subTasks: readonly SubTask[] };\n\nexport type Diff = {\n  readonly mainTaskEdits: PartialMainTask;\n  readonly subTaskCreations: Map<string, SubTaskWithoutId>;\n  readonly subTaskEdits: Map<string, PartialSubTask>;\n  readonly subTaskDeletions: Set<string>;\n};\n\ntype FullTask = { readonly mainTask: MainTask; readonly subTasks: readonly SubTask[] };\n\ntype State = FullTask & { readonly prevFullTask: FullTask; readonly diff: Diff };\n\ntype TaskDiffActions = FullTask & {\n  readonly diff: Diff;\n  readonly dispatchEditMainTask: (change: PartialMainTask) => void;\n  readonly dispatchAddSubTask: (newSubTask: SubTaskWithoutId) => void;\n  readonly dispatchEditSubTask: (subTaskId: string, change: PartialSubTask) => void;\n  readonly dispatchDeleteSubTask: (subtaskId: string) => void;\n  readonly reset: () => void;\n};\n\nconst emptyDiff: Diff = {\n  mainTaskEdits: {},\n  subTaskCreations: Map(),\n  subTaskEdits: Map(),\n  subTaskDeletions: Set(),\n};\n\n/**\n * @param diff diff to check.\n * @returns whether the given diff is empty.\n */\nexport function diffIsEmpty(diff: Diff): boolean {\n  // since things are immutable, we can use referential equality!\n  return diff === emptyDiff;\n}\n\n/**\n * Lazy initializer for the initial state of task editor.\n *\n * @param mainTask the main task for initial state.\n * @param subTasks an array of subtask for initial state.\n * @returns the initial state.\n */\nfunction initializer([mainTask, subTasks]: [MainTask, readonly SubTask[]]): State {\n  return { mainTask, subTasks, prevFullTask: { mainTask, subTasks }, diff: emptyDiff };\n}\n\n/**\n * The reducer that applies the editing changes specified in action.\n *\n * @param state the previous state.\n * @param action the edit action.\n * @returns the new state after editing.\n */\nfunction reducer(state: State, action: Action): State {\n  switch (action.type) {\n    case 'EDIT_MAIN_TASK': {\n      const { mainTask, diff, ...restState } = state;\n      const { change } = action;\n      const newDiff = { ...diff, mainTaskEdits: { ...diff.mainTaskEdits, ...change } };\n      return { ...restState, mainTask: { ...mainTask, ...change }, diff: newDiff };\n    }\n    case 'ADD_SUBTASK': {\n      const { subTasks, diff, ...restState } = state;\n      const { newSubTask } = action;\n      const id = getNewSubTaskId();\n      const newSubTasks = [...subTasks, { id, ...newSubTask }];\n      const newDiff = {\n        ...diff,\n        subTaskCreations: diff.subTaskCreations.set(id, newSubTask),\n      };\n      return { ...restState, subTasks: newSubTasks, diff: newDiff };\n    }\n    case 'EDIT_SUBTASK': {\n      const { subTasks, diff, ...restState } = state;\n      const { subTaskId, change } = action;\n      const newSubTasks = subTasks.map((s) => (s.id === subTaskId ? { ...s, ...change } : s));\n      let newDiff: Diff;\n      const createdSubTask = diff.subTaskCreations.get(subTaskId);\n      if (createdSubTask != null) {\n        newDiff = {\n          ...diff,\n          subTaskCreations: diff.subTaskCreations.set(subTaskId, { ...createdSubTask, ...change }),\n        };\n      } else {\n        const subTaskEdits = diff.subTaskEdits.update(subTaskId, change, (prevChange) => ({\n          ...prevChange,\n          ...change,\n        }));\n        newDiff = { ...diff, subTaskEdits };\n      }\n      return { ...restState, subTasks: newSubTasks, diff: newDiff };\n    }\n    case 'DELETE_SUBTASK': {\n      const { subTasks, diff, ...restState } = state;\n      const { subtaskId } = action;\n      const newSubTasks = subTasks.filter(({ id }) => id !== subtaskId);\n      let newDiff: Diff;\n      if (diff.subTaskCreations.has(subtaskId)) {\n        newDiff = { ...diff, subTaskCreations: diff.subTaskCreations.remove(subtaskId) };\n      } else {\n        newDiff = { ...diff, subTaskDeletions: diff.subTaskDeletions.add(subtaskId) };\n      }\n      return { ...restState, subTasks: newSubTasks, diff: newDiff };\n    }\n    case 'RESET': {\n      const { mainTask, subTasks } = action;\n      return initializer([mainTask, subTasks]);\n    }\n    default:\n      throw new Error('Bad Type!');\n  }\n}\n\nexport default function useTaskDiffReducer(\n  initMainTask: MainTask,\n  initSubTasks: readonly SubTask[],\n  active: boolean,\n  onChange: () => void,\n): TaskDiffActions {\n  const [state, dispatch] = useReducer(reducer, [initMainTask, initSubTasks], initializer);\n  const { mainTask, subTasks, prevFullTask, diff } = state;\n  if (\n    !active\n    && (!shallowEqual(prevFullTask.mainTask, initMainTask)\n      || !shallowArrayEqual(prevFullTask.subTasks, initSubTasks))\n  ) {\n    dispatch({ type: 'RESET', mainTask: initMainTask, subTasks: initSubTasks });\n  }\n  return {\n    mainTask,\n    subTasks,\n    diff,\n    dispatchEditMainTask: (change: PartialMainTask): void => {\n      dispatch({ type: 'EDIT_MAIN_TASK', change });\n      onChange();\n    },\n    dispatchAddSubTask: (newSubTask: SubTaskWithoutId): void => {\n      dispatch({ type: 'ADD_SUBTASK', newSubTask });\n      onChange();\n    },\n    dispatchEditSubTask: (subTaskId: string, change: PartialSubTask): void => {\n      dispatch({ type: 'EDIT_SUBTASK', subTaskId, change });\n      onChange();\n    },\n    dispatchDeleteSubTask: (subtaskId: string): void => {\n      dispatch({ type: 'DELETE_SUBTASK', subtaskId });\n      onChange();\n    },\n    reset: (): void => {\n      dispatch({ type: 'RESET', mainTask: initMainTask, subTasks: initSubTasks });\n      onChange();\n    },\n  };\n}\n","// NOTE:\n// Other Components in this folder are only designed to be used by this file.\n// These components' API are NOT guaranteed to be stable.\n// You should only use this component from the outside.\n\nimport React, { ReactElement, useEffect, useState, useCallback } from 'react';\nimport { connect } from 'react-redux';\nimport { MainTask, Settings, State, SubTask, Tag } from 'common/lib/types/store-types';\nimport OverdueAlert from 'components/UI/OverdueAlert';\nimport { NONE_TAG } from 'common/lib/util/tag-util';\nimport { ignore } from 'common/lib/util/general-util';\nimport { confirmRepeatedTaskEditMaster, promptRepeatedTaskEditChoice } from 'util/task-util';\nimport { editTaskWithDiff, forkTaskWithDiff } from 'firebase/actions';\nimport { getTodayAtZeroAM, getDateWithDateString } from 'common/lib/util/datetime-util';\nimport styles from './index.module.css';\nimport RepeatFrequencyHeader from './RepeatFrequencyHeader';\nimport EditorHeader from './EditorHeader';\nimport MainTaskEditor from './MainTaskEditor';\nimport NewSubTaskEditor from './NewSubTaskEditor';\nimport OneSubTaskEditor from './OneSubTaskEditor';\nimport { CalendarPosition } from '../editors-types';\nimport useTaskDiffReducer, { diffIsEmpty, Diff } from './task-diff-reducer';\n\n\ntype DefaultProps = {\n  readonly displayGrabber?: boolean;\n  readonly className?: string;\n  readonly newSubTaskAutoFocused?: boolean; // whether to auto focus the new subtask\n  readonly active?: boolean; // whether the task is actively being edited.\n  readonly onFocus?: () => void; // when the editor gets focus\n  readonly onBlur?: () => void; // when the editor loses focus\n  readonly editorRef?: { current: HTMLFormElement | null }; // the ref of the editor\n};\ntype Actions = {\n  // whenever the user made some edits.\n  readonly onChange?: () => void;\n  // remove the entire task to be edited.\n  readonly removeTask: () => void;\n  // save all the edits.\n  readonly onSaveClicked: () => void;\n};\ntype OwnProps = DefaultProps & {\n  readonly id: string;\n  readonly type: 'MASTER_TEMPLATE' | 'ONE_TIME' | 'GROUP';\n  readonly icalUID?: string;\n  // the date string that specifies when the task appears (useful for repeated task)\n  readonly taskAppearedDate: string | null;\n  readonly mainTask: MainTask; // The task given to the editor.\n  // The subtask given to the editor. It should only contain those that should be displayed.\n  readonly subTasks: readonly SubTask[];\n  readonly actions: Actions; // The actions to perform under different events\n  readonly calendarPosition: CalendarPosition;\n};\ntype Props = OwnProps & {\n  // subscribed from redux store.\n  readonly getTag: (id: string) => Tag;\n  readonly settings: Settings;\n};\n\ntype TaskToFocus = number | 'new-subtask' | null;\n\n/**\n * The component of an standalone task editor.\n * It is designed to be wrapped inside another component to extend its functionality. The task\n * editor itself does not remember the state of editing a task, a wrapper component should.\n * You can read the docs for props above.\n */\nfunction TaskEditor(\n  {\n    id,\n    type,\n    icalUID,\n    taskAppearedDate,\n    mainTask: initMainTask,\n    subTasks: initSubTasks,\n    actions,\n    displayGrabber,\n    getTag,\n    className,\n    newSubTaskAutoFocused,\n    active,\n    onFocus,\n    onBlur,\n    editorRef,\n    calendarPosition,\n    settings,\n  }: Props,\n): ReactElement {\n  const { onChange, removeTask, onSaveClicked } = actions;\n  const {\n    mainTask,\n    subTasks,\n    diff,\n    dispatchEditMainTask,\n    dispatchAddSubTask,\n    dispatchEditSubTask,\n    dispatchDeleteSubTask,\n    reset,\n  } = useTaskDiffReducer(initMainTask, initSubTasks, active ?? false, onChange ?? ignore);\n\n  const { name, tag, date, complete, inFocus } = mainTask;\n\n  const [subTaskToFocus, setSubTaskToFocus] = useState<TaskToFocus>(null);\n\n  const { canvasCalendar } = settings;\n  const canvasLinked = canvasCalendar != null;\n\n  const onMouseLeave = (): void => {\n    if (type === 'ONE_TIME') {\n      onSave();\n    }\n    if (onBlur) {\n      onBlur();\n    }\n  };\n  const onSave = useCallback((): boolean => {\n    if (diffIsEmpty(diff)) {\n      return false;\n    }\n    if (type === 'ONE_TIME') {\n      editTaskWithDiff(id, 'EDITING_ONE_TIME_TASK', diff);\n      return true;\n    }\n    if (taskAppearedDate === null) {\n      confirmRepeatedTaskEditMaster().then((saveChoice) => {\n        switch (saveChoice) {\n          case 'CANCEL_CHANGES':\n            reset();\n            break;\n          case 'CHANGE_MASTER_TEMPLATE':\n            editTaskWithDiff(id, 'EDITING_MASTER_TEMPLATE', diff);\n            break;\n          default:\n            throw new Error();\n        }\n      });\n    } else {\n      promptRepeatedTaskEditChoice().then((saveChoice) => {\n        switch (saveChoice) {\n          case 'CANCEL_CHANGES':\n            reset();\n            break;\n          case 'CHANGE_MASTER_TEMPLATE':\n            editTaskWithDiff(id, 'EDITING_MASTER_TEMPLATE', diff);\n            break;\n          case 'FORK': {\n            const replaceDate = getDateWithDateString(\n              date instanceof Date ? date : null, taskAppearedDate,\n            );\n            const correctDate = diff.mainTaskEdits.date ?? replaceDate;\n            const diffForFork: Diff = {\n              ...diff, mainTaskEdits: { ...diff.mainTaskEdits, date: correctDate },\n            };\n            forkTaskWithDiff(id, replaceDate, diffForFork);\n            break;\n          }\n          default:\n            throw new Error();\n        }\n      });\n    }\n    return true;\n  }, [date, diff, id, reset, taskAppearedDate, type]);\n  const onSaveButtonClicked = (): void => {\n    if (onSave() && type !== 'ONE_TIME') {\n      onSaveClicked();\n    }\n  };\n\n  // called when the user types in the first char in the new subtask box. We need to shift now.\n  const handleCreatedNewSubtask = (firstTypedValue: string): void => {\n    const order = subTasks.reduce((acc, s) => Math.max(acc, s.order), 0) + 1;\n    dispatchAddSubTask({\n      order, name: firstTypedValue, complete: false, inFocus: newSubTaskAutoFocused === true,\n    });\n    setSubTaskToFocus(order);\n  };\n\n  /**\n   * The event handler that handles an press enter event.\n   * It will switch the focus as expected.\n   *\n   * @param caller the caller of the handler.\n   */\n  const pressEnterHandler = (caller: 'main-task' | number): void => {\n    const order = caller === 'main-task' ? -1 : caller;\n    let focused = false;\n    for (let i = 0; i < subTasks.length; i += 1) {\n      const { order: subtaskOrder } = subTasks[i];\n      if (subtaskOrder > order) {\n        setSubTaskToFocus(subtaskOrder);\n        focused = true;\n        break;\n      }\n    }\n    if (!focused) {\n      // need to focus the new subtask editor\n      setSubTaskToFocus('new-subtask');\n    }\n  };\n  if (taskAppearedDate === null) {\n    throw new Error('Impossible');\n  }\n  const isOverdue = date < getTodayAtZeroAM() && !complete;\n  const backgroundColor = getTag(tag).color;\n  const formStyle = isOverdue\n    ? { backgroundColor, border: '5px solid #D0021B' }\n    : { backgroundColor };\n  const actualClassName = className == null\n    ? styles.TaskEditor : `${styles.TaskEditor} ${className}`;\n\n  useEffect(() => {\n    const intervalID = setInterval(() => {\n      if (type === 'ONE_TIME') {\n        onSave();\n      }\n    }, 1000);\n    return () => clearInterval(intervalID);\n  }, [type, onSave]);\n\n  return (\n    <form\n      className={actualClassName}\n      style={formStyle}\n      onMouseEnter={onFocus}\n      onMouseLeave={onMouseLeave}\n      onFocus={onFocus}\n      onBlur={onMouseLeave}\n      ref={editorRef}\n    >\n      {isOverdue && <OverdueAlert target=\"task-card\" />}\n      <div>\n        <RepeatFrequencyHeader\n          taskId={id}\n          tag={tag}\n          getTag={getTag}\n        />\n        <EditorHeader\n          tag={tag}\n          date={date}\n          onChange={dispatchEditMainTask}\n          getTag={getTag}\n          calendarPosition={calendarPosition}\n          displayGrabber={displayGrabber == null ? false : displayGrabber}\n          icalUID={canvasLinked ? icalUID : undefined}\n        />\n        <MainTaskEditor\n          id={id}\n          icalUID={canvasLinked ? icalUID : undefined}\n          taskDate={date instanceof Date ? date : null}\n          dateAppeared={taskAppearedDate}\n          name={name}\n          complete={complete}\n          inFocus={inFocus}\n          onChange={dispatchEditMainTask}\n          onRemove={removeTask}\n          onPressEnter={pressEnterHandler}\n        />\n      </div>\n      <div className={styles.TaskEditorSubTasksIndentedContainer}>\n        {subTasks.map((subTask: SubTask) => (\n          <OneSubTaskEditor\n            key={subTask.id}\n            subTask={subTask}\n            mainTaskId={id}\n            taskDate={date instanceof Date ? date : null}\n            dateAppeared={taskAppearedDate}\n            mainTaskComplete={complete}\n            needToBeFocused={subTaskToFocus === subTask.order}\n            editThisSubTask={dispatchEditSubTask}\n            removeSubTask={dispatchDeleteSubTask}\n            onPressEnter={pressEnterHandler}\n          />\n        ))}\n        <div\n          className={styles.SubtaskHide}\n          style={active === true ? { maxHeight: 0 } : undefined}\n        >\n          <NewSubTaskEditor\n            onFirstType={handleCreatedNewSubtask}\n            onPressEnter={onSaveButtonClicked}\n            needToBeFocused={subTaskToFocus === 'new-subtask'}\n            type={type}\n          />\n        </div>\n      </div>\n      {\n        type !== 'ONE_TIME' && (\n          <div\n            className={styles.SaveButtonRow}\n            style={diffIsEmpty(diff) ? { maxHeight: 0, padding: 0 } : undefined}\n          >\n            <span className={styles.TaskEditorFlexiblePadding} />\n            <div role=\"presentation\" className={styles.SaveButton} onClick={onSaveButtonClicked}>\n              <span className={styles.SaveButtonText}>Save</span>\n            </div>\n          </div>\n        )\n      }\n    </form>\n  );\n}\n\nconst Connected = connect(\n  ({ tags, settings }: State) => ({ getTag: (id: string) => tags.get(id) ?? NONE_TAG, settings }),\n)(TaskEditor);\nexport default Connected;\n","import React, { ReactElement, useState } from 'react';\nimport { removeTaskWithPotentialPrompt } from 'util/task-util';\nimport { Task } from 'common/lib/types/store-types';\nimport TaskEditor from './TaskEditor';\nimport { CalendarPosition } from './editors-types';\n\ntype Props = {\n  readonly original: Task;\n  readonly filtered: Task;\n  readonly calendarPosition: CalendarPosition;\n  readonly className?: string; // additional class names applied to the editor.\n};\n\n/**\n * The task editor used to edit task inline, activated on focus.\n */\nexport default function InlineTaskEditor(\n  { original, filtered, className, calendarPosition }: Props,\n): ReactElement {\n  const [disabled, setDisabled] = useState(true);\n  const { id } = original;\n  const { id: _, metadata, children, ...mainTask } = filtered;\n  const icalUID = original.metadata.type === 'ONE_TIME' ? original.metadata.icalUID : '';\n  const taskAppearedDate = metadata.date instanceof Date ? metadata.date.toDateString() : null;\n  // To un-mount the editor when finished editing.\n  const onFocus = (): void => setDisabled(false);\n  const onBlur = (): void => setDisabled(true);\n  const actions = {\n    removeTask: () => removeTaskWithPotentialPrompt(original, null),\n    onSaveClicked: onBlur,\n  };\n  return (\n    <TaskEditor\n      id={id}\n      type={metadata.type}\n      icalUID={icalUID}\n      taskAppearedDate={taskAppearedDate}\n      className={className}\n      mainTask={{ ...mainTask, date: metadata.date }}\n      subTasks={children}\n      actions={actions}\n      displayGrabber\n      calendarPosition={calendarPosition}\n      newSubTaskAutoFocused={!original.inFocus}\n      active={disabled}\n      onFocus={onFocus}\n      onBlur={onBlur}\n    />\n  );\n}\n\nInlineTaskEditor.defaultProps = { className: undefined };\n","/* eslint-disable react/jsx-props-no-spreading */\nimport React, { ReactElement } from 'react';\nimport { Draggable } from 'react-beautiful-dnd';\nimport { connect } from 'react-redux';\nimport { error } from 'common/lib/util/general-util';\nimport { State, Task } from 'common/lib/types/store-types';\nimport {\n  getFilteredNotCompletedInFocusTask,\n  getFilteredCompletedInFocusTask,\n} from 'common/lib/util/task-util';\nimport InlineTaskEditor from '../../Util/TaskEditors/InlineTaskEditor';\nimport styles from './FocusTask.module.css';\n\ntype OwnProps = {\n  readonly id: string;\n  readonly order: number;\n  readonly filterCompleted: boolean;\n};\ntype Props = OwnProps & {\n  readonly original: Task;\n  readonly filtered: Task | null;\n};\n\nfunction FocusTask({ id, order, filterCompleted, original, filtered }: Props): ReactElement {\n  if (filtered === null) {\n    throw new Error(`The filtered task should not be null! id: ${id}, order: ${order}`);\n  }\n  return (\n    <Draggable draggableId={`${id}-${filterCompleted}`} index={order}>\n      {(provided) => (\n        <div ref={provided.innerRef} {...provided.draggableProps} {...provided.dragHandleProps}>\n          <InlineTaskEditor\n            className={styles.FocusTask}\n            calendarPosition=\"bottom\"\n            original={original}\n            filtered={filtered}\n          />\n        </div>\n      )}\n    </Draggable>\n  );\n}\n\nconst Connected = connect(\n  ({ tasks }: State, { id, filterCompleted }: OwnProps) => {\n    const original = tasks.get(id) ?? error();\n    const filtered = filterCompleted\n      ? getFilteredCompletedInFocusTask(original)\n      : getFilteredNotCompletedInFocusTask(original);\n    return { original, filtered };\n  },\n)(FocusTask);\nexport default Connected;\n","/* eslint-disable react/jsx-props-no-spreading */\nimport React, { ReactElement, useState, ReactNode } from 'react';\nimport { DragDropContext, Droppable, DropResult } from 'react-beautiful-dnd';\nimport { connect } from 'react-redux';\nimport { computeReorderMap, getReorderedList } from 'common/lib/util/order-util';\nimport styles from './index.module.css';\nimport ClearFocus from './ClearFocus';\nimport CompletedSeparator from './CompletedSeparator';\nimport FocusTask from './FocusTask';\nimport { applyReorder, completeTaskInFocus } from '../../../firebase/actions';\nimport { getFocusViewProps, FocusViewTaskMetaData, FocusViewProps } from '../../../store/selectors';\n\nconst focusViewNotCompletedDroppableId = 'focus-view-not-completed-droppable';\nconst focusViewCompletedDroppableId = 'focus-view-completed-droppable';\n\ntype IdOrder = { readonly id: string; readonly order: number };\n\nfunction renderTaskList(list: IdOrder[], filterCompleted: boolean): ReactNode {\n  return list.map(({ id }, index) => (\n    <FocusTask key={id} id={id} order={index} filterCompleted={filterCompleted} />\n  ));\n}\n\n/**\n * The focus view component.\n */\nfunction FocusView({ tasks, progress }: FocusViewProps): ReactElement {\n  const [localTasks, setLocalTasks] = useState<FocusViewTaskMetaData[]>(tasks);\n  const [doesShowCompletedTasks, setDoesShowCompletedTasks] = useState(true);\n  if (localTasks !== tasks) {\n    setLocalTasks(tasks);\n  }\n  const localCompletedList: IdOrder[] = [];\n  const localUncompletedList: IdOrder[] = [];\n  localTasks.forEach(({ id, order, inFocusView, inCompleteFocusView }: FocusViewTaskMetaData) => {\n    if (!inFocusView) {\n      return;\n    }\n    const idOrder = { id, order };\n    if (inCompleteFocusView) {\n      localCompletedList.push(idOrder);\n    } else {\n      localUncompletedList.push(idOrder);\n    }\n  });\n  const onDragEnd = (result: DropResult): void => {\n    const { source, destination } = result;\n    if (destination == null) {\n      // invalid drop, skip\n      return;\n    }\n    let sourceOrder: number;\n    let destinationOrder: number;\n    if (source.droppableId === focusViewCompletedDroppableId) {\n      sourceOrder = localCompletedList[source.index].order;\n    } else if (source.droppableId === focusViewNotCompletedDroppableId) {\n      sourceOrder = localUncompletedList[source.index].order;\n    } else {\n      return;\n    }\n    if (destination.droppableId === focusViewCompletedDroppableId) {\n      const dest = localCompletedList[destination.index];\n      destinationOrder = dest == null ? sourceOrder : dest.order;\n    } else if (destination.droppableId === focusViewNotCompletedDroppableId) {\n      const dest = localUncompletedList[destination.index];\n      destinationOrder = dest == null ? sourceOrder : dest.order;\n    } else {\n      return;\n    }\n    if (\n      (source.droppableId === focusViewCompletedDroppableId\n        && destination.droppableId === focusViewCompletedDroppableId)\n      || (source.droppableId === focusViewNotCompletedDroppableId\n        && destination.droppableId === focusViewNotCompletedDroppableId)\n    ) {\n      // drag and drop completely with in completed/uncompleted region\n      const reorderMap = computeReorderMap(localTasks, sourceOrder, destinationOrder);\n      setLocalTasks(getReorderedList(localTasks, reorderMap));\n      applyReorder('tasks', reorderMap);\n    } else if (\n      source.droppableId === focusViewNotCompletedDroppableId\n      && destination.droppableId === focusViewCompletedDroppableId\n    ) {\n      // drag from not completed and drop to completed.\n      const completedTaskIdOrder: IdOrder = localUncompletedList[source.index];\n      const taskReplacer = (t: FocusViewTaskMetaData): FocusViewTaskMetaData => {\n        if (t.id !== completedTaskIdOrder.id) {\n          return t;\n        }\n        return { ...t, inCompleteFocusView: true };\n      };\n      setLocalTasks((prevTasks) => prevTasks.map(taskReplacer));\n      completeTaskInFocus(completedTaskIdOrder, localCompletedList);\n    } else if (\n      source.droppableId === focusViewCompletedDroppableId\n      && destination.droppableId === focusViewNotCompletedDroppableId\n    ) {\n      // drag from completed and drop to not completed.\n      // do not support this case because the intuition is currently unclear\n    } else {\n      throw new Error('Impossible');\n    }\n  };\n\n  const onDoesShowCompletedTasksChange = (): void => setDoesShowCompletedTasks((prev) => !prev);\n\n  return (\n    <div className={styles.FocusView}>\n      <div className={styles.ControlBlock}>\n        <h3 className={styles.Title}>Focus</h3>\n        <span className={styles.Padding} />\n        <ClearFocus />\n      </div>\n      <div className={styles.FocusTaskContainer}>\n        <DragDropContext onDragEnd={onDragEnd}>\n          <Droppable droppableId={focusViewNotCompletedDroppableId}>\n            {(provided) => (\n              <div ref={provided.innerRef} {...provided.droppableProps}>\n                {renderTaskList(localUncompletedList, false)}\n                {provided.placeholder}\n              </div>\n            )}\n          </Droppable>\n          <Droppable droppableId={focusViewCompletedDroppableId}>\n            {(provided) => (\n              <div\n                ref={provided.innerRef}\n                className={styles.Droppable}\n                {...provided.droppableProps}\n              >\n                <CompletedSeparator\n                  count={progress.completedTasksCount}\n                  doesShowCompletedTasks={doesShowCompletedTasks}\n                  onDoesShowCompletedTasksChange={onDoesShowCompletedTasksChange}\n                />\n                {doesShowCompletedTasks && renderTaskList(localCompletedList, true)}\n                {provided.placeholder}\n              </div>\n            )}\n          </Droppable>\n        </DragDropContext>\n      </div>\n    </div>\n  );\n}\n\nconst Connected = connect(getFocusViewProps)(FocusView);\nexport default Connected;\n","import React, { ReactElement } from 'react';\nimport { FontAwesomeIcon as Icon } from '@fortawesome/react-fontawesome';\nimport { IconLookup } from '@fortawesome/fontawesome-svg-core';\nimport styles from './SquareButtons.module.scss';\n\ntype Props = {\n  readonly active: boolean;\n  readonly iconNames: [IconLookup, IconLookup];\n  readonly onToggle: () => void;\n};\n\n/**\n * The component used to render a minimalist icon button.\n *\n * @param {boolean} active whether the button is in active state.\n * @param {[string, string]} iconNames the pair of active icon name and inactive one.\n * @param {function(): void} onToggle handle when the value is toggled.\n * @return {Node} the rendered node.\n * @constructor\n */\nexport default function SquareIconToggle({ active, iconNames, onToggle }: Props): ReactElement {\n  const [activeIconName, inactiveIconName] = iconNames;\n  const className = active\n    ? `${styles.SquareButton} ${styles.SquareButtonIconButton}`\n    : `${styles.SquareButton} ${styles.SquareButtonIconButton} ${styles.active}`;\n  return (\n    <button className={className} title=\"Hide/unhide completed tasks\" type=\"button\" onClick={onToggle}>\n      <Icon\n        className={styles.SquareButtonText}\n        icon={active ? activeIconName : inactiveIconName}\n      />\n    </button>\n  );\n}\n","import React, { ReactElement } from 'react';\nimport { faEye, faEyeSlash } from '@fortawesome/free-solid-svg-icons';\nimport { useTodayLastSecondTime } from 'hooks/time-hook';\nimport { date2YearMonth } from 'common/lib/util/datetime-util';\nimport { FutureViewContainerType, FutureViewDisplayOption } from './future-view-types';\nimport SquareTextButton from '../../UI/SquareTextButton';\nimport SquareIconToggle from '../../UI/SquareIconToggle';\nimport styles from './FutureViewControl.module.scss';\nimport { useMappedWindowSize } from '../../../hooks/window-size-hook';\nimport SamwiseIcon from '../../UI/SamwiseIcon';\n\n/*\n * --------------------------------------------------------------------------------\n * Part 0: Common Types\n * --------------------------------------------------------------------------------\n */\n\ntype ChangeOffsetInstruction = 'TODAY' | number;\ntype ChangeableProps = {\n  readonly displayOption: FutureViewDisplayOption;\n  readonly offset: number;\n};\ntype Props = ChangeableProps & {\n  readonly nDays: number;\n  readonly onChange: (change: Partial<ChangeableProps>) => void;\n};\n\n/*\n * --------------------------------------------------------------------------------\n * Part 1: Helper Small Components\n * --------------------------------------------------------------------------------\n */\n\n/**\n * The padding span.\n */\nconst Padding = (): ReactElement => <span className={styles.ControlPadding} />;\n\n/**\n * The title component.\n */\nconst Title = ({ text }: { readonly text: string }): ReactElement => (\n  <h3 className={styles.Title}>{text}</h3>\n);\n\n/*\n * --------------------------------------------------------------------------------\n * Part 2: NavControl\n * --------------------------------------------------------------------------------\n */\n\ntype NavControlProps = {\n  readonly today: Date;\n  readonly containerType: FutureViewContainerType;\n  readonly futureViewOffset: number;\n  readonly changeOffset: (instruction: ChangeOffsetInstruction) => () => void;\n  readonly isSmallScreen: boolean;\n};\n\n/**\n * Returns a suitable title for the backlog header title.\n *\n * @param {Date} today today from React hooks.\n * @param {number} monthOffset offset of displaying months.\n * @return {string} a suitable title for the backlog header title.\n */\nfunction getMonthlyViewHeaderTitle(today: Date, monthOffset: number): string {\n  const d = new Date(today);\n  d.setMonth(d.getMonth() + monthOffset, 1);\n  return date2YearMonth(d);\n}\n\nfunction getBiWeeklyViewHeaderTitle(today: Date, biweeklyOffset: number): string {\n  const s = new Date(today);\n  s.setDate(s.getDate() + biweeklyOffset * 14 - s.getDay()); // minus day offset\n  const e = new Date(s);\n  e.setDate(e.getDate() + 13);\n  const startString = `${s.getMonth() + 1}/${s.getDate()}/${s.getFullYear() % 100}`;\n  const endString = `${e.getMonth() + 1}/${e.getDate()}/${e.getFullYear() % 100}`;\n  return `${startString} - ${endString}`;\n}\n\n/**\n * The component to control nav.\n */\nfunction NavControl(props: NavControlProps): ReactElement {\n  const { today, containerType, futureViewOffset, changeOffset, isSmallScreen } = props;\n  const prevHandler = changeOffset(-1);\n  const nextHandler = changeOffset(+1);\n  if (containerType === 'N_DAYS') {\n    const offset = -10;\n    const prevStyle = { left: offset };\n    const nextStyle = { right: offset };\n    return (\n      <>\n        {futureViewOffset >= 0 && (\n          <SamwiseIcon\n            iconName=\"dropdown\"\n            title=\"Go back\"\n            className={`${styles.NavButtonPrev} ${styles.NavButtonNDays}`}\n            style={prevStyle}\n            onClick={prevHandler}\n          />\n        )}\n        <SamwiseIcon\n          iconName=\"dropdown\"\n          title=\"Go forward\"\n          className={`${styles.NavButtonNext} ${styles.NavButtonNDays}`}\n          style={nextStyle}\n          onClick={nextHandler}\n        />\n      </>\n    );\n  }\n\n  const prev = (\n    <SamwiseIcon\n      iconName=\"dropdown\"\n      title=\"Go back\"\n      className={styles.NavButtonPrev}\n      onClick={prevHandler}\n    />\n  );\n  const next = (\n    <SamwiseIcon\n      iconName=\"dropdown\"\n      title=\"Go forward\"\n      className={styles.NavButtonNext}\n      onClick={nextHandler}\n    />\n  );\n  if (containerType === 'BIWEEKLY') {\n    return (\n      <>\n        {futureViewOffset >= 0 && prev}\n        <Title text={getBiWeeklyViewHeaderTitle(today, futureViewOffset)} />\n        {next}\n      </>\n    );\n  }\n  if (containerType === 'MONTHLY') {\n    return (\n      <>\n        {!isSmallScreen && <Padding />}\n        {futureViewOffset >= 0 && prev}\n        <Title text={getMonthlyViewHeaderTitle(today, futureViewOffset)} />\n        {next}\n      </>\n    );\n  }\n  throw new Error('Bad display option.');\n}\n\n/*\n * --------------------------------------------------------------------------------\n * Part 3: DisplayOptionControl\n * --------------------------------------------------------------------------------\n */\n\n/**\n * The component to control display options\n */\nfunction DisplayOptionControl({ nDays, displayOption, offset, onChange }: Props): ReactElement {\n  const { containerType, doesShowCompletedTasks } = displayOption;\n  const toggleCompletedTasks = (): void => onChange({\n    displayOption: { containerType, doesShowCompletedTasks: !doesShowCompletedTasks },\n  });\n  const switchContainerType = (newContainerType: FutureViewContainerType): void => {\n    let dayOffset: number;\n    switch (containerType) {\n      case 'N_DAYS':\n        dayOffset = offset * nDays;\n        break;\n      case 'BIWEEKLY':\n        dayOffset = offset * 14;\n        break;\n      case 'MONTHLY':\n        dayOffset = offset * 30;\n        break;\n      default:\n        throw new Error('Bad container type!');\n    }\n    let newOffset: number;\n    switch (newContainerType) {\n      case 'N_DAYS':\n        newOffset = Math.floor(dayOffset / nDays);\n        break;\n      case 'BIWEEKLY':\n        newOffset = Math.floor(dayOffset / 14);\n        break;\n      case 'MONTHLY':\n        newOffset = Math.floor(dayOffset / 30);\n        break;\n      default:\n        throw new Error('Bad container type!');\n    }\n    onChange({\n      displayOption: { containerType: newContainerType, doesShowCompletedTasks },\n      offset: newOffset,\n    });\n  };\n  const renderContainerTypeSwitcherButton = (\n    type: FutureViewContainerType, text: string,\n  ): ReactElement => {\n    const className = containerType === type\n      ? `${styles.ContainerTypeSwitcherButton} ${styles.ContainerTypeSwitcherActiveButton}`\n      : styles.ContainerTypeSwitcherButton;\n    return (\n      <button\n        type=\"button\"\n        title={`Change to ${text} view`}\n        className={className}\n        onClick={() => switchContainerType(type)}\n      >\n        <span className={styles.ContainerTypeSwitcherButtonText}>{text}</span>\n      </button>\n    );\n  };\n  return (\n    <>\n      <SquareIconToggle\n        active={doesShowCompletedTasks}\n        iconNames={[faEyeSlash, faEye]}\n        onToggle={toggleCompletedTasks}\n      />\n      <div className={styles.ContainerTypeSwitcher}>\n        {renderContainerTypeSwitcherButton('N_DAYS', `${nDays}D`)}\n        {renderContainerTypeSwitcherButton('BIWEEKLY', '2W')}\n        {renderContainerTypeSwitcherButton('MONTHLY', 'M')}\n      </div>\n    </>\n  );\n}\n\n/*\n * --------------------------------------------------------------------------------\n * Part 4: Main Component\n * --------------------------------------------------------------------------------\n */\n\n/**\n * The controller component for the future view in task view.\n */\nexport default function FutureViewControl(props: Props): ReactElement {\n  const { nDays, displayOption, offset, onChange } = props;\n  const todayTime = useTodayLastSecondTime();\n  const isSmallScreen = useMappedWindowSize(({ width }) => width <= 600);\n  const { containerType } = displayOption;\n  const changeOffset = (instruction: ChangeOffsetInstruction): (() => void) => (): void => {\n    const newOffset = instruction === 'TODAY' ? 0 : (offset + instruction);\n    onChange({ offset: newOffset });\n  };\n  const today = offset !== 0 && (\n    <SquareTextButton text=\"Today\" onClick={changeOffset('TODAY')} />\n  );\n  if (isSmallScreen) {\n    return (\n      <div>\n        <div className={styles.FutureViewControl}>\n          <Title text=\"Future\" />\n          <Padding />\n          {today}\n          <DisplayOptionControl\n            nDays={nDays}\n            displayOption={displayOption}\n            offset={offset}\n            onChange={onChange}\n          />\n        </div>\n        <div className={styles.FutureViewControl}>\n          <Padding />\n          <NavControl\n            today={todayTime}\n            containerType={containerType}\n            futureViewOffset={offset}\n            changeOffset={changeOffset}\n            isSmallScreen\n          />\n          <Padding />\n        </div>\n      </div>\n    );\n  }\n  return (\n    <div className={styles.FutureViewControl}>\n      <Title text=\"Future\" />\n      <NavControl\n        today={todayTime}\n        containerType={containerType}\n        futureViewOffset={offset}\n        changeOffset={changeOffset}\n        isSmallScreen={false}\n      />\n      <Padding />\n      {today}\n      <DisplayOptionControl\n        nDays={nDays}\n        displayOption={displayOption}\n        offset={offset}\n        onChange={onChange}\n      />\n    </div>\n  );\n}\n","/* eslint-disable no-param-reassign */\nimport React, { ReactElement, ReactNode } from 'react';\nimport { getDateWithDateString } from 'common/lib/util/datetime-util';\nimport { removeTaskWithPotentialPrompt } from 'util/task-util';\nimport { Task } from 'common/lib/types/store-types';\nimport { useWindowSizeCallback, WindowSize } from 'hooks/window-size-hook';\nimport { CalendarPosition, FloatingPosition } from './editors-types';\nimport TaskEditor from './TaskEditor';\nimport styles from './FloatingTaskEditor.module.css';\n\nconst EDITOR_WIDTH = 300;\n\nconst updateFloatingEditorPosition = (\n  editorPosDiv: HTMLFormElement,\n  windowSize: WindowSize,\n  position: FloatingPosition,\n): void => {\n  const taskElement = editorPosDiv.previousElementSibling;\n  if (taskElement === null || !(taskElement instanceof HTMLDivElement)) {\n    throw new Error('Task element must be a div!');\n  }\n  const taskElementBoundingRect = taskElement.getBoundingClientRect();\n  if (!(taskElementBoundingRect instanceof DOMRect)) {\n    throw new Error('Bad taskElementBoundingRect!');\n  }\n  const myHeight = editorPosDiv.offsetHeight;\n  const windowWidth = windowSize.width;\n  const windowHeight = windowSize.height;\n  let posTop: number;\n  let posLeft: number | undefined;\n  let posRight: number | undefined;\n  if (windowWidth <= 768) {\n    posTop = (windowHeight - myHeight) / 2;\n    editorPosDiv.style.left = `${windowWidth - EDITOR_WIDTH}px`;\n    posLeft = (windowWidth - EDITOR_WIDTH) / 2;\n  } else {\n    const { y, left, right } = taskElementBoundingRect;\n    posTop = (y + myHeight) > windowHeight ? windowHeight - myHeight : y;\n    if (position === 'right') {\n      posLeft = right;\n    } else if (position === 'left') {\n      posRight = windowWidth - left;\n    } else {\n      throw new Error('Bad floating position!');\n    }\n  }\n\n  editorPosDiv.style.top = `${posTop}px`;\n  editorPosDiv.style.left = posLeft === undefined ? 'initial' : `${posLeft}px`;\n  editorPosDiv.style.right = posRight === undefined ? 'initial' : `${posRight}px`;\n  editorPosDiv.style.width = '300px';\n};\n\ntype Props = {\n  // the position of the editor\n  readonly position: FloatingPosition;\n  // the initial task to edit\n  readonly initialTask: Task;\n  // the date string that specifies when the task appears (useful for repeated task)\n  readonly taskAppearedDate: string;\n  // the trigger function to open the editor\n  readonly trigger: (opened: boolean, opener: () => void) => ReactNode;\n  // the position of the calendar\n  readonly calendarPosition: CalendarPosition;\n};\n\n/**\n * FloatingTaskEditor is a component used to edit a task on the fly.\n * It is triggered from a click on a specified element.\n */\nexport default function FloatingTaskEditor(\n  {\n    position,\n    calendarPosition,\n    initialTask: task,\n    taskAppearedDate,\n    trigger,\n  }: Props,\n): ReactElement {\n  const icalUID = task.metadata.type === 'ONE_TIME' ? task.metadata.icalUID : '';\n\n  const [open, setOpen] = React.useState<boolean>(false);\n\n  const editorRef = React.useRef<HTMLFormElement>(null);\n\n  const windowSize = useWindowSizeCallback((size) => {\n    const editorPosDiv = editorRef.current;\n    if (editorPosDiv == null) {\n      return;\n    }\n    updateFloatingEditorPosition(editorPosDiv, size, position);\n  });\n\n  const openPopup = (): void => setOpen(true);\n  const closePopup = (): void => setOpen(false);\n\n  const { id: _, metadata, children, ...mainTask } = task;\n  const actions = {\n    onChange: (): void => {\n      const editorPosDiv = editorRef.current;\n      if (editorPosDiv == null) {\n        return;\n      }\n      updateFloatingEditorPosition(editorPosDiv, windowSize, position);\n    },\n    removeTask: (): void => removeTaskWithPotentialPrompt(\n      task,\n      getDateWithDateString(metadata.date instanceof Date ? metadata.date : null, taskAppearedDate),\n    ),\n    onSaveClicked: closePopup,\n  };\n\n  return (\n    <>\n      {trigger(open, openPopup)}\n      {open && (\n        <>\n          <TaskEditor\n            id={task.id}\n            type={metadata.type}\n            icalUID={icalUID}\n            taskAppearedDate={taskAppearedDate}\n            mainTask={{ ...mainTask, date: metadata.date }}\n            subTasks={children}\n            actions={actions}\n            className={styles.Editor}\n            editorRef={editorRef}\n            calendarPosition={calendarPosition}\n          />\n          <div className={styles.BackgroundBlocker} role=\"presentation\" onClick={closePopup} />\n        </>\n      )}\n    </>\n  );\n}\n","import React, { ReactElement } from 'react';\nimport { SubTask } from 'common/lib/types/store-types';\nimport styles from './FutureViewTask.module.css';\nimport CheckBox from '../../UI/CheckBox';\nimport { editSubTask, removeSubTask } from '../../../firebase/actions';\nimport SamwiseIcon from '../../UI/SamwiseIcon';\n\ntype Props = {\n  readonly subTask: SubTask | null;\n  readonly mainTaskId: string;\n  readonly replaceDateForFork: Date | null;\n  readonly mainTaskCompleted: boolean;\n};\n\n/**\n * The component used to render one subtask in future view day.\n */\nfunction FutureViewSubTask(\n  { subTask, mainTaskId, replaceDateForFork, mainTaskCompleted }: Props,\n): ReactElement | null {\n  if (subTask == null) {\n    return null;\n  }\n  const { name, complete, inFocus } = subTask;\n  const onCompleteChange = (): void => editSubTask(\n    mainTaskId, subTask.id, replaceDateForFork, { complete: !complete },\n  );\n  const onFocusChange = (): void => editSubTask(\n    mainTaskId, subTask.id, replaceDateForFork, { inFocus: !inFocus },\n  );\n  const onRemove = (): void => removeSubTask(mainTaskId, subTask.id, replaceDateForFork);\n  return (\n    <div className={styles.SubTask}>\n      <CheckBox\n        className={styles.SubTaskCheckBox}\n        checked={mainTaskCompleted || complete}\n        disabled={mainTaskCompleted}\n        inverted\n        onChange={onCompleteChange}\n      />\n      <span\n        className={styles.TaskText}\n        style={(mainTaskCompleted || complete) ? { textDecoration: 'line-through' } : {}}\n      >\n        {name}\n      </span>\n      <SamwiseIcon\n        iconName={inFocus ? 'pin-dark-filled' : 'pin-dark-outline'}\n        onClick={onFocusChange}\n        className={styles.TaskIcon}\n      />\n      <SamwiseIcon iconName=\"x-dark\" className={styles.TaskIcon} onClick={onRemove} />\n    </div>\n  );\n}\n\nconst Memoized = React.memo(FutureViewSubTask);\nexport default Memoized;\n","import React, { KeyboardEvent, ReactElement, SyntheticEvent, ReactNode } from 'react';\nimport { connect } from 'react-redux';\nimport FloatingTaskEditor from 'components/Util/TaskEditors/FloatingTaskEditor';\nimport { Settings, State, SubTask, Task } from 'common/lib/types/store-types';\nimport CheckBox from 'components/UI/CheckBox';\nimport { FloatingPosition, CalendarPosition } from 'components/Util/TaskEditors/editors-types';\nimport { getTodayAtZeroAM, getDateWithDateString } from 'common/lib/util/datetime-util';\nimport OverdueAlert from 'components/UI/OverdueAlert';\nimport { editMainTask } from 'firebase/actions';\nimport { useMappedWindowSize } from 'hooks/window-size-hook';\nimport { NONE_TAG } from 'common/lib/util/tag-util';\nimport SamwiseIcon from 'components/UI/SamwiseIcon';\nimport { removeTaskWithPotentialPrompt } from 'util/task-util';\nimport { Draggable } from 'react-beautiful-dnd';\nimport FutureViewSubTask from './FutureViewSubTask';\nimport styles from './FutureViewTask.module.css';\n\ntype CompoundTask = {\n  readonly original: Task;\n  readonly filteredSubTasks: SubTask[];\n  readonly color: string;\n};\n\ntype OwnProps = {\n  readonly taskId: string;\n  readonly index: number;\n  readonly containerDate: string;\n  readonly inNDaysView: boolean;\n  readonly taskEditorPosition: FloatingPosition;\n  readonly calendarPosition: CalendarPosition;\n  readonly doesShowCompletedTasks: boolean;\n  readonly isInMainList: boolean;\n};\n\ntype Props = OwnProps & {\n  readonly compoundTask: CompoundTask | null;\n  readonly settings: Settings;\n};\n\n/**\n * The component used to render one task in backlog day.\n */\nfunction FutureViewTask(\n  {\n    taskId,\n    index,\n    compoundTask,\n    containerDate,\n    inNDaysView,\n    taskEditorPosition,\n    isInMainList,\n    calendarPosition,\n    settings,\n  }: Props,\n): ReactElement | null {\n  const isSmallScreen = useMappedWindowSize(({ width }) => width <= 768);\n\n  if (compoundTask === null) {\n    return null;\n  }\n  const { original, filteredSubTasks, color } = compoundTask;\n\n  const { canvasCalendar } = settings;\n  const canvasLinked = canvasCalendar != null;\n\n  const icalUID = original.metadata.type === 'ONE_TIME' ? original.metadata.icalUID : '';\n  const isCanvasTask = canvasLinked && (typeof icalUID === 'string' ? icalUID !== '' : false);\n\n  /**\n   * Get an onClickHandler when the element is clicked.\n   * This methods ensure that only clicking on task text counts.\n   *\n   * @param opener the opener passed by the floating task editor.\n   * @return the onClick handler.\n   */\n  const getOnClickHandler = (opener: () => void) => (event?: SyntheticEvent<HTMLElement>): void => {\n    if (event == null) {\n      opener();\n      return;\n    }\n    if (event.target instanceof HTMLElement) {\n      const elem: HTMLElement = event.target;\n      // only accept click on text.\n      if (elem.className === styles.TaskText) {\n        opener();\n      }\n    }\n  };\n\n  const replaceDateForFork = getDateWithDateString(\n    original.metadata.type === 'ONE_TIME' ? original.metadata.date : null, containerDate,\n  );\n  const replaceDateForForkOpt = original.metadata.type === 'ONE_TIME' ? null : replaceDateForFork;\n  const TaskCheckBox = (): ReactElement => {\n    const { id, complete } = original;\n    const onChange = (): void => editMainTask(id, replaceDateForForkOpt, { complete: !complete });\n    return <CheckBox className={styles.TaskCheckBox} checked={complete} onChange={onChange} />;\n  };\n  const TaskName = (): ReactElement => {\n    const { name, complete } = original;\n    const tagStyle = complete ? { textDecoration: 'line-through' } : {};\n    return <span className={styles.TaskText} style={tagStyle}>{name}</span>;\n  };\n\n  const RemoveTaskIcon = (): ReactElement => {\n    const handler = (): void => removeTaskWithPotentialPrompt(original, replaceDateForFork);\n    return <SamwiseIcon iconName=\"x-light\" className={styles.TaskIcon} onClick={handler} />;\n  };\n\n  const Placeholder = (): ReactElement => <div className={styles.hide}><RemoveTaskIcon /></div>;\n\n  const PinIcon = (): ReactElement => {\n    const { id, inFocus } = original;\n    const handler = (): void => editMainTask(id, replaceDateForForkOpt, { inFocus: !inFocus });\n    return (\n      <SamwiseIcon\n        iconName={inFocus ? 'pin-light-filled' : 'pin-light-outline'}\n        className={styles.TaskIcon}\n        onClick={handler}\n      />\n    );\n  };\n  const DragIcon = (): ReactElement => <SamwiseIcon iconName=\"grabber\" className={styles.TaskIcon} />;\n  const RepeatingIcon = (): ReactElement => <SamwiseIcon iconName=\"repeat-light\" className={styles.TaskIconNoHover} />;\n  let Icon = (): ReactElement => <RepeatingIcon />;\n  if (compoundTask.original.metadata.type === 'ONE_TIME') {\n    Icon = isCanvasTask ? Placeholder : DragIcon;\n  }\n  const renderMainTaskInfo = (simplified = false): ReactElement => {\n    if (simplified && isInMainList) {\n      const style = { backgroundColor: color, height: '25px' };\n      return <div className={styles.TaskMainWrapper} style={style} />;\n    }\n    return (\n      <div className={styles.TaskMainWrapper} style={{ backgroundColor: color }}>\n        <Icon />\n        <TaskCheckBox />\n        <TaskName />\n        <PinIcon />\n        {isCanvasTask ? <Placeholder /> : <RemoveTaskIcon />}\n      </div>\n    );\n  };\n\n  const renderSubTasks = (): ReactNode => filteredSubTasks.map((s) => (\n    <FutureViewSubTask\n      key={s.id}\n      subTask={s}\n      mainTaskId={original.id}\n      replaceDateForFork={replaceDateForForkOpt}\n      mainTaskCompleted={original.complete}\n    />\n  ));\n\n  const { metadata: { date }, complete } = original;\n  const overdueComponentOpt = (date < getTodayAtZeroAM() && !complete) && (\n    <OverdueAlert target=\"future-view-task\" />\n  );\n  // Construct the trigger for the floating task editor.\n  const trigger = (opened: boolean, opener: () => void): ReactElement => {\n    const onClickHandler = getOnClickHandler(opener);\n    const onSpaceHandler = (e: KeyboardEvent<HTMLDivElement>): void => {\n      if (e.key === ' ') {\n        onClickHandler();\n      }\n    };\n    const style = opened ? { zIndex: 8 } : {};\n    const mainTasks = inNDaysView\n      ? renderMainTaskInfo()\n      : renderMainTaskInfo(isSmallScreen);\n    const subtasks = inNDaysView ? renderSubTasks() : null;\n    return (\n      <div\n        role=\"button\"\n        tabIndex={0}\n        className={styles.Task}\n        style={style}\n        onClick={onClickHandler}\n        onKeyUp={onSpaceHandler}\n      >\n        {overdueComponentOpt}\n        {mainTasks}\n        {subtasks}\n      </div>\n    );\n  };\n  return (\n    <Draggable\n      key={taskId}\n      draggableId={taskId}\n      index={index}\n      isDragDisabled={compoundTask.original.metadata.type === 'MASTER_TEMPLATE' || isCanvasTask}\n    >\n      {(provided) => (\n        // eslint-disable-next-line react/jsx-props-no-spreading\n        <div ref={provided.innerRef} {...provided.draggableProps} {...provided.dragHandleProps}>\n          <FloatingTaskEditor\n            position={taskEditorPosition}\n            calendarPosition={calendarPosition}\n            initialTask={original}\n            taskAppearedDate={containerDate}\n            trigger={trigger}\n          />\n        </div>\n      )}\n    </Draggable>\n  );\n}\n\nconst getCompoundTask = (\n  { tasks, tags }: State, { taskId, doesShowCompletedTasks }: OwnProps,\n): CompoundTask | null => {\n  const original = tasks.get(taskId);\n  if (original == null) {\n    return null;\n  }\n  const { color } = tags.get(original.tag) ?? NONE_TAG;\n  if (doesShowCompletedTasks) {\n    let filteredSubTasks = [...original.children];\n    filteredSubTasks = filteredSubTasks.sort((a, b) => a.order - b.order);\n    return { original, filteredSubTasks, color };\n  }\n  if (original.complete) {\n    return null;\n  }\n  let filteredSubTasks: SubTask[] = [...original.children];\n  filteredSubTasks = filteredSubTasks.sort((a, b) => a.order - b.order);\n  return { original, filteredSubTasks, color };\n};\n\nconst mapStateToProps = (\n  state: State, ownProps: OwnProps,\n): { readonly compoundTask: CompoundTask | null; readonly settings: Settings } => ({\n  compoundTask: getCompoundTask(state, ownProps),\n  settings: state.settings,\n});\n\nconst Connected = connect(mapStateToProps)(FutureViewTask);\nexport default Connected;\n","import React, { ReactElement } from 'react';\nimport { connect } from 'react-redux';\nimport { State, SubTask, Task } from 'common/lib/types/store-types';\nimport { CalendarPosition, FloatingPosition } from '../../Util/TaskEditors/editors-types';\nimport FutureViewTask from './FutureViewTask';\nimport styles from './FutureViewDayTaskContainer.module.css';\nimport { useWindowSizeCallback } from '../../../hooks/window-size-hook';\nimport { createGetIdOrderListByDate } from '../../../store/selectors';\n\ntype CompoundTask = {\n  readonly original: Task;\n  readonly filteredSubTasks: SubTask[];\n  readonly color: string;\n};\n\ntype OwnProps = {\n  readonly date: string;\n  readonly inNDaysView: boolean;\n  readonly taskEditorPosition: FloatingPosition;\n  readonly calendarPosition: CalendarPosition;\n  readonly doesShowCompletedTasks: boolean;\n  readonly isInMainList: boolean;\n  readonly onHeightChange: (doesOverflow: boolean, tasksHeight: number) => void;\n};\n\ntype IdOrder = {\n  readonly id: string;\n  readonly order: number;\n};\n\ntype Props = OwnProps & {\n  readonly idOrderList: IdOrder[];\n};\n\n/**\n * The component to render a list of tasks in backlog day or its floating expanding list.\n */\nfunction FutureViewDayTaskContainer(\n  {\n    date,\n    idOrderList,\n    inNDaysView,\n    taskEditorPosition,\n    doesShowCompletedTasks,\n    calendarPosition,\n    isInMainList,\n    onHeightChange,\n  }: Props,\n): ReactElement {\n  const containerRef = React.useRef<HTMLDivElement>(null);\n  const [prevHeights, setPrevHeights] = React.useState(() => [0, 0]);\n\n  // Subscribes to it, but don't use the value. Force rerender when window size changes.\n  useWindowSizeCallback(() => {\n    const containerNode = containerRef.current;\n    if (containerNode == null) {\n      return;\n    }\n    const tasksHeight = containerNode.scrollHeight;\n    const containerHeight = containerNode.clientHeight;\n    const [prevTasksHeight, prevContainerHeight] = prevHeights;\n    if (prevTasksHeight === tasksHeight && prevContainerHeight === containerHeight) {\n      return;\n    }\n    const vh = Math.max(document.documentElement.clientHeight || 0);\n    const overflowThreshold = vh;\n    setPrevHeights([tasksHeight, containerHeight]);\n    onHeightChange(tasksHeight > overflowThreshold && overflowThreshold > 0, tasksHeight);\n  });\n  const taskListComponent = idOrderList.map(({ id }, i) => (\n    <FutureViewTask\n      key={id}\n      taskId={id}\n      index={i}\n      containerDate={date}\n      inNDaysView={inNDaysView}\n      taskEditorPosition={taskEditorPosition}\n      calendarPosition={calendarPosition}\n      doesShowCompletedTasks={doesShowCompletedTasks}\n      isInMainList={isInMainList}\n    />\n  ));\n  if (isInMainList) {\n    return (\n      <div\n        className={styles.Container}\n        ref={containerRef}\n      >\n        {taskListComponent}\n      </div>\n    );\n  }\n  return <div className={styles.Container} ref={containerRef}>{taskListComponent}</div>;\n}\n\nconst Connected = connect(\n  (state: State, { date }: OwnProps) => createGetIdOrderListByDate(date)(state),\n)(FutureViewDayTaskContainer);\n\nexport default Connected;\n","import React, { ReactElement } from 'react';\nimport { day2String, getTodayAtZeroAM } from 'common/lib/util/datetime-util';\nimport { Theme } from 'common/lib/types/store-types';\nimport { Droppable } from 'react-beautiful-dnd';\nimport { SimpleDate } from './future-view-types';\nimport { CalendarPosition, FloatingPosition } from '../../Util/TaskEditors/editors-types';\nimport styles from './FutureViewDay.module.scss';\nimport FutureViewDayTaskContainer from './FutureViewDayTaskContainer';\n\ntype Props = {\n  readonly date: SimpleDate;\n  readonly inNDaysView: boolean;\n  readonly taskEditorPosition: FloatingPosition;\n  readonly calendarPosition: CalendarPosition;\n  readonly doesShowCompletedTasks: boolean;\n  readonly inMainList: boolean;\n  readonly onHeightChange: (doesOverflow: boolean, tasksHeight: number) => void;\n  readonly theme: Theme;\n};\n\n/**\n * The main content of future view day.\n */\nfunction FutureViewDayContent(\n  {\n    date,\n    inNDaysView,\n    taskEditorPosition,\n    calendarPosition,\n    doesShowCompletedTasks,\n    inMainList,\n    onHeightChange,\n    theme,\n  }: Props,\n): ReactElement {\n  const containerStyle = (() => {\n    const style = theme === 'dark' ? { color: 'white', opacity: 0.8 } : {};\n    return (inNDaysView && inMainList) ? { paddingTop: '1em', ...style } : style;\n  })();\n  const isToday: boolean = getTodayAtZeroAM().toDateString() === date.text;\n  return (\n    <>\n      <div className={styles.DateInfo} style={containerStyle}>\n        <div className={styles.DateInfoDay}>\n          {isToday ? 'TODAY' : day2String(date.day)}\n        </div>\n        <div className={styles.DateNum}>{date.date}</div>\n      </div>\n      <Droppable droppableId={date.text}>\n        {(provided) => (\n          // eslint-disable-next-line react/jsx-props-no-spreading\n          <div ref={provided.innerRef} {...provided.droppableProps}>\n            <FutureViewDayTaskContainer\n              date={date.text}\n              inNDaysView={inNDaysView}\n              taskEditorPosition={taskEditorPosition}\n              calendarPosition={calendarPosition}\n              doesShowCompletedTasks={doesShowCompletedTasks}\n              isInMainList={inMainList}\n              onHeightChange={onHeightChange}\n            />\n            {provided.placeholder}\n          </div>\n        )}\n      </Droppable>\n    </>\n  );\n}\n\nconst Memoized = React.memo(FutureViewDayContent);\nexport default Memoized;\n","import React, { ReactElement } from 'react';\nimport { connect } from 'react-redux';\nimport { getTodayAtZeroAM } from 'common/lib/util/datetime-util';\nimport { State, Theme } from 'common/lib/types/store-types';\nimport { SimpleDate } from './future-view-types';\nimport { CalendarPosition, FloatingPosition } from '../../Util/TaskEditors/editors-types';\nimport styles from './FutureViewDay.module.scss';\nimport FutureViewDayContent from './FutureViewDayContent';\n\ntype Props = {\n  readonly date: SimpleDate;\n  readonly inNDaysView: boolean;\n  readonly taskEditorPosition: FloatingPosition;\n  readonly calendarPosition: CalendarPosition;\n  readonly doesShowCompletedTasks: boolean;\n};\n\ntype HeightInfo = { readonly doesOverflow: boolean; readonly tasksHeight: number };\nconst dummyHeightInfo: HeightInfo = { doesOverflow: false, tasksHeight: 0 };\n\n/**\n * The component that renders all tasks on a certain day.\n */\nexport function FutureViewDay(props: Props & { readonly theme: Theme }): ReactElement {\n  const {\n    theme,\n    date,\n    inNDaysView,\n    taskEditorPosition,\n    calendarPosition,\n    doesShowCompletedTasks,\n  } = props;\n  const [heightInfo, setHeightInfo] = React.useState<HeightInfo>(dummyHeightInfo);\n  const componentDivRef = React.useRef<HTMLDivElement>(null);\n\n  const onHeightChange = (doesOverflow: boolean, tasksHeight: number): void => {\n    if (heightInfo.tasksHeight !== tasksHeight) {\n      setHeightInfo({ doesOverflow, tasksHeight });\n    }\n  };\n\n  const isToday: boolean = getTodayAtZeroAM().toDateString() === date.text;\n  const darkModeStyles = (() => {\n    if (theme !== 'dark') {\n      return undefined;\n    }\n    return isToday ? {\n      background: 'black',\n      color: 'white',\n    } : {\n      background: 'rgb(33,33,33)',\n      color: 'white',\n    };\n  })();\n  let wrapperCssClass: string;\n  if (inNDaysView) {\n    wrapperCssClass = isToday ? `${styles.NDaysView} ${styles.Today}` : styles.NDaysView;\n  } else {\n    wrapperCssClass = isToday ? `${styles.OtherViews} ${styles.Today}` : styles.OtherViews;\n  }\n  return (\n    <div className={wrapperCssClass} ref={componentDivRef} style={{ ...darkModeStyles, overflowY: 'scroll' }}>\n      <FutureViewDayContent\n        inMainList\n        onHeightChange={onHeightChange}\n        date={date}\n        inNDaysView={inNDaysView}\n        taskEditorPosition={taskEditorPosition}\n        calendarPosition={calendarPosition}\n        doesShowCompletedTasks={doesShowCompletedTasks}\n        theme={theme}\n      />\n    </div>\n  );\n}\n\nconst Connected = connect(\n  ({ settings: { theme } }: State): { readonly theme: Theme } => ({ theme }),\n)(FutureViewDay);\nexport default Connected;\n","import React, { ReactElement } from 'react';\nimport FutureViewDay from './FutureViewDay';\nimport styles from './FutureViewNDays.module.css';\nimport { SimpleDate } from './future-view-types';\n\ntype IdOrder = { readonly id: string; readonly order: number };\n\ntype Props = {\n  readonly days: readonly SimpleDate[];\n  readonly doesShowCompletedTasks: boolean;\n};\n\n/**\n * The component used to contain all the backlog days in n-days mode.\n */\nfunction FutureViewNDays(\n  { days, doesShowCompletedTasks }: Props,\n): ReactElement {\n  const nDays = days.length;\n  const containerStyle = { gridTemplateColumns: `repeat(${nDays}, minmax(0, 1fr))` };\n\n  return (\n    <div className={styles.FutureViewNDays} style={containerStyle}>\n      {days.map((date: SimpleDate, index: number) => {\n        const taskEditorPosition = index < (nDays / 2) ? 'right' : 'left';\n        return (\n          <div key={date.text} className={styles.Column}>\n            <FutureViewDay\n              inNDaysView\n              calendarPosition=\"bottom\"\n              taskEditorPosition={taskEditorPosition}\n              doesShowCompletedTasks={doesShowCompletedTasks}\n              date={date}\n            />\n          </div>\n        );\n      })}\n    </div>\n  );\n}\n\nexport default FutureViewNDays;\n","import React, { ReactElement } from 'react';\nimport FutureViewDay from './FutureViewDay';\nimport styles from './FutureViewSevenColumns.module.css';\nimport { SimpleDate } from './future-view-types';\n\ntype Props = { readonly days: readonly SimpleDate[]; readonly doesShowCompletedTasks: boolean };\n\n/**\n * The component used to contain all the backlog days in 7 columns.\n */\nexport default ({ days, doesShowCompletedTasks }: Props): ReactElement => {\n  const interval = (days.length === 14) ? '2W' : 'Monthly';\n  // Start building items\n  const items = days.map((date: SimpleDate, i: number) => (\n    <FutureViewDay\n      key={date.text}\n      inNDaysView={false}\n      taskEditorPosition={(i % 7) < 4 ? 'right' : 'left'}\n      calendarPosition={\n        ((interval === '2W' && i / 7 < 1) || (interval === 'Monthly' && i / 7 < 3))\n          ? 'bottom' : 'top'\n      }\n      doesShowCompletedTasks={doesShowCompletedTasks}\n      date={date}\n    />\n  ));\n  let styleString = '';\n  const numRows = Math.ceil(items.length / 7);\n  const templateStyleString = ` minmax(0, ${1 / numRows}fr)`;\n  for (let i = 0; i < numRows; i += 1) {\n    styleString += templateStyleString;\n  }\n  const gridStyle = { gridTemplateRows: styleString.trim() };\n  return (\n    <div className={styles.FutureViewSevenColumns} style={gridStyle}>\n      {items}\n    </div>\n  );\n};\n","import React, { ReactElement } from 'react';\nimport { useTodayLastSecondTime } from 'hooks/time-hook';\nimport { DragDropContext, DropResult } from 'react-beautiful-dnd';\nimport { computeReorderMap } from 'common/lib/util/order-util';\nimport { dateMatchRepeats } from 'common/lib/util/task-util';\nimport { Task, RepeatingTaskMetadata } from 'common/lib/types/store-types';\nimport FutureViewControl from './FutureViewControl';\nimport FutureViewNDays from './FutureViewNDays';\nimport FutureViewSevenColumns from './FutureViewSevenColumns';\n\nimport {\n  FutureViewContainerType,\n  FutureViewDisplayOption,\n  SimpleDate,\n} from './future-view-types';\nimport { useMappedWindowSize } from '../../../hooks/window-size-hook';\nimport { editMainTask, applyReorder } from '../../../firebase/actions';\nimport { store } from '../../../store/store';\n\n\nexport type FutureViewConfig = {\n  readonly displayOption: FutureViewDisplayOption;\n  readonly offset: number;\n};\n\nexport type FutureViewConfigProvider = {\n  readonly initialValue: FutureViewConfig;\n  readonly isInNDaysView: (config: FutureViewConfig) => boolean;\n};\nexport const futureViewConfigProvider: FutureViewConfigProvider = {\n  initialValue: {\n    displayOption: {\n      containerType: 'N_DAYS',\n      doesShowCompletedTasks: true,\n    },\n    offset: 0,\n  },\n  isInNDaysView: (config: FutureViewConfig) => config.displayOption.containerType === 'N_DAYS',\n};\n\n/**\n * Compute the start date and end date.\n *\n * @param {Date} today today object from React hooks.\n * @param {number} nDays number of days in n-days view.\n * @param {FutureViewContainerType} containerType the container type.\n * @param {number} offset offset of displaying days.\n * @return {{startDate: Date, endDate: Date}} the start date and end date.\n */\nfunction computeStartAndEndDay(\n  today: Date, nDays: number, containerType: FutureViewContainerType, offset: number,\n): { readonly startDate: Date; readonly endDate: Date } {\n  // Compute start date (the first date to display)\n  const startDate = new Date(today);\n  let hasAdditionalDays = false;\n  switch (containerType) {\n    case 'N_DAYS':\n      startDate.setDate(startDate.getDate() + offset * nDays);\n      break;\n    case 'BIWEEKLY':\n      startDate.setDate(startDate.getDate() - startDate.getDay() + offset * 14);\n      break;\n    case 'MONTHLY':\n      startDate.setMonth(startDate.getMonth() + offset, 1);\n      startDate.setDate(startDate.getDate() - startDate.getDay());\n      hasAdditionalDays = startDate.getDate() !== 1;\n      break;\n    default:\n  }\n  // Compute end date (the first date not to display)\n  let endDate = new Date(startDate); // the first day not to display.\n  switch (containerType) {\n    case 'N_DAYS':\n      endDate.setDate(endDate.getDate() + nDays);\n      break;\n    case 'BIWEEKLY':\n      endDate.setDate(endDate.getDate() + 14);\n      break;\n    case 'MONTHLY':\n      if (hasAdditionalDays) {\n        endDate = new Date(startDate.getFullYear(), startDate.getMonth() + 2, 1);\n      } else {\n        endDate = new Date(startDate.getFullYear(), startDate.getMonth() + 1, 1);\n      }\n      break;\n    default:\n      throw new Error('Impossible Case');\n  }\n  return { startDate, endDate };\n}\n\n/**\n * Returns an array of future view days given the current props and the display option.\n *\n * @param {Date} today today object from React hooks.\n * @param {number} nDays number of days in n-days view.\n * @param {FutureViewConfig} config the display config.\n * @return {Date[]} an array of backlog days information.\n */\nfunction buildDaysInFutureView(\n  today: Date, nDays: number, config: FutureViewConfig,\n): readonly SimpleDate[] {\n  const { displayOption: { containerType }, offset } = config;\n  const { startDate, endDate } = computeStartAndEndDay(today, nDays, containerType, offset);\n  // Adding the days to array\n  const days: SimpleDate[] = [];\n  for (let d = startDate; d < endDate; d.setDate(d.getDate() + 1)) {\n    const simpleDate: SimpleDate = {\n      year: d.getFullYear(),\n      month: d.getMonth(),\n      date: d.getDate(),\n      day: d.getDay(),\n      text: d.toDateString(),\n    };\n    days.push(simpleDate);\n  }\n  return days;\n}\n\ntype IdOrder = { readonly id: string; readonly order: number };\n\ntype Props = {\n  readonly config: FutureViewConfig;\n  readonly onConfigChange: (config: FutureViewConfig) => void;\n};\n\nexport default function FutureView(\n  { config, onConfigChange }: Props,\n): ReactElement {\n  const today = useTodayLastSecondTime();\n\n  // the number of days in n-days mode.\n  const nDays = useMappedWindowSize(({ width }) => {\n    if (width > 1280) { return 5; }\n    if (width > 960) { return 4; }\n    if (width > 840) { return 3; }\n    return 1;\n  });\n  const controlOnChange = (change: Partial<FutureViewConfig>): void => {\n    onConfigChange({ ...config, ...change });\n  };\n\n  const days = buildDaysInFutureView(today, nDays, config);\n  const { displayOption, offset } = config;\n  const { containerType, doesShowCompletedTasks } = displayOption;\n  const daysContainer = containerType === 'N_DAYS'\n    ? <FutureViewNDays days={days} doesShowCompletedTasks={doesShowCompletedTasks} />\n    : <FutureViewSevenColumns days={days} doesShowCompletedTasks={doesShowCompletedTasks} />;\n  const onDragEnd = (result: DropResult): void => {\n    const { source, destination, draggableId } = result;\n    if (destination == null) {\n      // invalid drop, skip\n      return;\n    }\n    // dragging to same day\n    if (source.droppableId === destination.droppableId) {\n      const { dateTaskMap, tasks, repeatedTaskSet } = store.getState();\n      const date = source.droppableId;\n      const dayTaskSet = dateTaskMap.get(date);\n      if (dayTaskSet != null) {\n        const idOrderList: IdOrder[] = [];\n\n        dayTaskSet.forEach((id) => {\n          const task = tasks.get(id);\n          if (task != null) {\n            const { order } = task;\n            idOrderList.push({ id, order });\n          }\n        });\n\n        const dateObj = new Date(source.droppableId);\n        repeatedTaskSet.forEach((id) => {\n          const task = tasks.get(id);\n          if (task == null) {\n            return;\n          }\n          const repeatedTask = task as Task<RepeatingTaskMetadata>;\n          if (dateMatchRepeats(dateObj, repeatedTask.metadata)) {\n            const { order } = repeatedTask;\n            idOrderList.push({ id, order });\n          }\n        });\n\n        idOrderList.sort((a, b) => a.order - b.order);\n        const sourceOrder: number = idOrderList[source.index].order;\n        const dest = idOrderList[destination.index];\n        const destinationOrder: number = dest == null ? sourceOrder : dest.order;\n        const reorderMap = computeReorderMap(idOrderList, sourceOrder, destinationOrder);\n        applyReorder('tasks', reorderMap);\n      }\n    } else {\n      // dragging to different day\n      editMainTask(\n        draggableId,\n        null,\n        { date: new Date(destination.droppableId) },\n      );\n    }\n  };\n  return (\n    <div>\n      <FutureViewControl\n        nDays={nDays}\n        displayOption={displayOption}\n        offset={offset}\n        onChange={controlOnChange}\n      />\n      <DragDropContext onDragEnd={onDragEnd}>\n        {daysContainer}\n      </DragDropContext>\n    </div>\n  );\n}\n","import React, { ReactElement, CSSProperties } from 'react';\nimport { TasksProgressProps } from 'common/lib/util/task-util';\nimport HappyBear from '../../../assets/bear/happy-bear.png';\nimport RegularBear from '../../../assets/bear/regular-bear.png';\nimport styles from './Bear.module.css';\n\ntype Props = TasksProgressProps & { readonly inMobileView: boolean };\n\n/**\n * The bear as a progress checker.\n */\nexport default ({ completedTasksCount, allTasksCount, inMobileView }: Props): ReactElement => {\n  const allCompleted = completedTasksCount === allTasksCount;\n  let style: CSSProperties = { backgroundImage: `url(${allCompleted ? HappyBear : RegularBear})` };\n  if (!inMobileView) {\n    style = { ...style, margin: '0' };\n  }\n  return <div className={styles.Bear} style={style} />;\n};\n","import React, { ReactNode, ReactElement, CSSProperties } from 'react';\nimport { TasksProgressProps } from 'common/lib/util/task-util';\nimport styles from './ProgressIndicator.module.scss';\n\ntype ProgressBarProps = TasksProgressProps & {\n  readonly inMobileView: boolean;\n  readonly children?: ReactNode;\n};\n\n/**\n * A simple progress bar with optional children.\n */\nfunction ProgressBar(\n  { completedTasksCount, allTasksCount, inMobileView, children }: ProgressBarProps,\n): ReactElement {\n  const percentage = allTasksCount === 0 ? 0 : completedTasksCount / allTasksCount * 100;\n  const containerStyle: CSSProperties = inMobileView\n    ? { height: '2em', marginLeft: '1em' }\n    : { width: '2em', marginBottom: '1em' };\n  const innerStyle: CSSProperties = inMobileView\n    ? { height: '2em', width: `${percentage}%` }\n    : { width: '2em', height: `${percentage}%` };\n  return (\n    <div className={styles.ProgressBarContainer} style={containerStyle}>\n      <div className={styles.ProgressBarIndicator} style={innerStyle} />\n      {children}\n    </div>\n  );\n}\n\nProgressBar.defaultProps = { children: null };\n\ntype Props = TasksProgressProps & { readonly inMobileView: boolean };\n\n/**\n * The progress indicator.\n */\nexport default function ProgressIndicator(\n  { completedTasksCount, allTasksCount, inMobileView }: Props,\n): ReactElement {\n  const containerStyle: CSSProperties = inMobileView\n    ? { height: '32px' }\n    : { flexDirection: 'column-reverse', margin: '0', width: '32px' };\n  const textStyle: CSSProperties = inMobileView ? {} : { width: '70px', marginBottom: '8px' };\n  const fractionString = `${completedTasksCount}/${allTasksCount}`;\n  return (\n    <div className={styles.ProgressIndicator} style={containerStyle}>\n      <div className={styles.ProgressText} style={textStyle}>\n        <div className={styles.ProgressCountText}>{fractionString}</div>\n        <div className={styles.ProgressOtherText}>tasks complete</div>\n      </div>\n      <ProgressBar\n        completedTasksCount={completedTasksCount}\n        allTasksCount={allTasksCount}\n        inMobileView={inMobileView}\n      />\n    </div>\n  );\n}\n","import React, { ReactElement } from 'react';\nimport { connect } from 'react-redux';\nimport { TasksProgressProps } from 'common/lib/util/task-util';\nimport Bear from './Bear';\nimport ProgressIndicator from './ProgressIndicator';\nimport styles from './index.module.css';\nimport { getProgress } from '../../../store/selectors';\n\nconst mobileViewStyle = `${styles.ProgressTracker} ${styles.MobileView}`;\nconst desktopViewStyle = `${styles.ProgressTracker} ${styles.DesktopView}`;\n\ntype Props = TasksProgressProps & { readonly inMobileView: boolean };\n\n/**\n * The progress tracker component.\n * It is a wrapper component designed to pass down the progress object.\n */\nexport function ProgressTracker(\n  { completedTasksCount, allTasksCount, inMobileView }: Props,\n): ReactElement {\n  const containerClass = inMobileView ? mobileViewStyle : desktopViewStyle;\n  return (\n    <div className={containerClass}>\n      <Bear\n        completedTasksCount={completedTasksCount}\n        allTasksCount={allTasksCount}\n        inMobileView={inMobileView}\n      />\n      <ProgressIndicator\n        completedTasksCount={completedTasksCount}\n        allTasksCount={allTasksCount}\n        inMobileView={inMobileView}\n      />\n    </div>\n  );\n}\n\nconst Connected = connect(getProgress)(ProgressTracker);\nexport default Connected;\n","import React, { ReactElement, ReactNode, useState } from 'react';\nimport { connect } from 'react-redux';\nimport { FontAwesomeIcon as Icon } from '@fortawesome/react-fontawesome';\nimport { faChevronRight, faChevronLeft } from '@fortawesome/free-solid-svg-icons';\nimport { State, Theme } from 'common/lib/types/store-types';\nimport { useMappedWindowSize } from '../../hooks/window-size-hook';\nimport FocusView from './FocusView';\nimport FutureView, { futureViewConfigProvider, FutureViewConfig } from './FutureView';\nimport ProgressTracker from './ProgressTracker';\nimport styles from './index.module.css';\nimport SamwiseIcon from '../UI/SamwiseIcon';\n\nconst FocusPanel = (): ReactElement => <div className={styles.FocusPanel}><FocusView /></div>;\n\nconst classNames = (...names: readonly string[]): string => names.join(' ');\n\ntype Props = { readonly className: string; readonly theme: Theme };\n\nexport function TaskView({ className, theme }: Props): ReactElement {\n  const [doesShowFocusViewInWideScreen, setDoesShowFocusViewInWideScreen] = useState(true);\n  const [doesShowFutureViewInSmallScreen, setDoesShowFutureViewInSmallScreen] = useState(false);\n  const [config, setConfig] = useState<FutureViewConfig>(futureViewConfigProvider.initialValue);\n\n  const screenIsSmall = useMappedWindowSize((size) => size.width < 840);\n  const toggleFocusViewInWideScreen = (): void => setDoesShowFocusViewInWideScreen((prev) => !prev);\n  const switchView = (): void => setDoesShowFutureViewInSmallScreen((prev) => !prev);\n\n  const FuturePanel = ({ children }: { readonly children?: ReactNode }): ReactElement => {\n    const onChange = (c: FutureViewConfig): void => { setConfig(c); };\n    return (\n      <div className={classNames(className, styles.FuturePanel)}>\n        <div className={styles.FuturePanelContainer}>\n          {children}\n          <FutureView config={config} onConfigChange={onChange} />\n        </div>\n      </div>\n    );\n  };\n  FuturePanel.defaultProps = { children: null };\n\n  const inNDaysView = futureViewConfigProvider.isInNDaysView(config);\n  const showFocusView = inNDaysView || doesShowFocusViewInWideScreen;\n\n  const darkModeStyle = theme === 'dark' ? { background: 'black', color: 'white' } : undefined;\n\n  if (screenIsSmall) {\n    const taskView = doesShowFutureViewInSmallScreen\n      ? (\n        <div className={classNames(className, styles.TaskView)} style={darkModeStyle}>\n          <FuturePanel />\n          <SamwiseIcon\n            iconName=\"pin-dark-filled\"\n            className={styles.ViewSwitcher}\n            onClick={switchView}\n          />\n        </div>\n      ) : (\n        <div className={classNames(className, styles.TaskView)} style={darkModeStyle}>\n          <FocusPanel />\n          <SamwiseIcon\n            iconName=\"calendar-dark\"\n            className={styles.ViewSwitcher}\n            onClick={switchView}\n          />\n        </div>\n      );\n    return (\n      <>\n        {taskView}\n        <ProgressTracker inMobileView />\n      </>\n    );\n  }\n\n  const WideScreenFocusViewToggle = (): ReactElement => {\n    const wrapperStyle = doesShowFocusViewInWideScreen ? { left: '-4em' } : { left: '0' };\n    const buttonStyle = doesShowFocusViewInWideScreen ? { left: '2em' } : {};\n    const iconName = doesShowFocusViewInWideScreen ? faChevronLeft : faChevronRight;\n    const iconClass = doesShowFocusViewInWideScreen\n      ? styles.FocusViewToggleIconFocusViewShow\n      : styles.FocusViewToggleIconFocusViewHide;\n    return (\n      <div className={styles.FocusViewToggleWrapper} style={wrapperStyle}>\n        <div\n          role=\"button\"\n          tabIndex={-1}\n          className={styles.FocusViewToggle}\n          style={buttonStyle}\n          onClick={toggleFocusViewInWideScreen}\n          onKeyDown={toggleFocusViewInWideScreen}\n        >\n          <Icon icon={iconName} className={iconClass} />\n        </div>\n      </div>\n    );\n  };\n\n  return (\n    <>\n      <div className={classNames(className, styles.TaskView)} style={darkModeStyle}>\n        <ProgressTracker inMobileView={false} />\n        {showFocusView && <FocusPanel />}\n        {showFocusView && <div style={{ width: '2em' }} />}\n        <FuturePanel>\n          {!inNDaysView && <WideScreenFocusViewToggle />}\n        </FuturePanel>\n      </div>\n    </>\n  );\n}\n\nconst Connected = connect(\n  ({ settings: { theme } }: State, ownProps: { className: string }): Props => (\n    { className: ownProps.className, theme }\n  ),\n)(TaskView);\nexport default Connected;\n","import React, { ReactElement } from 'react';\nimport { connect } from 'react-redux';\nimport { State } from 'common/lib/types/store-types';\nimport { getBannerMessage } from '../../../store/selectors';\nimport styles from './index.module.css';\nimport { readBannerMessage } from '../../../firebase/actions';\nimport { MessageWithId } from './messages';\n\ntype Props = {\n  readonly message: MessageWithId | null;\n};\n\nconst Banner = ({ message }: Props): ReactElement | null => {\n  if (message === null) {\n    return null;\n  }\n  const dismissHandler = (): void => {\n    readBannerMessage(message.id, true);\n  };\n  return (\n    <div className={styles.Banner}>\n      <span className={styles.Text}>{message.message}</span>\n      <button type=\"button\" className={styles.DismissButton} onClick={dismissHandler}>\n        Dismiss\n      </button>\n    </div>\n  );\n};\n\nconst Connected = connect((state: State) => getBannerMessage(state))(Banner);\nexport default Connected;\n","import React, { ReactElement } from 'react';\nimport { connect } from 'react-redux';\nimport { useTime } from 'hooks/time-hook';\nimport { date2FullDateString } from 'common/lib/util/datetime-util';\nimport { State, Theme } from 'common/lib/types/store-types';\nimport Banner from './Banner';\nimport styles from './index.module.css';\nimport SettingsButton from './Settings/SettingsButton';\n\n/**\n * The title bar.\n *\n * @type {function(): Node}\n */\nexport function TitleBar(props: { theme: Theme }): ReactElement {\n  const time = useTime();\n  const date = new Date(time);\n  const dateString = date2FullDateString(date);\n  const timeString = date.toLocaleTimeString('en-US', {\n    hour: 'numeric',\n    minute: 'numeric',\n  });\n  const { theme } = props;\n  const darkModeStyles = theme === 'dark' ? {\n    background: 'black',\n    color: 'white',\n  } : undefined;\n  return (\n    <header className={styles.Main} style={darkModeStyles}>\n      <Banner />\n      <span title=\"time\" className={styles.Time}>{timeString}</span>\n      <span title=\"date\" className={styles.Date}>{dateString}</span>\n      <span className={styles.Links}><SettingsButton /></span>\n    </header>\n  );\n}\n\n\nconst Connected = connect(\n  ({ settings: { theme } }: State): {theme: Theme} => ({ theme }),\n)(TitleBar);\nexport default Connected;\n","import React, { ReactElement } from 'react';\nimport styles from './App.module.css';\nimport AllComplete from './components/Popup/AllComplete';\nimport Onboard from './components/TitleBar/Onboarding/Onboard';\nimport TaskCreator from './components/TaskCreator';\nimport TaskView from './components/TaskView';\nimport TitleBar from './components/TitleBar';\n\n/**\n * The top level Personal Samwise view component.\n */\nexport default (): ReactElement => (\n  <>\n    <Onboard />\n    <TitleBar />\n    <TaskCreator />\n    <TaskView className={styles.TaskView} />\n    <AllComplete />\n  </>\n);\n","import React, { ReactElement } from 'react';\nimport SamwiseIcon from 'components/UI/SamwiseIcon';\nimport { faPlus } from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport styles from './Member.module.css';\n\ntype Props = {\n  memberName: string;\n}\n\nexport default ({ memberName }: Props): ReactElement => {\n  const initials = `${memberName.split(' ')[0].charAt(0)}${memberName.split(' ')[1].charAt(0)}`;\n  return (\n    <div className={styles.Member}>\n      <div className={styles.Initials}>{initials}</div>\n      <p>{memberName}</p>\n      <div className={styles.Plus}>\n        <FontAwesomeIcon icon={faPlus} />\n      </div>\n      <SamwiseIcon className={styles.MemberIcon} iconName=\"bell\" />\n      <SamwiseIcon className={styles.MemberIcon} iconName=\"hug\" />\n    </div>\n  );\n};\n","import React, { ReactElement } from 'react';\nimport { faPlus } from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport SamwiseIcon from 'components/UI/SamwiseIcon';\nimport { promptConfirm, promptTextInput } from 'components/Util/Modals';\nimport Member from './Member';\nimport styles from './index.module.css';\n\nconst leaveGroupPrompt = 'Are you sure you want to leave this group?';\n\nfunction confirmLeaveGroup(): void {\n  promptConfirm(leaveGroupPrompt).then(() => {\n    console.log('Leave success');\n  });\n}\n\nconst promptAddMember = (): void => {\n  promptTextInput(\n    'Add new member',\n    'Send them an invitation through email',\n    'NetID:',\n    'Send',\n    'text',\n  ).then((input) => {\n    console.log(input);\n  });\n};\n\ntype Props = {\n  groupMemberNames: string[];\n}\n\nexport default ({ groupMemberNames }: Props): ReactElement => (\n  <div className={styles.People}>\n    <h2>People</h2>\n    <div className={styles.MemberList}>\n      {\n        groupMemberNames.map((m) => <Member memberName={m} key={m} />)\n      }\n    </div>\n    <button\n      type=\"button\"\n      onClick={promptAddMember}\n      onKeyPress={(e) => (e.key === 'Enter' || e.key === ' ') && promptAddMember()}\n      className={styles.AddMember}\n    >\n      <div>\n        <FontAwesomeIcon icon={faPlus} />\n      </div>\n      Add member\n    </button>\n    <button\n      type=\"button\"\n      className={styles.LeaveGroup}\n      onClick={confirmLeaveGroup}\n    >\n      <SamwiseIcon iconName=\"exit\" />\n      <p>Leave Group</p>\n    </button>\n  </div>\n);\n","import React from 'react';\nimport styles from './index.module.css';\n\nconst EmptyTaskQueue = (): React.ReactElement => (\n  <div className={styles.EmptyTaskQueue}>\n    <p>Start adding new tasks!</p>\n    <button type=\"button\">Add task</button>\n  </div>\n);\n\nexport default (): React.ReactElement => (\n  <div className={styles.TaskQueue}>\n    <h2>Task Queue</h2>\n    <EmptyTaskQueue />\n  </div>\n);\n","import React, { ReactElement } from 'react';\nimport People from './People';\nimport TaskQueue from './TaskQueue';\nimport styles from './index.module.scss';\n\ntype Props = {\n  groupMemberNames: string[];\n}\n\nexport default ({ groupMemberNames }: Props): ReactElement => (\n  <div className={styles.MiddleBar}>\n    <TaskQueue />\n    <People groupMemberNames={groupMemberNames} />\n  </div>\n);\n","import React, { ReactElement } from 'react';\nimport { connect } from 'react-redux';\nimport { error } from 'common/lib/util/general-util';\nimport { State, Task } from 'common/lib/types/store-types';\nimport {\n  getFilteredNotCompletedInFocusTask,\n  getFilteredCompletedInFocusTask,\n} from 'common/lib/util/task-util';\nimport InlineTaskEditor from '../../../Util/TaskEditors/InlineTaskEditor';\nimport styles from './GroupTask.module.css';\n\ntype OwnProps = {\n  readonly id: string;\n  readonly order: number;\n  readonly filterCompleted: boolean;\n};\ntype Props = OwnProps & {\n  readonly original: Task;\n  readonly filtered: Task | null;\n};\n\nfunction GroupTask({ id, order, original, filtered }: Props): ReactElement {\n  if (filtered === null) {\n    throw new Error(`The filtered task should not be null! id: ${id}, order: ${order}`);\n  }\n  return (\n    <InlineTaskEditor\n      className={styles.GroupTask}\n      calendarPosition=\"bottom\"\n      original={original}\n      filtered={filtered}\n    />\n  );\n}\n\nconst Connected = connect(\n  ({ tasks }: State, { id, filterCompleted }: OwnProps) => {\n    const original = tasks.get(id) ?? error();\n    const filtered = filterCompleted\n      ? getFilteredCompletedInFocusTask(original)\n      : getFilteredNotCompletedInFocusTask(original);\n    return { original, filtered };\n  },\n)(GroupTask);\nexport default Connected;\n","import React, { ReactElement, useState, ReactNode } from 'react';\nimport { connect } from 'react-redux';\nimport styles from './GroupTasksContainer.module.css';\nimport GroupTask from './GroupTask';\nimport { getFocusViewProps, FocusViewTaskMetaData, FocusViewProps } from '../../../../store/selectors';\n\ntype IdOrder = { readonly id: string; readonly order: number };\n\nfunction renderTaskList(list: IdOrder[], filterCompleted: boolean): ReactNode {\n  return list.map(({ id }, index) => (\n    <GroupTask key={id} id={id} order={index} filterCompleted={filterCompleted} />\n  ));\n}\n\nfunction GroupTasksContainer({ tasks }: FocusViewProps): ReactElement {\n  const [localTasks, setLocalTasks] = useState<FocusViewTaskMetaData[]>(tasks);\n  if (localTasks !== tasks) {\n    setLocalTasks(tasks);\n  }\n  const localCompletedList: IdOrder[] = [];\n  const localUncompletedList: IdOrder[] = [];\n  localTasks.forEach(({ id, order, inFocusView, inCompleteFocusView }: FocusViewTaskMetaData) => {\n    if (!inFocusView) {\n      return;\n    }\n    const idOrder = { id, order };\n    if (inCompleteFocusView) {\n      localCompletedList.push(idOrder);\n    } else {\n      localUncompletedList.push(idOrder);\n    }\n  });\n\n  return (\n    <div className={styles.GroupTasksContainer}>\n      {renderTaskList(localUncompletedList, false)}\n    </div>\n  );\n}\n\nconst Connected = connect(getFocusViewProps)(GroupTasksContainer);\nexport default Connected;\n","import React, { ReactElement, SyntheticEvent, KeyboardEvent } from 'react';\nimport { faPlus } from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport GroupTasksContainer from './GroupTasksContainer';\nimport styles from './index.module.css';\n\ntype Props = {\n  memberName: string;\n}\n\nconst clickAddGroupTask = (e: SyntheticEvent<HTMLElement>): void => {\n  e.stopPropagation();\n  console.log('clicked add group task');\n};\nconst pressedAddGroupTask = (e: KeyboardEvent): void => {\n  if (e.key === 'Enter' || e.key === ' ') {\n    e.stopPropagation();\n    console.log('pressed add group task');\n  }\n};\n\nexport default ({ memberName }: Props): ReactElement => {\n  const initials = `${memberName.split(' ')[0].charAt(0)}${memberName.split(' ')[1].charAt(0)}`;\n\n  return (\n    <div className={styles.GroupTaskRow}>\n      <div className={styles.Initials}>{initials}</div>\n\n      <button\n        type=\"button\"\n        className={styles.AddTaskContainer}\n        onClick={clickAddGroupTask}\n        onKeyPress={pressedAddGroupTask}\n      >\n        <div className={styles.AddTask}>\n          <FontAwesomeIcon icon={faPlus} />\n          <h3>Assign new task</h3>\n        </div>\n      </button>\n\n      <GroupTasksContainer />\n    </div>\n  );\n};\n","import React, { ReactElement, KeyboardEvent } from 'react';\nimport { connect } from 'react-redux';\nimport { NONE_TAG, NONE_TAG_ID } from 'common/lib/util/tag-util';\nimport { State, Tag } from 'common/lib/types/store-types';\nimport TagListPicker from '../Util/TagListPicker/TagListPicker';\nimport styles from './Picker.module.css';\nimport SamwiseIcon from '../UI/SamwiseIcon';\n\ntype OwnProps = {\n  readonly tag: string;\n  readonly opened: boolean;\n  readonly onTagChange: (tag: string) => void;\n  readonly onPickerOpened: () => void;\n};\ntype Props = OwnProps & {\n  // subscribed from redux store.\n  readonly getTag: (id: string) => Tag;\n};\n\nfunction GroupMemberPicker({\n  tag,\n  opened,\n  onTagChange,\n  onPickerOpened,\n  getTag,\n}: Props): ReactElement {\n  // Controllers\n  const clickPicker = (): void => { onPickerOpened(); };\n  const pressedPicker = (e: KeyboardEvent): void => {\n    if (e.key === 'Enter' || e.key === ' ') onPickerOpened();\n  };\n  const reset = (): void => onTagChange(NONE_TAG_ID);\n  // Nodes\n  const displayedNode = (isDefault: boolean): ReactElement => {\n    const { name, color, classId } = getTag(tag);\n    const style = isDefault ? { background: NONE_TAG.color } : { background: color };\n    const internal = isDefault\n      ? (\n        <>\n          <span className={styles.TagDisplay}>\n            <SamwiseIcon iconName=\"user-plus\" className={styles.CenterIcon} tabIndex={-1} />\n            {' '}\n            assign to&nbsp;&nbsp;\n          </span>\n        </>\n      )\n      : (\n        <>\n          <span className={styles.TagDisplay}>{classId != null ? name.split(':')[0] : name}</span>\n          <button type=\"button\" className={styles.ResetButton} onClick={reset}>&times;</button>\n        </>\n      );\n    return (\n      <span\n        role=\"presentation\"\n        onClick={clickPicker}\n        onKeyPress={pressedPicker}\n        className={styles.Label}\n        style={style}\n      >\n        {internal}\n      </span>\n    );\n  };\n  return (\n    <div className={styles.Main}>\n      {displayedNode(tag === NONE_TAG_ID)}\n      {opened && (\n        <div className={styles.NewTaskClassPick}>\n          <TagListPicker onTagChange={onTagChange} />\n        </div>\n      )}\n    </div>\n  );\n}\n\nconst Connected = connect(\n  ({ tags }: State) => ({ getTag: (id: string) => tags.get(id) ?? NONE_TAG }),\n)(GroupMemberPicker);\nexport default Connected;\n","import firebase from 'firebase/app';\n\nlet firebaseConfig: object;\n\nif (process.env.NODE_ENV === 'production' && process.env.REACT_APP_IS_STAGING !== 'true') {\n  firebaseConfig = {\n    apiKey: 'AIzaSyBrnR-ai3ZQrr3aYnezDZTZdw9e2TWTRtc',\n    authDomain: 'dti-samwise.firebaseapp.com',\n    databaseURL: 'https://dti-samwise.firebaseio.com',\n    projectId: 'dti-samwise',\n    storageBucket: 'dti-samwise.appspot.com',\n    messagingSenderId: '114434220691',\n    appId: '1:114434220691:web:01579d764b20fb0aeb6366',\n    measurementId: 'G-DHQY39TSMH',\n  };\n} else {\n  firebaseConfig = {\n    apiKey: 'AIzaSyBJ0ElrYrw-fAQWWUEiRlf1wF38DswRduE',\n    authDomain: 'samwise-dev.firebaseapp.com',\n    databaseURL: 'https://samwise-dev.firebaseio.com',\n    projectId: 'samwise-dev',\n    storageBucket: 'samwise-dev.appspot.com',\n    messagingSenderId: '423488925083',\n    appId: '1:423488925083:web:6de3b7dd7df2c20c14453e',\n    measurementId: 'G-ETTT5Z748X',\n  };\n}\n\nfirebase.initializeApp(firebaseConfig);\n","import React, { CSSProperties, KeyboardEvent, SyntheticEvent, ReactElement } from 'react';\nimport { connect } from 'react-redux';\nimport { randomId } from 'common/lib/util/general-util';\nimport { Task, RepeatingDate, SubTask, State as StoreState, Theme } from 'common/lib/types/store-types';\nimport { NONE_TAG_ID } from 'common/lib/util/tag-util';\nimport { isToday } from 'common/lib/util/datetime-util';\nimport GroupMemberPicker from './GroupMemberPicker';\nimport DatePicker from './DatePicker';\nimport { addTask, TaskWithoutIdOrderChildren } from '../../firebase/actions';\nimport SamwiseIcon from '../UI/SamwiseIcon';\nimport styles from './GroupTaskCreator.module.css';\n\ntype SimpleTask = Omit<Task, 'type' | 'order' | 'children' | 'metadata'>;\n\ntype State = SimpleTask & {\n  readonly date: Date | RepeatingDate;\n  readonly subTasks: SubTask[];\n  readonly opened: boolean;\n  readonly tagPickerOpened: boolean;\n  readonly datePickerOpened: boolean;\n  readonly datePicked: boolean;\n  readonly needToSwitchFocus: boolean;\n};\n\ntype Props = { readonly theme: Theme };\n\n/**\n * The placeholder text in the main task input box.\n */\nconst PLACEHOLDER_TEXT = 'Add a task and get started';\n/**\n * Generate the initial state.\n */\nconst initialState = (): State => ({\n  id: randomId(),\n  name: '',\n  tag: NONE_TAG_ID, // the id of the None tag.\n  date: new Date(),\n  complete: false,\n  inFocus: false,\n  subTasks: [],\n  opened: false,\n  tagPickerOpened: false,\n  datePickerOpened: false,\n  datePicked: false,\n  needToSwitchFocus: false,\n});\n\nexport class GroupTaskCreator extends React.PureComponent<Props, State> {\n  public readonly state: State = initialState();\n\n  private addTask: HTMLInputElement | null | undefined;\n\n  private darkModeStyle: CSSProperties;\n\n  constructor(props: { theme: Theme }) {\n    super(props);\n    this.darkModeStyle = {\n      background: 'black',\n      color: 'white',\n    };\n  }\n\n  /*\n   * --------------------------------------------------------------------------------\n   * Part 1: Openers & Closers\n   * --------------------------------------------------------------------------------\n   */\n\n  /**\n   * Open the new task editor.\n   */\n  private openNewTask = (): void => this.setState({ opened: true });\n\n  /**\n   * Close (collapse) the new task editor.\n   */\n  private closeNewTask = (): void => this.setState({ opened: false });\n\n  /**\n   * Open the tag picker and close the date picker.\n   */\n  private openTagPicker = (): void => this.setState(({ tagPickerOpened }: State) => ({\n    tagPickerOpened: !tagPickerOpened,\n    datePickerOpened: false,\n  }));\n\n  /**\n   * Open the date picker and close the tag picker.\n   */\n  private openDatePicker = (): void => this.setState(({ datePickerOpened }: State) => ({\n    datePickerOpened: !datePickerOpened,\n    tagPickerOpened: false,\n  }));\n\n  /*\n   * --------------------------------------------------------------------------------\n   * Part 2: Manager functions when finished editing.\n   * --------------------------------------------------------------------------------\n   */\n\n  /**\n   * Focus on the task name, if possible.\n   */\n  private focusTaskName = (): void => {\n    if (this.addTask) {\n      this.addTask.focus();\n    }\n  };\n\n  /**\n   * Handle on potential save.\n   *\n   * @param e the event that signals a potential save action.\n   */\n  private handleSave = (e?: SyntheticEvent<HTMLElement>): void => {\n    if (e != null) {\n      e.preventDefault();\n    }\n    const {\n      name, tag, date, complete, inFocus, subTasks,\n    } = this.state;\n    if (name === '') {\n      return;\n    }\n    const newSubTasks = subTasks\n      .filter((subTask) => subTask.name !== '') // remove empty subtasks\n      // normalize orders: use current sequence as order;; remove useless id\n      .map(({ id, ...rest }, order) => ({ ...rest, order }));\n    // Put task in focus is the due date is today.\n    const autoInFocus = inFocus || (date instanceof Date && isToday(date));\n    const commonTask = { name, tag, date, complete, inFocus: autoInFocus };\n    let newTask: TaskWithoutIdOrderChildren;\n    if (date instanceof Date) {\n      date.setHours(23);\n      date.setMinutes(59);\n      date.setSeconds(59);\n      newTask = { ...commonTask, metadata: { type: 'ONE_TIME', date } };\n    } else {\n      newTask = {\n        ...commonTask,\n        inFocus: false,\n        metadata: {\n          type: 'MASTER_TEMPLATE',\n          forks: [],\n          date,\n        },\n      };\n    }\n    // Add the task to the store.\n    addTask(newTask, newSubTasks);\n    // Reset the state.\n    this.setState({ ...initialState() });\n    this.closeNewTask();\n    if (this.addTask) {\n      this.addTask.blur();\n    }\n  };\n\n  /*\n   * --------------------------------------------------------------------------------\n   * Part 3: Various Editors\n   * --------------------------------------------------------------------------------\n   */\n\n  /**\n   * Edit the task name.\n   *\n   * @param e the event that contains the new task name.\n   */\n  private editTaskName = (e: SyntheticEvent<HTMLInputElement>): void => this.setState(\n    { name: e.currentTarget.value },\n    this.focusTaskName,\n  );\n\n  /**\n   * Edit the tag.\n   *\n   * @param {string} tag the new tag.\n   */\n  private editTag = (tag: string): void => this.setState(\n    { tag, tagPickerOpened: false }, this.focusTaskName,\n  );\n\n  /**\n   * Edit the date.\n   *\n   * @param {Date} date the new date, or null for cancel.\n   */\n  private editDate = (date: Date | RepeatingDate | null): void => {\n    const { datePicked } = this.state;\n    if (datePicked && date === null) {\n      // User cancelled, but date was already picked\n      this.setState(\n        { datePickerOpened: false },\n        this.focusTaskName,\n      );\n    } else if (date instanceof Date || date === null) {\n      // Selecting a date, or user cancelled while date was not picked\n      this.setState(\n        {\n          date: date ?? new Date(),\n          datePickerOpened: false,\n          datePicked: Boolean(date),\n        },\n        this.focusTaskName,\n      );\n    } else {\n      // Repeating task\n      this.setState(\n        {\n          date,\n          datePickerOpened: false,\n          datePicked: true,\n        },\n        this.focusTaskName,\n      );\n    }\n  };\n\n  /**\n   * Reset the date picker\n   */\n  private clearDate = (): void => {\n    this.setState(\n      { date: new Date(), datePickerOpened: false, datePicked: false },\n      this.focusTaskName,\n    );\n  }\n\n  /**\n   * Add a new subtask.\n   *\n   * @param e the event that contains the new name for new sub-task.\n   */\n  private addNewSubTask = (e: SyntheticEvent<HTMLInputElement>): void => {\n    const newSubTaskName = e.currentTarget.value;\n    if (newSubTaskName === '') {\n      return;\n    }\n    this.setState(({ subTasks }: State) => ({\n      subTasks: [...subTasks, {\n        id: String(subTasks.length),\n        order: 0, // some random order, will be ignored anyway\n        name: newSubTaskName,\n        complete: false,\n        inFocus: false,\n      }],\n      needToSwitchFocus: true,\n    }));\n  };\n\n  /**\n   * Handle a keypress event in a new subtask box.\n   * It can potentially make the form to lose focus to exit.\n   *\n   * @param e the event that contains the key pressed in the new subtask input box.\n   */\n  private newSubTaskKeyPress = (e: KeyboardEvent<HTMLInputElement>): void => {\n    if (e.key === 'Tab') {\n      this.closeNewTask();\n    }\n  }\n\n  /**\n   * Edit a subtask.\n   *\n   * @param subTaskId id of the subtask to edit.\n   * @return the event handler.\n   */\n  private editSubTask = (subTaskId: string) => (e: SyntheticEvent<HTMLInputElement>) => {\n    const name = e.currentTarget.value;\n    this.setState(({ subTasks }: State) => ({\n      subTasks: subTasks.map((s) => (s.id === subTaskId ? { ...s, name } : s)),\n    }));\n  };\n\n  /**\n   * Potentially submit a subtask.\n   *\n   * @param e the keyboard event.\n   */\n  private submitSubTask = (e: KeyboardEvent<HTMLInputElement>): void => {\n    if (e.key === 'Enter') {\n      this.handleSave();\n    }\n  };\n\n  /**\n   * Delete a subtask.\n   *\n   * @param {string} subtaskId id of the subtask to delete.\n   * @return {Function<SyntheticEvent<HTMLInputElement>, void>} the event handler.\n   */\n  private deleteSubTask = (subtaskId: string) => (e: SyntheticEvent<HTMLButtonElement>) => {\n    e.preventDefault();\n    this.setState(({ subTasks }: State) => ({\n      subTasks: subTasks.filter((s) => s.id !== subtaskId),\n    }));\n  };\n\n  /**\n   * Reset the task.\n   */\n  private resetTask = (): void => this.setState({ ...initialState() }, this.focusTaskName);\n\n  /**\n   * Renders the editor for all the other info except main task name.\n   *\n   * @return the rendered other info editor.\n   */\n  private renderOtherInfoEditor(): ReactElement | null {\n    const { opened } = this.state;\n    if (!opened) {\n      return null;\n    }\n    const {\n      tag, date, subTasks,\n      tagPickerOpened, datePickerOpened, datePicked, needToSwitchFocus,\n    } = this.state;\n    const { theme } = this.props;\n    const existingSubTaskEditor = (\n      { id, name }: SubTask, i: number, arr: SubTask[],\n    ): ReactElement => {\n      const refHandler = (inputElementRef: HTMLInputElement | null): void => {\n        if (i === arr.length - 1 && needToSwitchFocus && inputElementRef != null) {\n          inputElementRef.focus();\n          this.setState({ needToSwitchFocus: false });\n        }\n      };\n      return (\n        <li key={id}>\n          <button type=\"button\" tabIndex={-1} onClick={this.deleteSubTask(id)}>\n            <SamwiseIcon iconName=\"x-dark\" />\n          </button>\n          <input\n            type=\"text\"\n            ref={refHandler}\n            value={name}\n            onChange={this.editSubTask(id)}\n            onKeyDown={this.submitSubTask}\n            style={theme === 'dark' ? this.darkModeStyle : undefined}\n          />\n        </li>\n      );\n    };\n    return (\n      <>\n        <div className={styles.TitleText}>Add Task</div>\n        <div className={styles.NewTaskActive}>\n          <div className={styles.TagPickWrap}>\n            <GroupMemberPicker\n              tag={tag}\n              opened={tagPickerOpened}\n              onTagChange={this.editTag}\n              onPickerOpened={this.openTagPicker}\n            />\n          </div>\n          <DatePicker\n            date={date}\n            opened={datePickerOpened}\n            datePicked={datePicked}\n            inGroupView\n            onDateChange={this.editDate}\n            onClearPicker={this.clearDate}\n            onPickerOpened={this.openDatePicker}\n          />\n          <button tabIndex={-1} type=\"submit\" className={styles.SubmitNewTask} style={theme === 'dark' ? this.darkModeStyle : undefined}>\n            <SamwiseIcon iconName=\"add-task\" tabIndex={-1} />\n          </button>\n          <div className={styles.SubtitleText}>\n            <p>\n              <b>Add Subtasks</b>\n               &nbsp;(optional)\n            </p>\n          </div>\n          <div className={styles.DescText}>\n            <p>\n              Add optional subtasks to break down your tasks into more manageable pieces.\n            </p>\n          </div>\n          <div className={styles.NewTaskModal} style={theme === 'dark' ? this.darkModeStyle : undefined}>\n            <div className={styles.SubtasksContainer}>\n              <ul className={styles.SubtasksList}>{subTasks.map(existingSubTaskEditor)}</ul>\n              <SamwiseIcon iconName=\"edit\" className={styles.EditIcon} tabIndex={-1} />\n              <input\n                className={styles.SubtaskInput}\n                type=\"text\"\n                placeholder=\"add a subtask\"\n                value=\"\"\n                onChange={this.addNewSubTask}\n                onKeyDown={this.newSubTaskKeyPress}\n                style={theme === 'dark' ? this.darkModeStyle : undefined}\n              />\n            </div>\n            <button type=\"button\" className={styles.ResetButton} onClick={this.resetTask}>\n              DISCARD TASK\n            </button>\n          </div>\n        </div>\n      </>\n    );\n  }\n\n  public render(): ReactElement {\n    const { name, opened } = this.state;\n    const toggleDisplayStyle = opened ? {} : { display: 'none' };\n    const { theme } = this.props;\n    return (\n      <div style={theme === 'dark' ? this.darkModeStyle : undefined}>\n        <div\n          onClick={this.closeNewTask}\n          role=\"presentation\"\n          className={styles.CloseNewTask}\n          style={toggleDisplayStyle}\n        />\n        <form\n          className={styles.NewTaskWrap}\n          onSubmit={this.handleSave}\n          onFocus={this.openNewTask}\n        >\n          <input\n            required\n            type=\"text\"\n            value={name}\n            onChange={this.editTaskName}\n            className={styles.NewTaskComponent}\n            placeholder={opened ? '' : PLACEHOLDER_TEXT}\n            ref={(e) => { this.addTask = e; }}\n            style={theme === 'dark' ? this.darkModeStyle : undefined}\n          />\n          {this.renderOtherInfoEditor()}\n        </form>\n      </div>\n    );\n  }\n}\n\n\nconst Connected = connect(\n  ({ settings: { theme } }: StoreState): Props => ({ theme }),\n)(GroupTaskCreator);\nexport default Connected;\n","import React, { ReactElement } from 'react';\nimport SamwiseIcon from '../../UI/SamwiseIcon';\nimport GroupTaskRow from './GroupTaskRow';\nimport styles from './index.module.css';\nimport GroupTaskCreator from '../../TaskCreator/GroupTaskCreator';\n\ntype Props = {\n  groupName: string;\n  groupMemberNames: string[];\n}\n\nconst EditGroupNameIcon = (): ReactElement => {\n  const handler = (): void => {\n    console.log('edit group');\n  };\n  return <SamwiseIcon iconName=\"pencil\" className={styles.EditGroupNameIcon} onClick={handler} />;\n};\n\nexport default ({ groupName, groupMemberNames }: Props): ReactElement => (\n  <div className={styles.RightView}>\n    <div className={styles.GroupTaskCreator}>\n      <GroupTaskCreator />\n    </div>\n\n    <div className={styles.RightView}>\n      <div>\n        <h2>{groupName}</h2>\n        <EditGroupNameIcon />\n      </div>\n      <div className={styles.GroupTaskRowContainer}>\n        {\n          groupMemberNames.map((m) => <GroupTaskRow memberName={m} key={m} />)\n        }\n      </div>\n    </div>\n  </div>\n);\n","import React, { ReactElement } from 'react';\nimport MiddleBar from './MiddleBar';\nimport RightView from './RightView';\nimport styles from './index.module.css';\n\ntype Props = {\n  groupName: string;\n}\n\nconst members = ['Darien Lopez', 'Sarah Johnson', 'Michelle Parker', 'Samwise Bear'];\n\nexport default ({ groupName }: Props): ReactElement => (\n  <div className={styles.GroupView}>\n    <MiddleBar groupMemberNames={members} />\n    <RightView\n      groupName={groupName}\n      groupMemberNames={members}\n    />\n  </div>\n);\n","import React, { useState } from 'react';\nimport SideBar from 'components/SideBar';\nimport PersonalView from 'PersonalView';\nimport GroupView from 'components/GroupView';\nimport styles from 'App.module.css';\n\ntype Views =\n  | 'personal'\n  | 'group';\n/**\n * Handles switching the view from Personal to Group\n */\nexport default (): React.ReactElement => {\n  const groups = ['CS 2110', 'CS 3110', 'INFO 3450'];\n\n  const [view, setView] = useState<Views>('personal');\n  const [group, setGroup] = useState('');\n\n  const changeView = (selectedView: Views, selectedGroup?: string | undefined): void => {\n    setView(selectedView);\n    if (selectedGroup !== undefined) {\n      setGroup(selectedGroup);\n    }\n  };\n\n  return (\n    <div className={styles.GroupScreen}>\n      <SideBar groups={groups} changeView={changeView} />\n      <div>\n        {\n          view === 'personal'\n            ? <PersonalView />\n            : <GroupView groupName={group} />\n        }\n      </div>\n    </div>\n  );\n};\n","const GK_GROUP_TASK = 'SAMWISE_GK-GROUP_TASK_ENABLED';\n\nexport const isGroupTaskEnabled = (): boolean => localStorage.getItem(GK_GROUP_TASK) === 'true';\n\nconst enableGroupTask = (): void => {\n  localStorage.setItem(GK_GROUP_TASK, 'true');\n  window.location.reload();\n};\nconst disableGroupTask = (): void => {\n  localStorage.removeItem(GK_GROUP_TASK);\n  window.location.reload();\n};\n\nconst GateKeeper = { enableGroupTask, disableGroupTask };\n\ndeclare global {\n  interface Window {\n    GateKeeper: typeof GateKeeper;\n  }\n}\n\nexport const registerGateKeeper = (): void => {\n  window.GateKeeper = GateKeeper;\n};\n","import React, { ReactElement } from 'react';\nimport ModeIndicator from 'components/UI/ModeIndicator';\nimport ViewSwitcher from 'ViewSwitcher';\nimport { ModalsContainer } from './components/Util/Modals';\nimport { isGroupTaskEnabled } from './util/gate-keeper';\nimport PersonalView from './PersonalView';\n\n/**\n * The top level app component.\n */\nconst GROUP_TASK_ENABLED: boolean = isGroupTaskEnabled();\n\nexport default function App(): ReactElement {\n  return (\n    <>\n      <ModeIndicator />\n      <ModalsContainer />\n      {\n        GROUP_TASK_ENABLED\n          ? <ViewSwitcher />\n          : <PersonalView />\n      }\n    </>\n  );\n}\n","import React, { ReactElement } from 'react';\nimport FrontendCrash from '../../../assets/error/frontendCrash.png';\n\ntype Props = { readonly children: ReactElement };\n\ntype State = { readonly hasError: boolean };\n\nexport default class ErrorBoundary extends React.PureComponent<Props, State> {\n  public readonly state: State = { hasError: false };\n\n  public static getDerivedStateFromError(): State {\n    return { hasError: true };\n  }\n\n  public componentDidCatch(error: Error | null, info: object): void {\n    // eslint-disable-next-line no-console\n    console.log({ error, info }); // necessary for error logging!\n  }\n\n  private ignoreError = (): void => this.setState({ hasError: false });\n\n  public render(): ReactElement {\n    const { children } = this.props;\n    const { hasError } = this.state;\n    if (hasError) {\n      return (\n        <div>\n          <img\n            src={FrontendCrash}\n            alt=\"Uh oh - we broke something\"\n            style={{\n              width: '100vw',\n              height: '100vh',\n              objectFit: 'cover',\n              objectPosition: 'center',\n              position: 'absolute',\n              zIndex: -1,\n              left: 0,\n              top: 0,\n            }}\n          />\n          <div style={{\n            position: 'fixed',\n            bottom: 0,\n            right: 0,\n            padding: '10px',\n            textAlign: 'right',\n            fontSize: '150%',\n          }}\n          >\n            <p>\n              Come yell at us:&nbsp;\n              <a\n                style={{ color: 'white', textDecoration: 'underline' }}\n                href=\"https://goo.gl/forms/PZUZ1Ze6kN82EmcD2\"\n              >\n                Send Feedback\n              </a>\n            </p>\n            <button type=\"button\" onClick={this.ignoreError}>\n              Click me to refresh the page. It may help.\n            </button>\n          </div>\n        </div>\n      );\n    }\n    return children;\n  }\n}\n","import { Map } from 'immutable';\nimport {\n  PatchCourses,\n  PatchSubTasks,\n  PatchTags,\n  PatchTasks,\n  PatchSettings,\n  PatchBannerMessageStatus,\n  TaskWithChildrenId,\n} from 'common/lib/types/action-types';\nimport {\n  Course,\n  Tag,\n  SubTask,\n  Settings,\n  BannerMessageStatus,\n} from 'common/lib/types/store-types';\n\nexport const patchTags = (created: Tag[], edited: Tag[], deleted: string[]): PatchTags => ({\n  type: 'PATCH_TAGS', created, edited, deleted,\n});\n\nexport const patchTasks = (\n  created: TaskWithChildrenId[],\n  edited: TaskWithChildrenId[],\n  deleted: string[],\n): PatchTasks => ({\n  type: 'PATCH_TASKS', created, edited, deleted,\n});\n\nexport const patchSubTasks = (\n  created: SubTask[], edited: SubTask[], deleted: string[],\n): PatchSubTasks => ({\n  type: 'PATCH_SUBTASKS', created, edited, deleted,\n});\n\nexport const patchSettings = (settings: Settings): PatchSettings => ({\n  type: 'PATCH_SETTINGS', settings,\n});\n\nexport const patchBannerMessageStatus = (\n  change: BannerMessageStatus,\n): PatchBannerMessageStatus => ({\n  type: 'PATCH_BANNER_MESSAGES', change,\n});\n\nexport const patchCourses = (courses: Map<string, Course[]>): PatchCourses => ({\n  type: 'PATCH_COURSES', courses,\n});\n","import { Set } from 'immutable';\nimport { TaskWithChildrenId } from 'common/lib/types/action-types';\nimport {\n  SubTask,\n  Tag,\n  Settings,\n  BannerMessageStatus,\n  RepeatingTaskMetadata,\n  Course,\n} from 'common/lib/types/store-types';\nimport buildCoursesMap from 'common/lib/util/courses-util';\nimport { ignore } from 'common/lib/util/general-util';\nimport { FirestoreSubTask, FirestoreTag, FirestoreTask } from 'common/lib/types/firestore-types';\nimport { QuerySnapshot, DocumentSnapshot } from 'common/lib/firebase/database';\nimport { database } from './db';\nimport { getAppUser } from './auth-util';\nimport {\n  patchCourses,\n  patchSettings,\n  patchSubTasks,\n  patchTags,\n  patchTasks,\n  patchBannerMessageStatus,\n} from '../store/actions';\nimport coursesJson from '../assets/json/sp20-courses-with-exams-min.json';\nimport { store } from '../store/store';\n\n// Some type alias\ntype Timestamp = firebase.firestore.Timestamp;\n\ntype UnmountCallback = () => void;\nconst listenTagsChange = (\n  email: string,\n  listener: (snapshot: QuerySnapshot) => void,\n): UnmountCallback => database.tagsCollection()\n  .where('owner', '==', email)\n  .onSnapshot(listener);\nconst listenTasksChange = (\n  email: string,\n  listener: (snapshot: QuerySnapshot) => void,\n): UnmountCallback => database.tasksCollection()\n  .where('owner', '==', email)\n  .onSnapshot(listener);\nconst listenSubTasksChange = (\n  email: string,\n  listener: (snapshot: QuerySnapshot) => void,\n): UnmountCallback => database.subTasksCollection()\n  .where('owner', '==', email)\n  .onSnapshot(listener);\nconst listenSettingsChange = (\n  email: string,\n  listener: (snapshot: DocumentSnapshot) => void,\n): UnmountCallback => database.settingsCollection()\n  .doc(email)\n  .onSnapshot(listener);\nconst listenBannerMessageChange = (\n  email: string,\n  listener: (snapshot: DocumentSnapshot) => void,\n): UnmountCallback => database.bannerMessageStatusCollection()\n  .doc(email)\n  .onSnapshot(listener);\n\nconst transformDate = (dateOrTimestamp: Date | Timestamp): Date => (\n  dateOrTimestamp instanceof Date ? dateOrTimestamp : dateOrTimestamp.toDate()\n);\n\n/**\n * Initialize listeners bind to firestore.\n */\nexport default (onFirstFetched: () => void): (() => void) => {\n  let firstTagsFetched = false;\n  let firstTasksFetched = false;\n  let firstSubTasksFetched = false;\n  let firstSettingsFetched = false;\n  let firstBannerStatusFetched = false;\n  const reportFirstFetchedIfAllFetched = (): void => {\n    if (\n      firstTagsFetched\n      && firstTasksFetched\n      && firstSubTasksFetched\n      && firstSettingsFetched\n      && firstBannerStatusFetched\n    ) {\n      onFirstFetched();\n    }\n  };\n  const ownerEmail = getAppUser().email;\n\n  const unmountTagsListener = listenTagsChange(ownerEmail, (snapshot) => {\n    const created: Tag[] = [];\n    const edited: Tag[] = [];\n    const deleted: string[] = [];\n    snapshot.docChanges().forEach((change) => {\n      const { doc } = change;\n      const { id } = doc;\n      if (change.type === 'removed') {\n        deleted.push(id);\n      } else {\n        const data = doc.data();\n        if (data === undefined) {\n          return;\n        }\n        const { owner, ...rest } = data as FirestoreTag;\n        const tag: Tag = { id, ...rest };\n        if (change.type === 'added') {\n          created.push(tag);\n        } else {\n          edited.push(tag);\n        }\n      }\n    });\n    store.dispatch(patchTags(created, edited, deleted));\n    firstTagsFetched = true;\n    reportFirstFetchedIfAllFetched();\n  });\n\n  const unmountTasksListener = listenTasksChange(ownerEmail, (snapshot) => {\n    const created: TaskWithChildrenId[] = [];\n    const edited: TaskWithChildrenId[] = [];\n    const deleted: string[] = [];\n    snapshot.docChanges().forEach((change) => {\n      const { doc } = change;\n      const { id } = doc;\n      if (change.type === 'removed') {\n        deleted.push(id);\n      } else {\n        const data = doc.data();\n        if (data === undefined) {\n          return;\n        }\n        const { owner, children: childrenArr, ...rest } = data as FirestoreTask;\n        const children = Set(childrenArr);\n        const taskCommon = { id, children: children.toArray() };\n        let task: TaskWithChildrenId;\n        if (rest.type === 'ONE_TIME') {\n          const { type, date: timestamp, icalUID, ...oneTimeTaskRest } = rest;\n          const date = transformDate(timestamp);\n          task = { ...taskCommon, ...oneTimeTaskRest, metadata: { type: 'ONE_TIME', date, icalUID } };\n        } else if (rest.type === 'GROUP') {\n          const { type, date: timestamp, group, ...groupTaskRest } = rest;\n          const date = transformDate(timestamp);\n          task = { ...taskCommon, ...groupTaskRest, metadata: { type: 'GROUP', date, group } };\n        } else {\n          const { type, forks: firestoreForks, date: firestoreRepeats, ...otherTaskProps } = rest;\n          const forks = firestoreForks.map((firestoreFork) => ({\n            forkId: firestoreFork.forkId,\n            replaceDate: transformDate(firestoreFork.replaceDate),\n          }));\n          const startDate = transformDate(firestoreRepeats.startDate);\n          let endDate: Date | number;\n          if (typeof firestoreRepeats.endDate === 'number') {\n            // eslint-disable-next-line prefer-destructuring\n            endDate = firestoreRepeats.endDate;\n          } else {\n            endDate = transformDate(firestoreRepeats.endDate);\n          }\n          const metadata: RepeatingTaskMetadata = {\n            type: 'MASTER_TEMPLATE',\n            date: { startDate, endDate, pattern: firestoreRepeats.pattern },\n            forks,\n          };\n          task = { ...taskCommon, ...otherTaskProps, metadata };\n        }\n        if (change.type === 'added') {\n          created.push(task);\n        } else {\n          edited.push(task);\n        }\n      }\n    });\n    store.dispatch(patchTasks(created, edited, deleted));\n    firstTasksFetched = true;\n    reportFirstFetchedIfAllFetched();\n  });\n\n  const unmountSubTasksListener = listenSubTasksChange(ownerEmail, (snapshot) => {\n    const created: SubTask[] = [];\n    const edited: SubTask[] = [];\n    const deleted: string[] = [];\n    snapshot.docChanges().forEach((change) => {\n      const { doc } = change;\n      const { id } = doc;\n      if (change.type === 'removed') {\n        deleted.push(id);\n      } else {\n        const data = doc.data();\n        if (data === undefined) {\n          return;\n        }\n        const { owner, ...rest } = data as FirestoreSubTask;\n        const subTask: SubTask = { id, ...rest };\n        if (change.type === 'added') {\n          created.push(subTask);\n        } else {\n          edited.push(subTask);\n        }\n      }\n    });\n    store.dispatch(patchSubTasks(created, edited, deleted));\n    firstSubTasksFetched = true;\n    reportFirstFetchedIfAllFetched();\n  });\n\n  const unmountSettingsListener = listenSettingsChange(ownerEmail, (snapshot) => {\n    if (!snapshot.exists) {\n      const newSettings: Settings = {\n        canvasCalendar: null,\n        completedOnboarding: false,\n        theme: 'light',\n      };\n      database.settingsCollection()\n        .doc(ownerEmail)\n        .set(newSettings)\n        .then(ignore);\n      return;\n    }\n    const data = snapshot.data();\n    if (data === undefined) {\n      return;\n    }\n    const { canvasCalendar, completedOnboarding, theme } = data as Settings;\n    store.dispatch(patchSettings({ canvasCalendar, completedOnboarding, theme }));\n    firstSettingsFetched = true;\n    reportFirstFetchedIfAllFetched();\n  });\n\n  const unmountBannerStatusListener = listenBannerMessageChange(ownerEmail, (snapshot) => {\n    const data = snapshot.exists ? snapshot.data() : undefined;\n    const bannerMessageStatus = (data as BannerMessageStatus) ?? {};\n    store.dispatch(patchBannerMessageStatus(bannerMessageStatus));\n    firstBannerStatusFetched = true;\n    reportFirstFetchedIfAllFetched();\n  });\n\n  store.dispatch(patchCourses(buildCoursesMap(coursesJson as Course[])));\n\n  return () => {\n    // Suppressed because it's likely that this block of code will never be run.\n    // eslint-disable-next-line no-console\n    console.log('Unmounting Listeners... This should only happen when app dies!');\n    unmountTagsListener();\n    unmountTasksListener();\n    unmountSubTasksListener();\n    unmountSettingsListener();\n    unmountBannerStatusListener();\n  };\n};\n","import { Map } from 'immutable';\n/**\n * Build a map from course id to courses.\n *\n * @param {Course[]} courses an array of courses.\n * @return {Map<number, Course[]>} the map from course id to courses.\n */\nexport default function buildCoursesMap(courses) {\n    const map = Map();\n    return map.withMutations((m) => {\n        for (let i = 0; i < courses.length; i += 1) {\n            const course = courses[i];\n            const id = `${course.courseId} ${course.subject} ${course.courseNumber}`;\n            const existingCourses = m.get(id);\n            if (existingCourses == null) {\n                m.set(id, [course]);\n            }\n            else {\n                existingCourses.push(course);\n            }\n        }\n    });\n}\n","import React, { ReactElement } from 'react';\nimport firebase from 'firebase/app';\nimport { FirebaseAuth } from 'react-firebaseui';\nimport { setGAUser } from '../../../util/ga-util';\nimport styles from './Login.module.css';\nimport { cacheAppUser, toAppUser } from '../../../firebase/auth-util';\nimport initListeners from '../../../firebase/listeners';\n\nimport dtiLogo from '../../../assets/splash/wordmark.png';\nimport screenshot from '../../../assets/splash/header_final.png';\nimport samwiseLogo from '../../../assets/splash/samwise_logo.svg';\nimport splashTopImage from '../../../assets/splash/splash_top_image.svg';\nimport splashPeakBear from '../../../assets/splash/splash_peak_bear.svg';\nimport blueCurve from '../../../assets/splash/blue.svg';\nimport splashScreenshot from '../../../assets/splash/screenshot.png';\nimport splashMidImage from '../../../assets/splash/splash_mid_image.svg';\nimport feature1 from '../../../assets/splash/feature1.svg';\nimport feature2 from '../../../assets/splash/feature2.svg';\nimport feature3 from '../../../assets/splash/feature3.svg';\nimport logoHeart from '../../../assets/splash/heart_logo.svg';\nimport logoLink from '../../../assets/splash/link_logo.svg';\n\nconst uiConfig = {\n  signInFlow: 'popup',\n  signInOptions: [\n    {\n      provider: firebase.auth.GoogleAuthProvider.PROVIDER_ID,\n      customParameters: { hd: 'cornell.edu' },\n    }],\n  signInSuccessUrl: '/',\n  callbacks: {\n    // Avoid redirects after sign-in.\n    signInSuccessWithAuthResult: () => false,\n  },\n};\n\ntype Props = { readonly appRenderer: () => ReactElement };\ntype LoginStatus = boolean | 'UNDECIDED';\n\n/**\n * The login barrier component.\n * This component will stop non-logged-in user from accessing other parts of the application.\n * It will only render the app given in a function is the user is signed in.\n *\n * @param appRenderer the function to call when the login flow finishes.\n */\nexport default function LoginBarrier({ appRenderer }: Props): ReactElement {\n  const [loginStatus, setLoginStatus] = React.useState<LoginStatus>('UNDECIDED');\n  const [loaded, setLoaded] = React.useState(false);\n\n  // Listen for auth state changes in effect hooks.\n  React.useEffect(() => {\n    firebase.auth().onAuthStateChanged((user) => {\n      toAppUser(user).then((currentUserFromFirebase) => {\n        if (currentUserFromFirebase === null) {\n          setLoginStatus(false);\n          setLoaded(false);\n          return;\n        }\n        const { email } = currentUserFromFirebase;\n        if (email.endsWith('@cornell.edu')) {\n          setGAUser(currentUserFromFirebase);\n          cacheAppUser(currentUserFromFirebase);\n          setLoginStatus(true);\n        } else {\n          const alertMessage = 'Sorry, but Samwise registration is currently restricted to Cornell students. Please login with an @cornell.edu email address';\n          firebase.auth().signOut().then(() => {\n            // eslint-disable-next-line no-alert\n            alert(alertMessage);\n            // eslint-disable-next-line no-restricted-globals\n            location.reload(false);\n          });\n        }\n      });\n    });\n  }, [loginStatus]);\n\n  // The effect of loading data when login finishes\n  React.useEffect(() => {\n    if (loginStatus !== true) {\n      return () => {};\n    }\n    if (!loaded) {\n      initListeners(() => setLoaded(true));\n    }\n    return () => {};\n  }, [loginStatus, loaded]);\n\n  if (loaded) {\n    // It will be loaded only if the user is signed in, so we can render!\n    return appRenderer();\n  }\n\n  const loginScreen = (\n    <div className={styles.Landing}>\n      <header>\n        <img src={samwiseLogo} alt=\"Samwise\" />\n      </header>\n      <div className={styles.LandingHeroWrap}>\n        <h1>\n          Stop Worrying.\n          <br />\n          Start Doing.\n        </h1>\n        <img src={splashTopImage} alt=\"\" />\n        <div className={styles.LandingHeroLogin}>\n          <img src={splashPeakBear} alt=\"\" />\n          <FirebaseAuth uiConfig={uiConfig} firebaseAuth={firebase.auth()} />\n        </div>\n      </div>\n      <div className={styles.LandingLower}>\n        <img src={blueCurve} className={styles.LandingBlue} alt=\"\" />\n        <img src={splashScreenshot} className={styles.LandingScreenshot} alt=\"Screenshot of the Samwise app interface\" />\n        <h2>\n          Samwise is a task manager for Cornell students who\n          {' '}\n          <span>put in work.</span>\n        </h2>\n        <img src={splashMidImage} alt=\"\" className={styles.LandingMidImg} />\n        <div>\n          <img src={feature1} className={styles.LandingFeatures} alt=\"Take control of your schedule\" />\n          <img src={feature2} className={styles.LandingFeatures} alt=\"Your workload, visualized\" />\n          <img src={feature3} className={styles.LandingFeatures} alt=\"Create actionable (sub)tasks\" />\n        </div>\n        <footer>\n          <p>\n            Made by DTI\n            {' '}\n            <img src={logoHeart} alt=\"with love\" />\n          </p>\n          <p>\n            <a href=\"https://cornelldti.org\">\n              Cornell Design &amp; Tech Initiative\n              {' '}\n              <img src={logoLink} alt=\"external link\" />\n            </a>\n          </p>\n        </footer>\n      </div>\n    </div>\n  );\n\n  const loadingScreen = (\n    <div className={styles.Login}>\n      <section className={styles.LoginSection}>\n        <div>\n          <h1>Samwise</h1>\n          <p>A Student Planner for Everyone</p>\n          <h3>Loading...</h3>\n        </div>\n      </section>\n      <div className={styles.LoginWrapper}>\n        <img src={screenshot} alt=\"Samwise screenshot\" />\n      </div>\n      <footer className={styles.LoginFooter}>\n        <a href=\"https://cornelldti.org\">\n          <img\n            src={dtiLogo}\n            alt=\"Cornell DTI\"\n          />\n        </a>\n      </footer>\n    </div>\n  );\n\n  return loginStatus === false ? loginScreen : loadingScreen;\n}\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost'\n    // [::1] is the IPv6 localhost address.\n    || window.location.hostname === '[::1]'\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    || window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/,\n    ),\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config): void {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\n      window.location.href,\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        // eslint-disable-next-line no-use-before-define, @typescript-eslint/no-use-before-define\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          // eslint-disable-next-line no-console\n          console.log(\n            'This web app is being served cache-first by a service '\n              + 'worker. To learn more, visit https://bit.ly/CRA-PWA',\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        // eslint-disable-next-line no-use-before-define, @typescript-eslint/no-use-before-define\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config): void {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      // eslint-disable-next-line no-param-reassign\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              // eslint-disable-next-line no-console\n              console.log(\n                'New content is available and will be used when all '\n                  + 'tabs for this page are closed. See https://bit.ly/CRA-PWA.',\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              // eslint-disable-next-line no-console\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      // eslint-disable-next-line no-console\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config): void {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404\n        || (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      // eslint-disable-next-line no-console\n      console.log(\n        'No internet connection found. App is running in offline mode.',\n      );\n    });\n}\n\nexport function unregister(): void {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then((registration) => {\n      registration.unregister();\n    });\n  }\n}\n","import React, { ReactElement } from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport { error } from 'common/lib/util/general-util';\nimport { Provider as ReactReduxProvider } from './store';\nimport App from './App';\nimport './firebase'; // import and init firebase\nimport ErrorBoundary from './components/Util/ErrorBoundary';\nimport LoginBarrier from './components/Util/AppInit/LoginBarrier';\nimport { initialize as initializeGA } from './util/ga-util';\nimport { registerGateKeeper } from './util/gate-keeper';\nimport { initModal } from './components/Util/Modals';\nimport * as serviceWorker from './serviceWorker';\n\ninitializeGA();\nregisterGateKeeper();\n\nconst appRenderer = (): ReactElement => (\n  <ReactReduxProvider><App /></ReactReduxProvider>\n);\n\nconst root = document.getElementById('root') ?? error('The root is null. This is bad!');\nReactDOM.render(<ErrorBoundary><LoginBarrier appRenderer={appRenderer} /></ErrorBoundary>, root);\ninitModal();\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"TextInputModal\":\"TextInputModal_TextInputModal__mjIAI\",\"Title\":\"TextInputModal_Title__2DooU\",\"SubText\":\"TextInputModal_SubText__l5_N2\",\"TextInput\":\"TextInputModal_TextInput__1Yyfu\",\"ButtonContainer\":\"TextInputModal_ButtonContainer__3sbtp\",\"CancelButton\":\"TextInputModal_CancelButton__1cte_\",\"SubmitButton\":\"TextInputModal_SubmitButton__hboT2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Modal\":\"Modal_Modal__1Ujbl\",\"TextContainer\":\"Modal_TextContainer__3UO67\",\"ButtonContainer\":\"Modal_ButtonContainer__2IyFZ\",\"Filler\":\"Modal_Filler__1_lzc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"SideBar\":\"SideBar_SideBar__1k98U\",\"PersonalViewButton\":\"SideBar_PersonalViewButton__1Fpwe\",\"AddGroup\":\"SideBar_AddGroup__1L97G\",\"GroupIcons\":\"SideBar_GroupIcons__1KsGT\",\"PlusIcon\":\"SideBar_PlusIcon__37Ldl\",\"Links\":\"SideBar_Links__3xJWF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"FocusView\":\"FocusView_FocusView__3FKaF\",\"FocusTaskContainer\":\"FocusView_FocusTaskContainer__3IGhJ\",\"ControlBlock\":\"FocusView_ControlBlock__32HHr\",\"Title\":\"FocusView_Title__tBDV0\",\"Padding\":\"FocusView_Padding__24zgT\",\"Droppable\":\"FocusView_Droppable__3rRrd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Separator\":\"CompletedSeparator_Separator__VC0G-\",\"Text\":\"CompletedSeparator_Text__2UpC4\",\"Icon\":\"CompletedSeparator_Icon__3oe_3\",\"Inverted\":\"CompletedSeparator_Inverted__ofIDb\",\"Line\":\"CompletedSeparator_Line__1-SNS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ProgressIndicator\":\"ProgressIndicator_ProgressIndicator__1rzLx\",\"ProgressText\":\"ProgressIndicator_ProgressText__Lnp4X\",\"ProgressCountText\":\"ProgressIndicator_ProgressCountText__9Z09G\",\"ProgressOtherText\":\"ProgressIndicator_ProgressOtherText__1eTEn\",\"ProgressBarContainer\":\"ProgressIndicator_ProgressBarContainer__2OS2A\",\"ProgressBarIndicator\":\"ProgressIndicator_ProgressBarIndicator__CDu8-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"SelectTypeWrap\":\"DatePicker_SelectTypeWrap__3pQiv\",\"SelectType\":\"DatePicker_SelectType__1yXS0\",\"SubtleBtn\":\"DatePicker_SubtleBtn__2ADv5\",\"RepeatIcon\":\"DatePicker_RepeatIcon__1qB80\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Member\":\"Member_Member__8N5ww\",\"Initials\":\"Member_Initials__3nipr\",\"MemberIcon\":\"Member_MemberIcon__2f4ML\",\"Plus\":\"Member_Plus__3_j16\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"GroupTaskCreator\":\"RightView_GroupTaskCreator__2M4Aa\",\"RightView\":\"RightView_RightView__1YDoG\",\"EditGroupNameIcon\":\"RightView_EditGroupNameIcon__3uv5T\",\"GroupTaskRowContainer\":\"RightView_GroupTaskRowContainer__AW5Ho\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ColorEdit\":\"ColorEditor_ColorEdit__3BjCT\",\"ColorPicker\":\"ColorEditor_ColorPicker__3w2D7\",\"ColorDisplay\":\"ColorEditor_ColorDisplay__1p3SU\",\"Arrow\":\"ColorEditor_Arrow__1iJ8b\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"TagColorConfigItemAdder\":\"TagAdder_TagColorConfigItemAdder__1pGsu\",\"SearchClasses\":\"TagAdder_SearchClasses__1JbN9\",\"SearchInput\":\"TagAdder_SearchInput__3EZnt\",\"DropdownItem\":\"TagAdder_DropdownItem__3IHqN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"CloseButton\":\"SettingsButton_CloseButton__3Uoid\",\"ChangesSaved\":\"SettingsButton_ChangesSaved__KkOsB\",\"SettingsModal\":\"SettingsButton_SettingsModal__3RCCR\",\"SettingsButton\":\"SettingsButton_SettingsButton__3vOeh\",\"ContentWrap\":\"SettingsButton_ContentWrap__20dBn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Main\":\"Celebrate_Main__fqfoz\",\"Hidden\":\"Celebrate_Hidden__LrZzK\",\"ConfWrap\":\"Celebrate_ConfWrap__3xTSx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"CheckBox\":\"CheckBox_CheckBox__1GrIM\",\"InvertedCheckBox\":\"CheckBox_InvertedCheckBox__jZFin\",\"CheckBoxCheckMark\":\"CheckBox_CheckBoxCheckMark__14SZG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ProgressTracker\":\"ProgressTracker_ProgressTracker__1Ma80\",\"MobileView\":\"ProgressTracker_MobileView__1bYJT\",\"DesktopView\":\"ProgressTracker_DesktopView__1nKLF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Main\":\"TitleBar_Main__3xkfz\",\"Time\":\"TitleBar_Time__L3LqS\",\"Date\":\"TitleBar_Date__2oPjx\",\"Links\":\"TitleBar_Links__o3HYj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"People\":\"People_People__3ik-T\",\"AddMember\":\"People_AddMember__2IMYi\",\"LeaveGroup\":\"People_LeaveGroup__2Zbgm\",\"MemberList\":\"People_MemberList__3_t8j\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"GroupTaskRow\":\"GroupTaskRow_GroupTaskRow__2PigW\",\"Initials\":\"GroupTaskRow_Initials__AwInx\",\"AddTaskContainer\":\"GroupTaskRow_AddTaskContainer__3hg1C\",\"AddTask\":\"GroupTaskRow_AddTask__dM77m\"};"],"sourceRoot":""}